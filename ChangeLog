2010-11-05 14:40  John Beranek <jberanek@users.sourceforge.net>

	* [r1590] web/version.inc:
	  
	  * Updated version number for 1.4.5rc2 release.

2010-11-05 13:43  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1589] web/Themes/default/header.inc:
	  
	  Fixed incorrect PHP script marker

2010-11-05 12:49  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1588] ., web/Themes/default/header.inc, web/edit_entry.php,
	  web/edit_entry_handler.php, web/functions.inc, web/lang.ca,
	  web/lang.cs, web/lang.da, web/lang.de, web/lang.el, web/lang.en,
	  web/lang.es, web/lang.eu, web/lang.fi, web/lang.fr, web/lang.it,
	  web/lang.ja, web/lang.ko, web/lang.nl, web/lang.no, web/lang.pl,
	  web/lang.pt, web/lang.sl, web/lang.sv, web/lang.tr,
	  web/lang.zh-cn, web/lang.zh-tw, web/mrbs-ie.css,
	  web/mrbs.css.php, web/systemdefaults.inc.php,
	  web/upgrade/21/post.inc, web/upgrade/5/pgsql.sql:
	  
	  Merged the from_to_bookings branch back into the trunk.

2010-11-05 12:07  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1587] web/edit_users.php, web/systemdefaults.inc.php:
	  
	  Added a config variable $auth['only_admin_can_see_other_users']
	  to allow visibility of other users' details to be restricted when
	  using the 'db' authentication scheme. See SF tracker ID: 3102887.

2010-11-05 11:49  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1586] INSTALL, web/config.inc.php, web/systemdefaults.inc.php:
	  
	  Expanded the documentation on timezones. See SF tracker ID:
	  3102895

2010-11-03 14:53  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1582] web/systemdefaults.inc.php:
	  
	  Declared the empty array $is_mandatory_field to avoid warning
	  messages later on when used with array_key_exists()

2010-11-03 11:08  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1577] web/functions.inc:
	  
	  Removed any trailing decimal zeros from the duration

2010-11-02 15:10  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1571] ., UPGRADE, tables.my.sql, tables.pg.pre73.sql,
	  tables.pg.sql, web/Themes/classic126/styling.inc,
	  web/Themes/default/header.inc, web/Themes/default/styling.inc,
	  web/approve_entry_handler.php[CPY],
	  web/confirm_entry_handler.php[DEL], web/day.php, web/dbsys.inc,
	  web/edit_area_room.php, web/edit_entry.php,
	  web/edit_entry_handler.php, web/edit_users.php,
	  web/functions.inc, web/functions_mail.inc,
	  web/internalconfig.inc.php, web/lang.en, web/lang.es,
	  web/lang.fi, web/lang.fr, web/lang.it, web/lang.ja, web/lang.nl,
	  web/lang.pl, web/lang.sl, web/lang.tr, web/language.inc,
	  web/month.php, web/mrbs.css.php, web/mrbs_auth.inc,
	  web/mrbs_sql.inc, web/pending.php, web/report.php,
	  web/search.php, web/systemdefaults.inc.php, web/upgrade/17[CPY],
	  web/upgrade/17/mysql.sql[CPY], web/upgrade/17/pgsql.sql[CPY],
	  web/upgrade/17/post.inc[CPY], web/upgrade/18[CPY],
	  web/upgrade/18/mysql.sql[CPY], web/upgrade/18/pgsql.sql[CPY],
	  web/upgrade/19[CPY], web/upgrade/19/mysql.sql[CPY],
	  web/upgrade/19/pgsql.sql[CPY], web/upgrade/20[CPY],
	  web/upgrade/20/mysql.sql[CPY], web/upgrade/20/pgsql.sql[CPY],
	  web/upgrade/21[CPY], web/upgrade/21/mysql.sql[CPY],
	  web/upgrade/21/pgsql.sql[CPY], web/upgrade/21/post.inc[CPY],
	  web/upgrade/5/pgsql.sql, web/view_entry.php, web/week.php:
	  
	  Merged the provisional_bookings_new_style branch back into the
	  trunk. MRBS now has the ability to make "tentative" bookings, ie
	  bookings which are not 100% certain to happen, but where the user
	  wants to reserve the slot in the meantime.

2010-11-02 11:27  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1565] web/upgrade/15/post.inc:
	  
	  Fixed bug causing upgrade error using PostgreSQL

2010-11-01 19:32  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1561] web/functions.inc:
	  
	  Added a check to see that $timezone is set to a valid timezone
	  identifier

2010-10-31 08:16  John Beranek <jberanek@users.sourceforge.net>

	* [r1560] web/mrbs_sql.inc:
	  
	  * Fixed confirmation of bookings for people using the Postgresql
	  backend. Postgresql doesn't accept LIMIT in UPDATE statements.

2010-10-31 08:14  John Beranek <jberanek@users.sourceforge.net>

	* [r1559] web/upgrade/15/pgsql.sql:
	  
	  * Fix for a NULL upgrade, Postgresql doesn't like an SQL file
	  with no query.

2010-10-26 14:22  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1555] web/edit_area_room.php:
	  
	  Fixed bug whereby values might not get updated

2010-10-25 16:58  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1548] web/Themes/default/header.inc:
	  
	  Fixed JavaScript undefined object problem

2010-10-25 11:40  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1544] web/systemdefaults.inc.php:
	  
	  Added comment that $enable_periods is now settable per-area

2010-10-25 11:30  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1542] tables.my.sql, tables.pg.pre73.sql, tables.pg.sql,
	  web/Themes/default/header.inc, web/dbsys.inc,
	  web/edit_area_room.php, web/functions.inc,
	  web/internalconfig.inc.php, web/lang.en, web/mrbs-ielte7.css.php,
	  web/mrbs.css.php, web/upgrade/16[ADD],
	  web/upgrade/16/mysql.sql[ADD], web/upgrade/16/pgsql.sql[ADD],
	  web/upgrade/16/post.inc[ADD]:
	  
	  Implemented $enable_periods on a per-area basis. This means that
	  sites can now have some areas using periods and others using time
	  slots.

2010-10-23 13:10  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1541] tables.my.sql, tables.pg.pre73.sql, tables.pg.sql,
	  web/dbsys.inc, web/upgrade/15[ADD],
	  web/upgrade/15/mysql.sql[ADD], web/upgrade/15/pgsql.sql[ADD],
	  web/upgrade/15/post.inc[ADD]:
	  
	  Update the area table replacing any NULLs with the per-area
	  settings defaults. This is the second and final part of a fix to
	  a bug which caused Search and Report not to find all the results
	  that they should have done if you were not logged in as an admin.

2010-10-23 12:25  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1540] web/add.php, web/functions.inc,
	  web/internalconfig.inc.php:
	  
	  Changed Add Area so that it writes the default area settings to
	  the database rather than NULL. This is the first part of a fix to
	  a bug which caused Search and Report not to find all the results
	  that they should have done if you were not logged in as an admin.
	  (Second part will be to update existing rows in the area table
	  replacing NULLs with the area defaults).

2010-10-21 16:49  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1527] web/lang.ca, web/lang.es:
	  
	  Removed duplicate definitions ("valid_time_of_day")

2010-10-20 11:42  John Beranek <jberanek@users.sourceforge.net>

	* [r1517] web/edit_entry.php:
	  
	  * Made the new mandatory field checking Javascript code
	  compatible with IE, by using jQuery.

2010-10-19 10:40  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1515] INSTALL:
	  
	  Added documentation on making custom fields private.

2010-10-19 08:36  John Beranek <jberanek@users.sourceforge.net>

	* [r1514] INSTALL, web/edit_entry.php, web/edit_entry_handler.php,
	  web/systemdefaults.inc.php:
	  
	  * Renamed the new config array $mandatory_fields to
	  $is_mandatory_field to match the existing convention. Also added
	  some documentation of this new configuration option into
	  systemdefaults.inc.php.

2010-10-18 16:44  John Beranek <jberanek@users.sourceforge.net>

	* [r1513] web/session_cookie.inc, web/systemdefaults.inc.php:
	  
	  * Fixed accidental checkin of debug code. Documented the new
	  $auth["session_cookie"]["session_expire_time"] fucntionality in
	  systemdefaults.inc.php.

2010-10-18 16:32  John Beranek <jberanek@users.sourceforge.net>

	* [r1512] web/session_cookie.inc:
	  
	  * Added support for setting 'cookie' session scheme to use only
	  session cookies. For this set
	  $auth["session_cookie"]["session_expire_time"] to 0. Fixed token
	  checking code, so this it takes notice of this variable.

2010-10-18 16:07  John Beranek <jberanek@users.sourceforge.net>

	* [r1510] web/session_cookie.inc:
	  
	  * Fixed an unescaped / in a regular expression.

2010-10-18 16:06  John Beranek <jberanek@users.sourceforge.net>

	* [r1509] web/systemdefaults.inc.php:
	  
	  * Changed default value of $cookie_path_override to unset.

2010-10-18 15:25  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1508] web/session_php.inc:
	  
	  Reversed the order of session_name() and
	  session_set_cookie_params() for safety (see PHP manual)

2010-10-18 15:16  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1507] web/session_php.inc:
	  
	  Fixed problem which gave a warning in regular expression

2010-10-18 11:30  John Beranek <jberanek@users.sourceforge.net>

	* [r1506] INSTALL, web/edit_entry.php, web/edit_entry_handler.php,
	  web/functions.inc, web/lang.en:
	  
	  * Added the ability to make a custom entry field mandatory.
	  Introduces the config variable $mandatory_fields.
	  
	  * Documented $select_options and $mandatory_fields in INSTALL.

2010-10-15 16:09  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1504] web/functions_mail.inc:
	  
	  Fixed problem with internationalisation of email notifications

2010-10-15 09:44  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1501] web/edit_area_room.php, web/functions_mail.inc,
	  web/lang.en, web/mrbs.css.php:
	  
	  - Made the area and room admin email address boxes textareas -
	  Allowed newlines to be used as address separators as well as
	  commas - Added a title tooltip explaining this - Made formatting
	  of textareas consistent in the edit_area_room page

2010-10-14 17:04  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1499] web/Themes/default/header.inc:
	  
	  Improved the localisation of the datepicker calendar so that if
	  the broswer language is set to xx-YY, MRBS will try and use the
	  datepicker xx localisation if there isn't one for xx-YY.

2010-10-13 07:46  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1495] web/mrbs-ie8.css, web/mrbs.css.php:
	  
	  Fixed a problem with the formatting of radio button labels on the
	  edit area page in IE8.

2010-10-08 09:28  John Beranek <jberanek@users.sourceforge.net>

	* [r1490] ChangeLog, NEWS:
	  
	  * Updated NEWS and ChangeLog for 1.4.5rc1 release.

2010-10-08 09:05  John Beranek <jberanek@users.sourceforge.net>

	* [r1489] web/version.inc:
	  
	  * Updated version number for 1.4.5rc1 release.

2010-10-06 14:59  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1487] web/edit_entry.php, web/functions.inc, web/month.php,
	  web/mrbs_sql.inc, web/systemdefaults.inc.php, web/view_entry.php:
	  
	  Added the ability to choose which fields in the entry table
	  should be regarded as private. Controlled by an array
	  $is_private_field in the config file, indexed by
	  tablename.columnname.

2010-10-05 07:45  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1485] web/search.php:
	  
	  Fixed bug which caused Previous and Next links in search results
	  not to work properly if the search start date was not the same as
	  today's date.

2010-09-30 13:16  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1483] web/add.php, web/lang.en:
	  
	  Fixed bug which allowed rooms and areas to be created with no
	  name.

2010-09-30 13:04  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1482] web/admin.php, web/edit_users.php:
	  
	  Fixed bug whereby special characters in custom fields were being
	  truncated in the middle of an HTML entity.

2010-09-30 12:11  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1481] web/edit_area_room.php, web/edit_entry.php,
	  web/edit_entry_handler.php, web/edit_users.php,
	  web/internalconfig.inc.php:
	  
	  Simplified code by getting rid of magic prefix for custom fields
	  and replacing it with a constant.

2010-09-30 11:44  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1480] web/edit_area_room.php, web/edit_entry.php,
	  web/edit_users.php, web/functions.inc, web/mrbs_sql.inc,
	  web/systemdefaults.inc.php:
	  
	  Extended $select_options (ie constraining fields to a set of
	  pre-defined values) to custom fields in the users table

2010-09-30 10:05  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1479] INSTALL:
	  
	  Added note imposing a restriction on custom field names, together
	  with an explanation. (The restriction is to names consisting of
	  letters, numbers and underscores)

2010-09-24 17:44  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1477] web/day.php, web/functions.inc,
	  web/images/repeat.png[ADD], web/month.php, web/mrbs.css.php,
	  web/week.php:
	  
	  Added a repeat symbol to the display of series on the day, week
	  and month views.

2010-09-24 10:52  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1475] web/lang.pt:
	  
	  Fixed spelling error

2010-09-24 10:03  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1474] web/edit_users.php, web/mrbs.css.php:
	  
	  Fixed a problem with the positioning of the "last admin" warning
	  message

2010-09-23 15:46  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1472] web/jquery/ui/jquery-ui-datepicker-pt.js:
	  
	  Set the default setting to 'pt' instead of 'pt-BR'

2010-09-23 15:28  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1471] web/Themes/default/header.inc,
	  web/jquery/ui/jquery-ui-datepicker-pt.js[ADD]:
	  
	  Added a Portuguese localisation for the datepicker pop-up
	  calendar. (The standard package just has a Portuguese-Brazilian
	  localisation. I am submitting the Portuguese version to the
	  datepicker team).

2010-09-23 10:09  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1466] web/functions.inc:
	  
	  Limited any floating point durations in email notifications and
	  view_entry to 3 decimal places (previously there could be 11
	  decimal places)

2010-09-23 09:50  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1465] web/edit_entry_handler.php, web/functions.inc:
	  
	  Fixed a problem whereby email notifications reported the
	  originally requested duration, rather than the actual duration
	  after adjusting the request to fit into slot boundaries. This was
	  potentially confusing as the duration in the email notification
	  would differ from (a) the details in view_entry and (b) the
	  details in the delete notification when the same booking was
	  deleted.

2010-09-22 12:54  John Beranek <jberanek@users.sourceforge.net>

	* [r1463] web/mrbs.css.php:
	  
	  * Made banner date field a little wider, it didn't fit
	  "22/09/2010" for me.

2010-09-21 08:13  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1462] web/day.php, web/lang.en, web/month.php,
	  web/mrbs.css.php, web/systemdefaults.inc.php, web/week.php:
	  
	  Added an optional display of the timezone to the day view. See SF
	  Feature Requests item #3065070

2010-09-20 14:13  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1461] INSTALL, web/systemdefaults.inc.php:
	  
	  Added information on inserting new periods in an existing system.

2010-09-20 09:07  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1458] web/edit_entry.php:
	  
	  Fixed a bug which caused in some browsers (eg IE) the error
	  message "You have not entered a Brief Description" when using
	  select boxes.

2010-09-17 15:28  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1457] web/edit_entry.php, web/systemdefaults.inc.php:
	  
	  Added the ability to constrain certain fields (name, description
	  and custom fields) in the entry table to a set of values defined
	  in the config file.

2010-09-17 08:28  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1455] INSTALL, web/config.inc.php:
	  
	  Changed link to list of supported timezones to remove the
	  assumption of English.

2010-09-06 23:27  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1448] web/edit_entry.php:
	  
	  Changed form method from "get" to "post" to avoid long URLs (even
	  more important now with custom fields)

2010-09-05 13:42  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1446] web/del_entry.php:
	  
	  Fixed bug whereby it was possible for delete notification emails
	  to be sent even though they hadn't been requested.

2010-09-05 13:33  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1445] web/edit_area_room.php:
	  
	  Moved the Custom HTML section into the General Settings fieldset.

2010-09-05 12:30  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1443] web/internalconfig.inc.php:
	  
	  Tidied up $area_defaults

2010-09-05 12:17  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1442] web/lang.en:
	  
	  Added advice to backup the database before upgrading.

2010-09-02 13:59  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1439] web/upgrade/8/pgsql.sql:
	  
	  - Added a table prefix to PostgreSQL index name to make it
	  unique. - Fixed a bug which would have resulted in a failure to
	  upgrade if using PostgreSQL and other than the default table
	  prefix

2010-09-02 13:35  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1438] web/edit_area_room.php:
	  
	  Tidied up the code (no actual bug, but the conversion of one
	  variable from a boolean to an int was missing as part of a
	  defensive measure necessary for PostgreSQL)

2010-09-02 13:08  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1437] tables.pg.pre73.sql, tables.pg.sql:
	  
	  Added a table prefix to PostgreSQL index names to make them
	  unique.

2010-09-01 13:36  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1432] web/systemdefaults.inc.php:
	  
	  Changed the comments associated with the $private_default config
	  variable to reflect the way the code actually works and,
	  presumably, the way it was intended to work. (Previously if you
	  set $private_enabled to FALSE and $private_default to TRUE then
	  the comments indicated that all new bookings would be marked as
	  private. But this isn't the way the code works, and if you wanted
	  to achieve that you could do it by setting $private_mandatory to
	  TRUE).

2010-08-31 14:17  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1428] web/Themes/default/header.inc, web/add.php,
	  web/defaultincludes.inc, web/internalconfig.inc.php,
	  web/pending.php:
	  
	  - Fixed bug whereby the default area settings (eg
	  $provisional_enabled) were not being picked up properly - Fixed
	  bug whereby new areas were being created with the incorrect
	  default privacy settings

2010-08-29 08:54  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1427] INSTALL:
	  
	  Updated the installation instructions to include more details on
	  how to install MRBS on a remote web server.

2010-08-27 16:06  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1426] web/del_entry.php:
	  
	  Fixed a bug which gave an "Invalid series ID" message if you
	  tried to delete a series and email notifications were turned on.

2010-08-27 11:46  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1425] web/functions_mail.inc:
	  
	  Fixed bug which occurred in email notifications when the browser
	  language was different to the email language: email notifications
	  would show a change to the duration simply because the new and
	  previous durations were in different languages.

2010-08-26 15:47  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1424] web/edit_entry.php:
	  
	  Added missing break statement. No effect on MRBS functionality.

2010-08-25 14:52  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1422] web/mrbs_sql.inc:
	  
	  Corrected spelling error in a comment

2010-08-25 14:48  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1421] web/mrbs_sql.inc:
	  
	  - Fixed bug which showed up when trying to accept a provisional
	  repeat booking - Simplified the code

2010-08-25 10:44  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1420] web/Themes/default/header.inc, web/language.inc:
	  
	  Made datepicker respect $override_locale if possible

2010-08-24 13:56  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1419] web/systemdefaults.inc.php:
	  
	  Expanded the comments on min/max book_ahead for periods.

2010-08-24 07:42  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1418] web/mrbs_sql.inc:
	  
	  Fixed bug that caused the message "Fatal error: Column 'rep_opt'
	  specified twice" when making weekly and n-weekly repeat bookings.
	  See SF Tracker ID: 3050845.

2010-08-19 17:01  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1417] ., web/Themes/default/header.inc, web/edit_entry.php,
	  web/edit_entry_handler.php, web/functions.inc, web/jquery[CPY],
	  web/jquery/jquery-1.4.2.min.js[CPY], web/jquery/ui[CPY],
	  web/jquery/ui/css[CPY], web/jquery/ui/css/sunny[CPY],
	  web/jquery/ui/css/sunny/images[CPY],
	  web/jquery/ui/css/sunny/images/ui-bg_diagonals-medium_20_d34d17_40x40.png[CPY],
	  web/jquery/ui/css/sunny/images/ui-bg_flat_30_cccccc_40x100.png[CPY],
	  web/jquery/ui/css/sunny/images/ui-bg_flat_50_5c5c5c_40x100.png[CPY],
	  web/jquery/ui/css/sunny/images/ui-bg_gloss-wave_45_817865_500x100.png[CPY],
	  web/jquery/ui/css/sunny/images/ui-bg_gloss-wave_60_fece2f_500x100.png[CPY],
	  web/jquery/ui/css/sunny/images/ui-bg_gloss-wave_70_ffdd57_500x100.png[CPY],
	  web/jquery/ui/css/sunny/images/ui-bg_gloss-wave_90_fff9e5_500x100.png[CPY],
	  web/jquery/ui/css/sunny/images/ui-bg_highlight-soft_100_feeebd_1x100.png[CPY],
	  web/jquery/ui/css/sunny/images/ui-bg_inset-soft_30_ffffff_1x100.png[CPY],
	  web/jquery/ui/css/sunny/images/ui-icons_3d3d3d_256x240.png[CPY],
	  web/jquery/ui/css/sunny/images/ui-icons_bd7b00_256x240.png[CPY],
	  web/jquery/ui/css/sunny/images/ui-icons_d19405_256x240.png[CPY],
	  web/jquery/ui/css/sunny/images/ui-icons_eb990f_256x240.png[CPY],
	  web/jquery/ui/css/sunny/images/ui-icons_ed9f26_256x240.png[CPY],
	  web/jquery/ui/css/sunny/images/ui-icons_fadc7a_256x240.png[CPY],
	  web/jquery/ui/css/sunny/images/ui-icons_ffe180_256x240.png[CPY],
	  web/jquery/ui/css/sunny/jquery-ui-1.8.4.custom.css[CPY],
	  web/jquery/ui/jquery-ui-1.8.4.custom.min.js[CPY],
	  web/jquery/ui/jquery-ui-i18n.js[CPY], web/mrbs.css.php,
	  web/report.php, web/search.php, web/style.inc,
	  web/upgrade/5/pgsql.sql:
	  
	  Merged datepicker branch (pop-up calendars) back into the trunk.

2010-08-10 21:30  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1408] web/standard_vars.inc.php:
	  
	  Fixed potential bug that might occur in some abnormal
	  circumstances.

2010-08-06 15:04  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1406] web/dbsys.inc:
	  
	  Added a check that the entry table exists before commencing an
	  upgrade, just in case this is a new installation and the database
	  tables haven't even been created. (See SF Support Requests item
	  #3039589).

2010-08-06 11:11  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1405] web/mrbs.css.php:
	  
	  Fixed a problem with the positioning of the password policy error
	  list

2010-08-06 09:32  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1404] web/edit_area_room.php:
	  
	  Extended edit_area_room.php so that it can cope with non-nullable
	  custom fields properly

2010-08-06 08:53  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1403] web/edit_users.php:
	  
	  - Fixed previous fix (Rev 1402) properly - Extended edit_users so
	  that it can cope with non-nullable custom fields

2010-08-06 08:48  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1402] web/edit_users.php:
	  
	  Fixed bug whereby empty integer custom fields were not being
	  properly handled.

2010-08-06 08:39  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1401] web/edit_users.php:
	  
	  Fixed bug which meant that the SQL error message wasn't always
	  displayed.

2010-07-28 12:36  John Beranek <jberanek@users.sourceforge.net>

	* [r1400] web/functions.inc, web/mrbs-ielte7.css.php,
	  web/mrbs-js-overrides.css.php, web/mrbs-print.css.php,
	  web/mrbs.css.php:
	  
	  * Added 30 minute expiry to generated CSS files.

2010-07-27 21:07  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1399] web/edit_entry.php, web/view_entry.php:
	  
	  Simplified code dealing with custom fields

2010-07-27 11:57  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1398] web/mysqli.inc:
	  
	  Added the 'is_nullable' property to sql_mysqli_field_info() -
	  forgotten at Rev 1395.

2010-07-27 11:27  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1397] ., INSTALL, tables.my.sql, tables.pg.pre73.sql,
	  tables.pg.sql, web/dbsys.inc, web/defaultincludes.inc,
	  web/edit_entry.php, web/edit_entry_handler.php,
	  web/functions_mail.inc, web/internalconfig.inc.php[CPY],
	  web/lang.en, web/mrbs.css.php, web/mrbs_sql.inc, web/mysql.inc,
	  web/pgsql.inc, web/report.php, web/search.php,
	  web/systemdefaults.inc.php, web/upgrade/5/pgsql.sql,
	  web/view_entry.php:
	  
	  Merged the custom_entry_fields branch back into the trunk. MRBS
	  now recognises custom fields added to the entry and repeat
	  tables. As well as the edit_entry and view_entry pages, the
	  Report and Search pages and email notifications now support
	  custom fields.

2010-07-26 11:15  John Beranek <jberanek@users.sourceforge.net>

	* [r1389] web/config.inc.php:
	  
	  * Reverted inadvertant commit of local config.inc.php changes

2010-07-26 11:12  John Beranek <jberanek@users.sourceforge.net>

	* [r1388] web/config.inc.php, web/lang.cs, web/lang.fr:
	  
	  * Czech language update supplied by Marek Grac in SF #2800173

2010-07-14 12:23  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1373] web/pending.php:
	  
	  Fixed bug whereby the reminder settings (reminders_enabled and
	  reminder_interval) were being ignored in pending.php

2010-07-14 12:11  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1372] web/admin.php, web/edit_area_room.php:
	  
	  Fixed bug which meant that it was impossible to get to the form
	  that allows you to edit area details. (Bug introduced as part of
	  an incorrect fix in Rev 1369, which was an attempt to fix a
	  problem introduced in Rev 1364)

2010-07-14 10:51  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1371] web/functions.inc, web/mrbs_sql.inc, web/view_entry.php:
	  
	  - Fixed a bug which was resulting in an SQL error if you logged
	  out of MRBS when the More Info page was displayed - Made
	  view_entry more robust by checking that an id variable exists -
	  Fixed a bug in the fatal error handling whereby some global
	  variables had not been declared resulting in undefined variable
	  problems.

2010-07-14 10:08  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1370] tables.my.sql, tables.pg.pre73.sql, tables.pg.sql,
	  web/confirm_entry_handler.php, web/dbsys.inc, web/lang.en,
	  web/mrbs_sql.inc, web/pending.php, web/upgrade/14[ADD],
	  web/upgrade/14/mysql.sql[ADD], web/upgrade/14/pgsql.sql[ADD],
	  web/view_entry.php:
	  
	  Preserved the details of the last More Info request in
	  provisional bookings to avoid admins bombarding users with
	  requests for more info. The details are displayed as a title
	  tooltip on the More Info button.

2010-07-01 15:35  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1369] web/edit_area_room.php:
	  
	  Fixed bug that resulted in an "Access Denied" message for
	  ordinary users when viewing room information. Bug introduced as a
	  result of the Rev 1364 changes.

2010-07-01 14:35  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1368] web/index.php:
	  
	  Removed redundant setting of $room and $area.

2010-07-01 14:14  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1367] web/week.php:
	  
	  Removed a redundant call to get_default_room()

2010-07-01 14:06  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1366] web/functions.inc:
	  
	  Modified the function get_default_room() so that if $default_room
	  is in the area, then it returns $default_room, otherwise it
	  returns the first room , by sortkey order, in the area.

2010-07-01 13:39  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1365] web/functions.inc:
	  
	  Modified the function get_default_area() so that it first tries
	  to return the area corresponding to the $default_room if it is
	  set and exists. Only if that fails will it return the first area
	  by alphabetical order of areaname. (Also fixed the comments to
	  reflect the fact that it is returning the first area by name,
	  rather than id).

2010-07-01 13:12  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1364] web/add.php, web/admin.php,
	  web/confirm_entry_handler.php, web/day.php,
	  web/defaultincludes.inc, web/del.php, web/del_entry.php,
	  web/edit_area_room.php, web/edit_entry.php,
	  web/edit_entry_handler.php, web/edit_users.php, web/help.php,
	  web/index.php, web/month.php, web/pending.php, web/report.php,
	  web/search.php, web/session_cookie.inc, web/session_php.inc,
	  web/standard_vars.inc.php[ADD], web/view_entry.php, web/week.php:
	  
	  Removed the getting of the standard variables $day, $month,
	  $year, $area and $room together with the setting of sensible
	  defaults into a new include file, standard_vars.inc.php.

2010-06-29 21:48  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1363] web/add.php, web/admin.php,
	  web/confirm_entry_handler.php, web/day.php, web/del.php,
	  web/del_entry.php, web/edit_area_room.php, web/edit_entry.php,
	  web/edit_entry_handler.php, web/edit_users.php, web/help.php,
	  web/month.php, web/mrbs_auth.inc, web/pending.php,
	  web/report.php, web/search.php, web/systemdefaults.inc.php,
	  web/view_entry.php, web/week.php:
	  
	  Made it possible to deny public access to MRBS by setting a
	  single config variable (in response to multiple requests from the
	  mailing list).

2010-06-29 21:42  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1362] web/report.php:
	  
	  Fixed bug which caused area private_override settings to be
	  ignored in reports. (The default global private_override setting
	  from the config file was being used to determine whether a user
	  was allowed access to the report page. This is unnecessary as
	  individual area settings are used by the SQL query to determine
	  whether bookings should be shown in report results).

2010-06-29 21:08  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1361] web/week.php:
	  
	  Fixed undefined index problem, which could cause problems in some
	  circumstances with the display of private bookings.

2010-06-29 20:32  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1360] web/search.php:
	  
	  Fixed bug which caused area private_override settings to be
	  ignored in searches. (The default global private_override setting
	  from the config file was being used to determine whether a user
	  was allowed access to the search page. This is unnecessary as
	  individual area settings are used by the SQL query to determine
	  whether bookings should be shown in search results).

2010-06-18 07:54  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1359] web/edit_entry.php:
	  
	  Fix for bug reported by Steven Stringham in the mailing list: a
	  booking of 1 year is shown as a booking of 1 minute in the
	  edit_entry form.

2010-06-15 15:30  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1358] web/mrbs_sql.inc:
	  
	  Slightly improved fix for previous problem (Rev 1357)

2010-06-15 11:04  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1357] web/del_entry.php, web/mrbs_sql.inc,
	  web/systemdefaults.inc.php:
	  
	  Fixed a bug which meant that ordinary users were able to delete
	  bookings made in the past even though the booking policy said
	  that they couldn't. (The booking policy was only being applied to
	  the creation or modification of entries but not to their
	  deletion).

2010-06-08 15:39  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1356] web/edit_entry.php, web/mrbs.css.php:
	  
	  Clarified the edit_entry form slightly by adding a thin
	  horizontal line between the repeat section and the rest of the
	  form. Can be disabled in the CSS. See SF Feature Request ID
	  3011370.

2010-06-08 11:11  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1355] web/Mail/mail.php, web/Mail/sendmail.php,
	  web/edit_entry_handler.php, web/functions.inc, web/language.inc,
	  web/mrbs.css.php, web/xbLib.js:
	  
	  Replaced with spaces some tabs that had crept in due to a
	  misconfigured editor.

2010-06-08 10:28  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1354] web/confirm_entry_handler.php,
	  web/edit_entry_handler.php, web/language.inc:
	  
	  - fixed a bug whereby the $mail_vocab would not be set if the
	  only person set to receive emails was
	  $mail_settings['book_admin_on_provisional'] - tidied up the tests
	  for whether an email is necessary

2010-06-02 20:42  John Beranek <jberanek@users.sourceforge.net>

	* [r1353] convert_db_to_utf8.php:
	  
	  * Fixed/improved convert_db_to_utf8.php based on changes provided
	  in SF tracker #3010397.

2010-05-27 20:01  John Beranek <jberanek@users.sourceforge.net>

	* [r1352] web/lang.ja:
	  
	  * Japanese translation update from Takanori MATSUURA in SF
	  tracker #2939298.

2010-05-27 06:14  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1351] INSTALL, web/config.inc.php:
	  
	  Made it clearer in the comments and the installation
	  documentation that the $timezone line in the config file must be
	  uncommented by removing the initial '//'.

2010-04-25 20:31  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1350] web/edit_entry.php, web/edit_entry_handler.php,
	  web/month.php, web/mrbs_sql.inc, web/view_entry.php,
	  web/week.php:
	  
	  Added "LIMIT 1" where appropriate to SQL queries to improve
	  performance.

2010-04-22 21:29  John Beranek <jberanek@users.sourceforge.net>

	* [r1349] web/dbsys.inc:
	  
	  * Corrected the abstract sql_error() call, so that it passes on
	  the optional DB handle.

2010-04-22 20:20  John Beranek <jberanek@users.sourceforge.net>

	* [r1348] web/version.inc:
	  
	  * Updated version number post-release.

2010-04-22 20:13  John Beranek <jberanek@users.sourceforge.net>

	* [r1345] ChangeLog, NEWS:
	  
	  * Updated NEWS and ChangeLog for 1.4.4.1 release.

2010-04-22 20:10  John Beranek <jberanek@users.sourceforge.net>

	* [r1344] web/version.inc:
	  
	  * Up version for 1.4.4.1 release.

2010-04-22 16:36  John Beranek <jberanek@users.sourceforge.net>

	* [r1343] tables.my.sql, tables.pg.pre73.sql, tables.pg.sql:
	  
	  * Corrected DB schema version. :(

2010-04-21 22:32  John Beranek <jberanek@users.sourceforge.net>

	* [r1342] web/version.inc:
	  
	  * Update version number post-release.

2010-04-21 15:30  John Beranek <jberanek@users.sourceforge.net>

	* [r1337] ChangeLog, NEWS:
	  
	  * Updated NEWS and ChangeLog for 1.4.4 release.

2010-04-21 09:53  John Beranek <jberanek@users.sourceforge.net>

	* [r1336] web/config.inc.php:
	  
	  Reverted inadvertent change to config.inc.php

2010-04-21 09:52  John Beranek <jberanek@users.sourceforge.net>

	* [r1335] web/config.inc.php, web/version.inc:
	  
	  Updated version number for release

2010-04-21 09:51  John Beranek <jberanek@users.sourceforge.net>

	* [r1334] web/mysql.inc, web/mysqli.inc, web/pgsql.inc:
	  
	  Added transaction support to MySQL DB abstractions

2010-04-21 08:46  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1333] INSTALL, UPGRADE:
	  
	  Updated the Install and Upgrade instructions.

2010-04-20 21:38  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1332] INSTALL, tables.pg.73and_above.sql[DEL],
	  tables.pg.pre73.sql[CPY], tables.pg.sql[CPY],
	  web/systemdefaults.inc.php:
	  
	  - Tidied up and updated the INSTALL information; tried to avoid
	  duplication of information between INSTALL and
	  systemdefaults.inc.php - Renamed the tables.pg sql files so that
	  tables.pg.sql is the file to use for the latest version of
	  PostgreSQL

2010-04-20 20:16  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1331] web/systemdefaults.inc.php:
	  
	  Tried to improve the layout of the email configuration settings
	  to make it slightly clearer how to configure email.

2010-04-20 19:16  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1330] web/edit_entry.php:
	  
	  Added some comments following Rev 1329

2010-04-15 23:21  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1329] web/edit_entry.php:
	  
	  Fixed bug which was preventing individual members of a series
	  being edited (bug introduced in Rev 1297).

2010-04-15 15:12  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1328] web/auth_db.inc:
	  
	  Added a "LIMIT 1" to an SQL query to improve performance

2010-04-15 15:09  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1327] web/auth_db.inc:
	  
	  Added missing SQL escaping

2010-04-15 13:59  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1326] web/pending.php:
	  
	  Fixed incorrect keyword property

2010-04-15 13:56  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1325] web/pending.php:
	  
	  Fixed another problem with provisional bookings. (The problem
	  doesn't affect standard MRBS, but becomes apparent if you try and
	  extend MRBS using the concept of room admins who can approve
	  bookings for certain rooms).

2010-04-15 13:12  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1324] web/mrbs_auth.inc:
	  
	  Fixed a problem with provisional bookings. (The problem doesn't
	  affect standard MRBS, but becomes apparent if you try and extend
	  MRBS using the concept of room admins who can approve bookings
	  for certain rooms).

2010-04-14 22:06  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1323] web/pending.php, web/systemdefaults.inc.php:
	  
	  Fixed two bugs to do with provisional bookings: (1) Reminder
	  interval was being ignored in pending.php (2) Comment did not
	  match default reminder interval in systemdefaults.inc.php

2010-04-14 19:57  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1322] web/mrbs.css.php:
	  
	  Very minor change to formatting of day/week/month pages

2010-04-09 18:12  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1321] web/mrbs.css.php:
	  
	  Fixed a minor formatting problem on the edit_area_room page.

2010-04-09 10:14  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1320] web/systemdefaults.inc.php:
	  
	  Updated comments (forgot to do this in the last revision).

2010-04-09 09:57  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1319] tables.my.sql, tables.pg.73and_above.sql, tables.pg.sql,
	  web/Themes/default/header.inc, web/dbsys.inc,
	  web/edit_area_room.php, web/functions.inc, web/lang.en,
	  web/pending.php, web/upgrade/13[ADD],
	  web/upgrade/13/mysql.sql[ADD], web/upgrade/13/pgsql.sql[ADD],
	  web/upgrade/13/post.inc[ADD]:
	  
	  Allowed provisional bookings to be enabled on a per-area basis.

2010-04-08 09:10  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1318] INSTALL:
	  
	  Updated installation instructions with details of how to add
	  columns to the room and users tables.

2010-03-31 08:10  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1317] web/functions.inc:
	  
	  Added a check to see if $timezone has been set. If not, MRBS
	  halts with a configuration error. Designed to prevent sites
	  running into possible DST problems.

2010-03-28 17:03  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1316] tables.my.sql, tables.pg.73and_above.sql, tables.pg.sql:
	  
	  Updated installation SQL to reflect the recent addition of the
	  custom_html field

2010-03-28 12:42  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1315] web/mrbs-ielte7.css.php:
	  
	  Minor fix to formatting of textareas in IE7 and below, which
	  don't understand margin-bottom in some circumstances.

2010-03-28 09:48  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1314] web/admin.php, web/dbsys.inc, web/edit_area_room.php,
	  web/edit_users.php, web/lang.en, web/mrbs-ie.css,
	  web/mrbs-ielte7.css.php, web/mrbs.css.php, web/upgrade/12[ADD],
	  web/upgrade/12/mysql.sql[ADD], web/upgrade/12/pgsql.sql[ADD]:
	  
	  - added custom_html fields to the area and room tables. The HTML
	  is displayed in a div with id "custom_html" on the Rooms and
	  edit_area_room pages. The div can be styled and positioned using
	  CSS. Useful, for example, for displaying an embedded Google map
	  showing the location of a room or area. See also Sourceforge
	  feature request ID 2976404 - Fixed a bug which prevented the edit
	  and delete image buttons working with IE6 - Removed the sort_key
	  from the list of room details shown to non-admins

2010-03-23 09:52  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1313] web/functions_mail.inc:
	  
	  Removed some redundant global declarations. No functional change
	  to MRBS.

2010-03-22 16:03  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1312] web/functions_mail.inc:
	  
	  Moved code for getting area admin and room admin email addresses
	  into two functions, get_area_admin_email() and
	  get_room_admin_email(). No functional change to MRBS.

2010-03-21 22:12  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1311] web/mrbs.css.php:
	  
	  Minor adjustment to styling of textarea in edit_users form

2010-03-21 20:46  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1310] web/admin.php, web/edit_area_room.php,
	  web/edit_users.php, web/lang.ca, web/lang.cs, web/lang.da,
	  web/lang.de, web/lang.el, web/lang.en, web/lang.es, web/lang.eu,
	  web/lang.fi, web/lang.fr, web/lang.it, web/lang.ja, web/lang.ko,
	  web/lang.nl, web/lang.no, web/lang.pl, web/lang.pt, web/lang.sl,
	  web/lang.sv, web/lang.tr, web/lang.zh-cn, web/lang.zh-tw,
	  web/language.inc, web/session_cookie.inc, web/session_php.inc:
	  
	  - Standardised on a convention of using "tablename.columnname" in
	  the lang files as the tag for user defined fields added to
	  tables, where tablename is the table name stripped of the table
	  prefix. Unfortunately this means that anyone with existing user
	  defined fields in the users table will have to change the tags
	  from "user_" to "users." when they upgrade, but it does mean
	  there is now a convention for future additions. - Moved the
	  function get_loc_field_name() to the language file and
	  generalised it to cover any table

2010-03-21 18:16  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1309] web/admin.php, web/edit_area_room.php,
	  web/edit_users.php, web/mrbs-ielte6.css, web/mrbs.css.php,
	  web/systemdefaults.inc.php:
	  
	  Extended edit_users so that it can display textareas and
	  checkboxes for user defined fields, as well as just text inputs.

2010-03-21 10:38  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1308] web/admin.php, web/edit_users.php, web/mrbs.css.php:
	  
	  Brought styling of the users table and the list of outstanding
	  provisional bookings into line with the new styling for the rooms
	  table

2010-03-21 08:54  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1307] web/admin.php, web/dbsys.inc, web/edit_area_room.php,
	  web/images/check.png[ADD], web/mrbs-ielte6.css, web/mrbs.css.php,
	  web/mysql.inc, web/mysqli.inc, web/pgsql.inc:
	  
	  The room editing pages (admin.php and edit_area_room.php) will
	  now recognise user defined columns in the room table, displaying
	  them in the room editing form as appropriate. This enables
	  information about the rooms to be added to the system (eg coffee
	  machine? whiteboard? etc.). At the moment only text, varchar,
	  int, smallint and tinyint are supported, displayed as textarea,
	  text or checkbox fields as appropriate. Smaallints and tinyints
	  are assumed to be booleans and are displayed as checkboxes. Text
	  descriptions are looked for in the lang files with the tag
	  room.column_name, eg room.coffee_machine, enabling translations
	  to be provided. If not present, the column name will be used for
	  labels etc.

2010-03-19 09:40  John Beranek <jberanek@users.sourceforge.net>

	* [r1306] web/version.inc:
	  
	  * Very belatedly updated version post the 1.4.3 release

2010-03-17 09:27  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1305] web/Themes/classic126/styling.inc,
	  web/Themes/default/header.inc, web/Themes/default/styling.inc,
	  web/admin.php, web/edit_area_room.php, web/functions.inc,
	  web/images[ADD], web/images/delete.png[ADD],
	  web/images/edit.png[ADD], web/images/new.gif[ADD], web/lang.en,
	  web/month.php, web/mrbs-ie8.css, web/mrbs-ielte7.css.php,
	  web/mrbs.css.php, web/new.gif[DEL]:
	  
	  - Redesigned (and hopefully improved) the layout of the admin
	  page with a view to being able to add extra fields to the room
	  table in the future - Opened up the admin and edit_area_room
	  pages to users at level 1, who can view room details but not
	  change them - Renamed “Admin” in the header to “Rooms” - Removed
	  the browser language details from the Rooms page as they’re
	  available on the Help page - Created an images directory for
	  holding icons

2010-03-16 21:00  John Beranek <jberanek@users.sourceforge.net>

	* [r1304] web/lang.pl:
	  
	  * Removed text after closing tag, as reported in SF tracker
	  #2970638 - in fact removed the end tag altogether after learning
	  this is allowed and accepted practice.

2010-03-14 21:37  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1303] web/functions.inc, web/mrbs-js-overrides.css.php:
	  
	  - Removed the Submit button from Area and Room select forms when
	  JavaScript is enabled as they are redundant. - Minor tidy up of
	  JavaScript

2010-03-03 17:48  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1302] web/theme.inc:
	  
	  Made the error message slightly more helpful when $morningstarts,
	  $eveningends and $resolution are misconfigured.

2010-02-22 11:42  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1301] web/edit_entry.php:
	  
	  More minor tidying of the code. No functional change to MRBS.

2010-02-21 23:34  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1300] web/edit_entry.php:
	  
	  Replaced the document.writeln's with DOM compliant JavaScript,
	  and did some minor tidying up. No functional change to MRBS.

2010-02-17 23:15  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1299] web/mrbs_sql.inc:
	  
	  Fixed a bug which meant that n-weekly repeats weren't being
	  calculated properly when more than one repeat day was checked.

2010-02-17 20:59  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1298] web/edit_entry.php, web/edit_entry_handler.php,
	  web/functions_mail.inc, web/mrbs_sql.inc,
	  web/systemdefaults.inc.php, web/view_entry.php:
	  
	  Replaced magic numbers used for values of rep_type with
	  constants.

2010-02-17 17:40  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1297] web/edit_entry.php, web/edit_entry_handler.php,
	  web/systemdefaults.inc.php, web/view_entry.php:
	  
	  - Added the ability to prevent ordinary users from making repeat
	  bookings. Controlled by the configuration setting
	  $auth['only_admin_can_book_repeat'] - Fixed some minor problems
	  to do with editing repeat bookings - Tidied up the code in
	  edit_entry.php a little

2010-02-10 17:16  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1296] web/edit_entry_handler.php:
	  
	  Partially fixed a problem to do with the handling of All Day
	  bookings crossing a DST boundary. It's not a complete fix - I've
	  just made the handling mirror that of ordinary (non All Day)
	  bookings - and I decided to leave fixing it properly until the
	  Deprecated is_dst issue is tackled.

2010-02-10 16:31  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1295] web/edit_entry_handler.php, web/functions.inc:
	  
	  Fixed bug which caused the duration to be blank in email
	  notifications for bookings when "All day" was checked.

2010-02-10 12:53  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1294] web/systemdefaults.inc.php:
	  
	  Added comments to make it clearer that certain settings are
	  configurable on a per-area basis.

2010-02-08 13:08  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1293] web/functions.inc:
	  
	  Fixed bug when using periods which meant that if you made a
	  booking for N periods and there were fewer than N periods left in
	  the day, the booking didn't flow on to the next day properly
	  unless the start period was the first period of the day.

2010-02-08 12:37  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1292] web/edit_entry_handler.php, web/functions.inc:
	  
	  Fixed incorrect reporting of durations in email notifications
	  (both when using periods and not). Bug reported by Colin Napier.

2010-02-07 09:09  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1291] web/mrbs_sql.inc:
	  
	  Fixed bug in max_book_ahead checking when using periods. Thanks
	  to Colin Napier.

2010-02-03 12:01  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1290] web/functions_mail.inc, web/lang.en:
	  
	  Added the name of the deleting user to email notifications of
	  deleted entries.

2010-01-20 10:03  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1289] web/mrbs.css.php:
	  
	  Minor correction to fix problem with the positioning of the
	  simple trailer in some circumstances (it didn't always appear at
	  the bottom)

2009-12-17 18:32  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1288] tables.my.sql, tables.pg.73and_above.sql, tables.pg.sql,
	  web/Themes/default/header.inc, web/confirm_entry_handler.php,
	  web/dbsys.inc, web/del_entry.php, web/edit_area_room.php,
	  web/edit_entry_handler.php, web/functions.inc,
	  web/functions_mail.inc, web/lang.en, web/mrbs.css.php,
	  web/mrbs_auth.inc, web/mrbs_sql.inc, web/pending.php,
	  web/systemdefaults.inc.php, web/upgrade/11[ADD],
	  web/upgrade/11/mysql.sql[ADD], web/upgrade/11/pgsql.sql[ADD],
	  web/view_entry.php:
	  
	  Added the ability to limit how far in advance (both minimum and
	  maximum times) ordinary users can make bookings. Works whether
	  using periods or not, though for periods the time intervals are
	  limited to days as MRBS does not know when the periods occur
	  during the day. The intervals can be negative, allowing one to
	  specify, for example, that users cannot make or edit bookings
	  more than five minutes in the past or two weeks ahead. For times
	  mode (ie when not using periods) the limits are settable on a
	  per-area basis. For periods the limits apply globally at the
	  moment.

2009-12-17 17:53  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1287] web/month.php, web/mysql.inc, web/mysqli.inc,
	  web/pgsql.inc, web/week.php:
	  
	  - Ensured that sql_row_keyed() actually returns an associative
	  array, rather than one with both numeric and associative indices
	  - Fixed a couple of places that still relied on a numeric index

2009-12-14 20:30  John Beranek <jberanek@users.sourceforge.net>

	* [r1286] web/auth_ldap.inc:
	  
	  * Fixes for the LDAP authentication method when $ldap_filter is
	  configured.

2009-12-13 19:34  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1285] web/Themes/default/header.inc, web/search.php:
	  
	  - Set the focus to the search string field on the search form on
	  page load - Set the focus to the brief description field on the
	  edit_entry form on page load (but only for new bookings)

2009-12-13 18:32  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1284] web/pending.php:
	  
	  Fixed HTML validation problem

2009-12-13 18:22  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1283] web/Themes/default/header.inc:
	  
	  - Added a missing '>' to the body tag - Set the focus to the
	  username on the logon form on page load

2009-12-11 16:35  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1282] web/mrbs-ie8.css:
	  
	  Fixed a problem with the display of the All Day checkbox in the
	  edit_entry form in IE8.

2009-12-09 22:37  John Beranek <jberanek@users.sourceforge.net>

	* [r1281] ., tables.my.sql, tables.pg.73and_above.sql,
	  tables.pg.sql, web/Themes/classic126/styling.inc,
	  web/Themes/default/header.inc, web/Themes/default/styling.inc,
	  web/confirm_entry_handler.php[CPY], web/day.php, web/dbsys.inc,
	  web/del_entry.php, web/edit_entry.php,
	  web/edit_entry_handler.php, web/edit_users.php,
	  web/functions.inc, web/functions_mail.inc, web/lang.en,
	  web/month.php, web/mrbs.css.php, web/mrbs_auth.inc,
	  web/mrbs_sql.inc, web/pending.php[CPY],
	  web/systemdefaults.inc.php, web/upgrade/10[CPY],
	  web/upgrade/10/mysql.sql[CPY], web/upgrade/10/pgsql.sql[CPY],
	  web/upgrade/5/pgsql.sql, web/upgrade/9[CPY],
	  web/upgrade/9/mysql.sql[CPY], web/upgrade/9/pgsql.sql[CPY],
	  web/view_entry.php, web/week.php:
	  
	  * Performed --reintegrate branch merge of 'provisional_bookings'
	  branch, r1242-1280.

2009-12-09 13:16  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1278] web/index.php:
	  
	  Added missing include file, the absence of which caused errors
	  when $default_room was non-zero.

2009-12-08 18:07  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1277] web/edit_users.php:
	  
	  Fixed a bug in the last change (Rev 1276): passwords should only
	  be validated if it's a new user, or an existing user changing
	  their password.

2009-12-08 14:10  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1276] web/edit_users.php, web/lang.en,
	  web/systemdefaults.inc.php:
	  
	  Added the ability to set a password strength policy when using
	  the 'db' authentication scheme. The policy can be defined in
	  terms of minimum length and minimum numbers of alpha, lower-case,
	  upper-case, numeric and special (ie non alpha-numeric)
	  characters. The validation is only server side at the moment.
	  Client side validation is not included yet as JavaScript's native
	  support for Unicode pattern matching is very limited.

2009-11-27 00:27  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1275] web/day.php, web/systemdefaults.inc.php, web/week.php:
	  
	  Added the ability to repeat the headers at the bottom of the
	  table, controlled by a new config setting
	  $column_labels_both_ends

2009-11-26 05:31  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1274] web/systemdefaults.inc.php:
	  
	  Fixed test for E_DEPRECATED constant so that it doesn't give a
	  warning if it doesn't exist.

2009-11-25 11:31  John Beranek <jberanek@users.sourceforge.net>

	* [r1273] web/lang.fi:
	  
	  * Finnish translation update, as provided by Tuomas in SF tracker
	  #2870678 - annoyingly I missed the 1.4.3 release though.

2009-11-24 21:56  John Beranek <jberanek@users.sourceforge.net>

	* [r1270] ChangeLog, NEWS:
	  
	  * Updated NEWS anc ChangeLog for 1.4.3 release.

2009-11-24 21:21  John Beranek <jberanek@users.sourceforge.net>

	* [r1269] web/auth_ldap.inc, web/mysql.inc, web/mysqli.inc,
	  web/version.inc:
	  
	  * Fixed LDAP auth method so that $ldap_filter will work if you
	  use $ldap_dn_search_attrib.
	  
	  * Updated 'mysql' and 'mysqli' DB abstractions to request a UTF-8
	  client charset if $unicode_encoding is true.
	  
	  * Updated version number to 1.4.3.

2009-11-14 21:35  John Beranek <jberanek@users.sourceforge.net>

	* [r1268] web/systemdefaults.inc.php:
	  
	  * Added code to disable the E_DEPRECATED error class, due to our
	  use of the 'is_dst' option in mktime() being deprecated in PHP >=
	  5.3.0.

2009-11-14 20:56  John Beranek <jberanek@users.sourceforge.net>

	* [r1267] web/auth_imap.inc:
	  
	  * Fixed a regular expression used for IMAP quoting, received as a
	  patch from Thomas Bleher.

2009-11-13 21:09  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1264] web/edit_users.php:
	  
	  Fixed a bug which prevented users from being edited (unless they
	  happened to be the user with id 0)

2009-11-09 21:27  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1243] tables.pg.sql:
	  
	  Updated the db version number.

2009-11-08 10:32  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1241] web/edit_users.php:
	  
	  Added an id to a form so that sites can add their own styling.

2009-11-04 16:01  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1240] web/config.inc.php:
	  
	  Added comment to steer admins toward the lang files if they want
	  to change some of the text strings.

2009-11-03 15:23  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1239] web/mrbs_sql.inc, web/site_faq.html:
	  
	  - changed behaviour of monthly and yearly repeats so that if a
	  day does not exist in the month (eg 29/30/31) MRBS will use the
	  last day of the month (instead of going forward into the next
	  month as it did before) - updated Help text to reflect new
	  monthly and yearly repeat behaviour - updated Help text to
	  reflect existing monthly, corresponding day behaviour (ie using
	  29/30/31 is valid and is useful) - combined logic for weekly and
	  n-weekly repeats: a weekly repeat is just a special case of an
	  n-weekly repeat - simplified fix introduced in Rev 1236 now that
	  we can rely on at least one repeat day being set for weekly and
	  n-weekly repeats (see Rev 1238)

2009-11-03 14:25  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1238] web/edit_entry_handler.php:
	  
	  Fixed bug introduced in Rev 1237 that caused n-weekly repeats to
	  get stuck in an infinite loop (the code assumes that at least one
	  repeat day has been set).

2009-11-02 15:00  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1237] web/edit_entry.php, web/edit_entry_handler.php:
	  
	  Removed the checks that tested whether at least one repeat day
	  had been checked in the case of weekly and n-weekly repeats. The
	  checks were not necessary because if no repeat days are checked,
	  MRBS assumes that the repeat day is the day of the week of the
	  start of the period (as indeed it says in the Help text).

2009-11-02 14:44  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1236] web/mrbs_sql.inc:
	  
	  Fixed a bug which meant that for weekly and n-weekly bookings the
	  first day of the period was booked when it should not have been
	  because one or more of the repeat days had been checked - but not
	  the day of the week of the start of the period. For example if
	  you request a weekly repeat from 1-30 November 2009 for
	  Thursdays, then the 1 Nov was also being booked when it should
	  not have been because it's a Sunday. (Problem reported by Randy
	  Allen on the general mailing list).

2009-11-01 20:13  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1235] web/edit_area_room.php:
	  
	  - altered the behaviour of edit_area_room.php so that after
	  you've edited a room or an area you are returned to the admin
	  page, rather than staying on the edit_area_room.php page. - fixed
	  a bug which resulted in invalid HTML and an incorrectly rendered
	  page when editing an area and using periods

2009-10-31 23:23  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1234] web/edit_users.php:
	  
	  Removed stray blank line.

2009-10-31 18:48  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1233] web/edit_users.php, web/lang.en:
	  
	  Improved the error handling when adding a new user, so that form
	  data is reloaded if there is an error and does not have to be
	  re-typed by the user.

2009-10-27 23:28  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1232] web/lang.fr:
	  
	  Added "area" token

2009-10-27 16:52  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1231] tables.my.sql, tables.pg.73and_above.sql, tables.pg.sql,
	  web/add.php, web/admin.php, web/day.php, web/dbsys.inc,
	  web/edit_area_room.php, web/edit_entry.php, web/functions.inc,
	  web/lang.en, web/month.php, web/report.php, web/upgrade/8[ADD],
	  web/upgrade/8/mysql.sql[ADD], web/upgrade/8/pgsql.sql[ADD],
	  web/upgrade/8/post.inc[ADD], web/week.php:
	  
	  Added a sort key for rooms, so that rooms can be sorted in an
	  order defined by the administrator rather than alphabetically. By
	  default the sort key is the same as the room name and rooms will
	  be sorted alphabetically as before. The sort order applies
	  whenever rooms are listed, eg in the main day view and in
	  drop-down lists.

2009-10-22 16:21  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1230] web/search.php:
	  
	  Added error checking after the first SQL query. (Although there
	  is some error checking after the second query, it is never
	  reached if there's an error in the SQL predicate, or the first
	  SQL query generally, and MRBS just incorrectly reports that there
	  are no entries matching the search string).

2009-10-22 16:16  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1229] web/report.php:
	  
	  Changed capitalisation of table aliases in the SQL query to be
	  consistent with search.php. No functional change to MRBS.

2009-10-22 12:59  John Beranek <jberanek@users.sourceforge.net>

	* [r1228] tables.my.sql, tables.pg.73and_above.sql, tables.pg.sql:
	  
	  * Updated DB schema number in the instalation SQL files.

2009-10-21 21:44  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1227] web/search.php:
	  
	  - Ensured that searches respect the per-area privacy settings -
	  Fixed bug which meant that searches did not work on PostgreSQL
	  when users were not admins and $private_override was not set to
	  public

2009-10-21 21:39  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1226] web/report.php:
	  
	  - Ensured that reports respect the per-area privacy settings -
	  Fixed bug which meant that (depending on their name) admins would
	  not be recognised as having admin rights, and so would not see
	  private bookings made by other users

2009-10-21 20:43  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1225] web/add.php, web/dbsys.inc, web/upgrade/7[ADD],
	  web/upgrade/7/mysql.sql[ADD], web/upgrade/7/pgsql.sql[ADD],
	  web/upgrade/7/post.inc[ADD]:
	  
	  Ensured that the private settings in the area table are always
	  not NULL, by converting existing areas and setting the private
	  fields when creating new areas. (It will make ensuring that
	  Search and Report respect the private settings easier if the
	  settings can be guaranteed to be not NULL).

2009-10-21 18:26  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1224] web/view_entry.php:
	  
	  Fix to ensure that view_entry uses the per-area privacy settings
	  (problem reported by David Moore on the general mailing list).
	  Still to come: fixes for Search and Report which suffer from a
	  similar problem.

2009-10-20 11:51  John Beranek <jberanek@users.sourceforge.net>

	* [r1223] web/config.inc.php:
	  
	  * Removed odd stray spaces from the config file.

2009-10-20 11:49  John Beranek <jberanek@users.sourceforge.net>

	* [r1222] web/auth_imap.inc, web/escapeshellarg.inc, web/month.php,
	  web/session_cookie.inc, web/session_php.inc, web/week.php:
	  
	  * Replaced all usage of ereg_replace() with calls to
	  preg_replace() for consistency and because PHP 5.3 has deprecated
	  the function.

2009-10-18 16:02  John Beranek <jberanek@users.sourceforge.net>

	* [r1221] web/language.inc:
	  
	  * Fix for setting UTF-8 locale on BSD (and Linux). It turns out
	  Linux is also happy to specify a UTF-8 locale with ".UTF-8" in
	  upper case. Fix provided by Ian Rees in SF tracker #2859067.

2009-10-18 15:35  John Beranek <jberanek@users.sourceforge.net>

	* [r1220] web/session_remote_user.inc, web/systemdefaults.inc.php:
	  
	  * Patch from Emmanuel Dreyfus to add a configuration variable to
	  configure a login link for the "remote_user" authentication
	  scheme.

2009-10-18 15:30  John Beranek <jberanek@users.sourceforge.net>

	* [r1219] web/functions.inc, web/systemdefaults.inc.php:
	  
	  * Patch from Emmanuel Dreyfus to add a config variable to force
	  the booking resolution to the value of $resolution, rather than
	  the resolution for the area set in the database.

2009-10-18 15:25  John Beranek <jberanek@users.sourceforge.net>

	* [r1218] web/mrbs_auth.inc, web/systemdefaults.inc.php:
	  
	  Slight variation on a patch from Emmanuel Dreyfus (changed
	  variable name)

2009-10-08 06:16  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1217] web/lang.fr, web/report.php:
	  
	  - Reverted Revision 1211 (ie put &nbsp; entities back in) -
	  &nbsp; entities are now replaced in the CSV report header row
	  using mrbs_entity_decode()

2009-10-07 15:20  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1216] web/functions.inc, web/functions_mail.inc:
	  
	  - Added an mrbs_entity_decode() function - Extended removal of
	  &nbsp; entities in period names in mail messages to PHP4 and
	  below.

2009-10-02 10:05  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1212] web/language.inc:
	  
	  Changed name of optional third parameter in utf8_substr() from
	  $end to $length to make it less confusing.

2009-10-01 23:22  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1211] web/lang.fr:
	  
	  Changed &nbsp; to an ordinary space (except where there are two
	  of them) - otherwise they appear as is in CSV report headers.

2009-10-01 22:57  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1210] web/report.php:
	  
	  Changed Content-type for CSV reports to text/csv and added a
	  charset to aid internationalisation. (Note that Excel does not
	  open CSV files properly. To open a UTF-8 file in Excel, save it
	  as a .txt file first and then specify the charset in the dialogue
	  that appears when you open the file in Excel).

2009-10-01 22:46  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1209] web/Themes/default/header.inc, web/language.inc,
	  web/style.inc:
	  
	  Introduced a get_charset() function. No functional change to
	  MRBS.

2009-09-27 17:14  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1206] web/functions_mail.inc:
	  
	  Further simplified the code in getPreviousEntryData(). No
	  functional change to MRBS.

2009-09-27 16:13  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1205] web/edit_entry.php:
	  
	  Fixed a bug which meant that the number of weeks wasn't shown in
	  the form when editing an existing n-weekly booking.

2009-09-27 16:07  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1204] web/functions_mail.inc:
	  
	  Fixed a (very minor!) bug that meant that $weekstarts was ignored
	  in email notifications and repeat entries covering more than one
	  day of the week were listed starting at the wrong place. For
	  example if $weekstarts=1 (ie Mon) and a weekly repeat is made for
	  Sat and Sun, the email notification listed them as Sun, Sat
	  instead of Sat, Sun.

2009-09-27 15:54  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1203] web/functions_mail.inc:
	  
	  Simplified the code in getPreviousEntryData(). No functional
	  change to MRBS.

2009-09-25 08:46  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1202] web/report.php, web/systemdefaults.inc.php:
	  
	  Converted CSV constants into variables, so that they can be
	  redefined in config.inc.php

2009-09-24 17:36  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1201] web/systemdefaults.inc.php:
	  
	  Corrected constant definitions used for CSV reports.

2009-09-23 15:12  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1200] web/lang.en, web/report.php, web/systemdefaults.inc.php:
	  
	  Added the ability to output reports and summaries as CSV files.

2009-09-17 15:25  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1199] web/systemdefaults.inc.php:
	  
	  Tried to make the language settings slightly clearer. No
	  functional change to MRBS.

2009-09-15 22:12  John Beranek <jberanek@users.sourceforge.net>

	* [r1198] web/language.inc:
	  
	  * Added support for Bulgarian localisation

2009-09-11 14:29  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1197] web/mrbs-ie.css:
	  
	  Minor change to formatting of the edit_user form to improve looks
	  (added some more space below the form legend for IE, as IE by
	  default leaves none)

2009-09-08 15:52  dceschools

	* [r1195] web/systemdefaults.inc.php:
	  
	  Add unset to array variables in systemdefaults.inc.php so they
	  can be copied to config.inc.php if needed.

2009-09-04 11:56  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1192] web/mrbs.css.php:
	  
	  Fixed a problem which caused the highlight colour to shine
	  through bookings that have an opacity of less than 1 (eg private
	  bookings) when they occur in cells in the day and week views that
	  have multiple bookings.

2009-09-03 23:26  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1191] web/edit_area_room.php:
	  
	  Changed event handlers for the radio buttons to be onClick rather
	  than onChange (the onChange handler shouldn't fire until the
	  control loses focus - correctly implemented on IE but not on FF).

2009-09-03 13:49  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1189] web/day.php, web/month.php:
	  
	  Changed SQL ORDER BY clauses to use column names rather than
	  column positions in order to improve maintainability. No
	  functional change to MRBS.

2009-09-03 13:31  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1188] web/report.php:
	  
	  Changed SQL ORDER BY clauses to use column names rather than
	  column positions in order to improve maintainability. No
	  functional change to MRBS.

2009-09-03 13:17  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1187] web/report.php:
	  
	  Minor change to bring into line with MRBS coding conventions.

2009-08-28 15:09  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1181] web/functions.inc, web/functions_mail.inc:
	  
	  Corrected use of version_compare()

2009-08-28 14:01  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1180] web/session_cookie.inc, web/session_http.inc,
	  web/session_php.inc, web/session_remote_user.inc:
	  
	  Fixed the display in the header ("You are <user>") of usernames
	  that contain html special chars.

2009-08-28 13:50  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1179] web/view_entry.php:
	  
	  Fixed bug which meant that a user could not see their own private
	  bookings if the user name contained HTML special chars.

2009-08-26 23:26  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1178] web/functions_mail.inc:
	  
	  Fixed a bug which meant that when using periods, any HTML
	  entities or tags in the period name string (which are allowed)
	  were left as is in email notifications, which are sent as plain
	  text emails. (HTML entities are only replaced in PHP5 and above,
	  to avoid any complications with lack of support for multi-byte
	  character sets).

2009-08-24 09:06  John Beranek <jberanek@users.sourceforge.net>

	* [r1177] web/pgsql.inc:
	  
	  * Improved/fixed the PostgreSQL sql_table_exists()
	  implementation.

2009-08-23 18:13  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1175] tables.pg.73and_above.sql, tables.pg.sql:
	  
	  Removed duplicate primary key declaration from users table.

2009-08-12 14:06  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1174] web/view_entry.php:
	  
	  Fixed bug causing undefined variable notice when an email
	  notification of a series is viewed. (The notice is only visible
	  in MRBS if error_reporting is set to include Notices).

2009-08-11 14:11  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1173] web/config.inc.php:
	  
	  Addition of comment.

2009-08-11 14:05  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1172] web/systemdefaults.inc.php, web/theme.inc:
	  
	  Moved consistency checking of user settings for periods and time
	  slots out of systemdefaults.inc.php where it is now unnecessary
	  (because systemdefaults.inc.php cannot be changed by the user)
	  and put it into theme.inc.

2009-08-11 12:33  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1171] web/config.inc.php, web/del_entry.php,
	  web/edit_entry_handler.php, web/functions_mail.inc,
	  web/language.inc, web/systemdefaults.inc.php, web/theme.inc:
	  
	  - Changed the constants in systemdefaults.inc.php to variables,
	  as constants can only be defined once, meaning they cannot be
	  redefined in config.inc.php (IS_XHTML should remain a constant
	  though as that is not intended to be redefined in config.inc.php)
	  - Resolved the Catch-22 (reported by Thomas Bleher on the mailing
	  list) which prevented language settings from being defined in
	  config.inc.php

2009-08-05 22:36  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1170] web/edit_entry.php:
	  
	  Fixed very minor problem (not normally visible to the user) that
	  caused an 'undefined' error in JavaScript when there are no rooms
	  defined for an area.

2009-08-05 15:52  John Beranek <jberanek@users.sourceforge.net>

	* [r1169] web/search.php:
	  
	  * Added missing SQL escaping for $user in search.php, this
	  variable is not directly enterable by a user, so the issue was of
	  a lesser consequence.

2009-08-01 21:05  John Beranek <jberanek@users.sourceforge.net>

	* [r1168] web/mincals.inc, web/mrbs.css.php,
	  web/systemdefaults.inc.php:
	  
	  * Implemented new config variable, $mincals_week_numbers. If this
	  is set to true, week numbers will be shown in the mini-calendars.
	  The numbers will only be accurate if you set $weekstarts to 1.

2009-07-22 13:30  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1167] web/mrbs.css.php:
	  
	  Fixed a bug introduced in Revision 1123 which meant that the
	  empty cells in the month view were no longer clickable.

2009-07-22 09:52  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1166] web/Themes/default/header.inc:
	  
	  Added declaration of $PHP_SELF to avoid problems when using
	  versions of PHP < 4.1.0

2009-07-21 16:20  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1165] web/session_http.inc:
	  
	  Fixed problem with the TargetURL being undefined and causing
	  badly formed HTML when Notice errors are turned on. (However the
	  problem still exists that when using HTTP sessions MRBS will
	  redirect to the admin page on login, rather than the current
	  page. I haven't tried to fix this.)

2009-07-21 15:02  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1164] web/session_cookie.inc, web/session_php.inc:
	  
	  Removed redundant declarations of $auth

2009-07-21 14:48  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1163] web/session_cookie.inc, web/session_php.inc:
	  
	  Removed references to redundant variable $user_link

2009-07-21 14:43  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1162] web/session_http.inc, web/session_remote_user.inc:
	  
	  Fixed bug that caused query string to be missing parameter values
	  for day, month and year in the "You are user" link in the header
	  in the http and remote_user session schemes. (Didn't affect
	  functionality as search.php was resilient, but it caused
	  undefined variable notices when running with notices turned on).

2009-07-20 16:23  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1161] web/edit_entry.php, web/report.php, web/search.php:
	  
	  Brought commenting style into line with MRBS standard practice.

2009-07-17 19:59  John Beranek <jberanek@users.sourceforge.net>

	* [r1160] web/config.inc.php:
	  
	  * Tweaked capitalisation of warning in config.inc.php.

2009-07-17 19:52  John Beranek <jberanek@users.sourceforge.net>

	* [r1159] web/upgrade.inc:
	  
	  * Fixed error reporting in DB upgrade mechanism.

2009-07-16 16:03  John Beranek <jberanek@users.sourceforge.net>

	* [r1158] web/defaultincludes.inc:
	  
	  * Added $Id$ to new file, defaultincludes.inc.

2009-07-16 15:56  John Beranek <jberanek@users.sourceforge.net>

	* [r1157] checklang.php, convert_db_to_utf8.php, testdata.php,
	  web/add.php, web/admin.php, web/config.inc.php, web/day.php,
	  web/defaultincludes.inc[ADD], web/del.php, web/del_entry.php,
	  web/edit_area_room.php, web/edit_entry.php,
	  web/edit_entry_handler.php, web/edit_users.php, web/help.php,
	  web/index.php, web/month.php, web/mrbs-ielte7.css.php,
	  web/mrbs.css.php, web/report.php, web/search.php,
	  web/systemdefaults.inc.php[ADD], web/view_entry.php,
	  web/week.php:
	  
	  * Moved default configuration out of config.inc.php into
	  systemdefaults.inc.php. Users should _not_ modify
	  systemdefaults.inc.php and instead add lines into config.inc.php.
	  
	  * Created defaultincludes.inc, which includes the 6 standard
	  files that pages include. Most pages include this.

2009-07-15 23:11  John Beranek <jberanek@users.sourceforge.net>

	* [r1155] web/version.inc:
	  
	  * Updated version number post release of 1.4.2.

2009-07-15 22:46  John Beranek <jberanek@users.sourceforge.net>

	* [r1153] ChangeLog, NEWS:
	  
	  * Updated NEWS/ChangeLog for MRBS 1.4.2 release.

2009-07-15 22:36  John Beranek <jberanek@users.sourceforge.net>

	* [r1152] web/version.inc:
	  
	  * Updated version number for 1.4.2 release.

2009-07-14 08:58  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1151] web/dbsys.inc, web/upgrade.inc:
	  
	  Fixed problem that meant that the correct database connection
	  wasn't being used when upgrading the database (ie MRBS was using
	  the ordinary username/password specified in the config file
	  rather than the admin username/password entered during the
	  upgrade process).

2009-07-08 12:04  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1150] tables.my.sql, tables.pg.73and_above.sql, tables.pg.sql:
	  
	  Updated comments to reflect the new definition of maximum field
	  lengths in the config file.

2009-07-08 12:01  John Beranek <jberanek@users.sourceforge.net>

	* [r1149] web/config.inc.php:
	  
	  * Small typo fix in a comment in the new $maxlength array values
	  in config.inc.php.

2009-07-08 11:55  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1148] web/add.php, web/admin.php, web/config.inc.php:
	  
	  Added checking of lengths for room description in order to avoid
	  SQL errors in PostgreSQL.

2009-07-08 10:56  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1147] web/config.inc.php, web/edit_users.php:
	  
	  Added checking of name lengths for username and email address in
	  order to avoid SQL errors in PostgreSQL.

2009-07-08 09:40  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1146] web/add.php, web/admin.php, web/config.inc.php,
	  web/edit_entry.php, web/edit_entry_handler.php:
	  
	  Added checking of name lengths for room and area names in order
	  to avoid SQL errors in PostgreSQL.

2009-07-03 20:07  John Beranek <jberanek@users.sourceforge.net>

	* [r1145] tables.my.sql, tables.pg.73and_above.sql, tables.pg.sql:
	  
	  * Updated comments at the top of the table definition SQL files,
	  to tell people to update the 'INSERT INTO' lines too, if they
	  change the table prefix.

2009-07-02 09:12  John Beranek <jberanek@users.sourceforge.net>

	* [r1143] ChangeLog, NEWS:
	  
	  * Updated NEWS and ChangeLog for MRBS 1.4.2 release.

2009-07-02 08:25  John Beranek <jberanek@users.sourceforge.net>

	* [r1142] web/version.inc:
	  
	  * Updated version number to 1.4.2rc1.

2009-06-29 12:03  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1141] web/auth_db.inc, web/config.inc.php,
	  web/upgrade/6/post.inc:
	  
	  - Changed the Upgrade 6 procedure so that it populates the users
	  table with admins at $max_level instead of 2.
	  
	  - Moved the definition of $max_level and $min_user_editing_level
	  out of auth_db.inc and into config.inc.php

2009-06-29 11:39  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1140] web/upgrade/6/post.inc:
	  
	  Fixed an existing problem where the default value fr the level
	  column is set to 1 instead of 0 in the case that the users table
	  already exists.

2009-06-29 10:58  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1139] web/upgrade.inc:
	  
	  Added fix to prevent warning message from fread() if file size is
	  0.

2009-06-29 09:59  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1138] web/dbsys.inc:
	  
	  Minor update to comments.

2009-06-28 20:29  John Beranek <jberanek@users.sourceforge.net>

	* [r1137] web/upgrade/6/post.inc:
	  
	  * Fixed put in DV schema version 6 post.inc - was using a MySQL
	  specific DB function rather than the abstracted function. Made
	  PostgreSQL bomb out instead of complete correctly.

2009-06-28 19:14  John Beranek <jberanek@users.sourceforge.net>

	* [r1136] web/dbsys.inc, web/upgrade.inc, web/upgrade/5/pgsql.sql,
	  web/upgrade/6/pgsql.sql:
	  
	  * Improved error handing in DB upgrade system. If any errors are
	  encountered, the upgrade process is now immediately stopped.
	  
	  * Fixed version 5 and 6 schema upgrades for PostgreSQL, it didn't
	  like being sent SQL with just a comment.

2009-06-26 14:46  John Beranek <jberanek@users.sourceforge.net>

	* [r1135] web/upgrade/6/post.inc:
	  
	  * Fixed bracketing in sql_query() call in db schema 6 post.inc,
	  though it shouldn't in fact make any difference.

2009-06-26 14:08  John Beranek <jberanek@users.sourceforge.net>

	* [r1134] tables.my.sql, tables.pg.73and_above.sql, tables.pg.sql,
	  web/dbsys.inc, web/edit_users.php, web/upgrade/5/pgsql.inc[DEL],
	  web/upgrade/5/pgsql.sql[CPY], web/upgrade/6[ADD],
	  web/upgrade/6/mysql.sql[ADD], web/upgrade/6/pgsql.sql[ADD],
	  web/upgrade/6/post.inc[ADD]:
	  
	  * Moved code to add the 'level' column into the mrbs_users table
	  out of edit_users.php and into DB schema version 6 upgrade code.
	  
	  * Fixed the name of the PostgreSQL upgrade SQL file for schema
	  version 5.

2009-06-25 22:52  John Beranek <jberanek@users.sourceforge.net>

	* [r1133] tables.my.sql, tables.pg.73and_above.sql, tables.pg.sql:
	  
	  * Added missing DB schema version 4 changes to initial table
	  creation SQL files.

2009-06-25 22:36  John Beranek <jberanek@users.sourceforge.net>

	* [r1132] tables.my.sql:
	  
	  * Created syntax for creation of mrbs_users for MySQL.

2009-06-25 22:33  John Beranek <jberanek@users.sourceforge.net>

	* [r1131] tables.my.sql, tables.pg.73and_above.sql, tables.pg.sql,
	  web/dbsys.inc, web/edit_users.php, web/upgrade/5[ADD],
	  web/upgrade/5/mysql.sql[ADD], web/upgrade/5/pgsql.inc[ADD],
	  web/upgrade/5/post.inc[ADD]:
	  
	  * Moved creation of mrbs_users table into the SQL schema update
	  number 5.

2009-06-25 19:36  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1130] web/dbsys.inc, web/lang.en, web/mrbs.css.php,
	  web/mysql.inc, web/mysqli.inc, web/pgsql.inc, web/upgrade.inc:
	  
	  Changed the authentication scheme for database upgrades so that
	  instead of requiring the user to be logged in as an MRBS admin,
	  the system now asks for a database username and password with
	  admin rights. This has the advantages that (a) the database
	  username and password supplied in the config file need only have
	  ordinary user rights* and (b) it prevents the Catch 22 situation
	  when upgrading the users table (you can't upgrade the database
	  until you've logged in as an admin, but you can't log in as an
	  admin until you've upgraded the database).
	  
	  [*Note though that if using the db authentication scheme, the
	  users table is still altered using the standard database username
	  supplied in the config file. This still needs to be changed to
	  use the standard upgrade mechanism]

2009-06-24 15:47  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1129] web/config.inc.php, web/dbsys.inc,
	  web/edit_area_room.php, web/functions.inc, web/lang.en,
	  web/mrbs-ie.css, web/mrbs-ie8.css, web/mrbs.css.php,
	  web/upgrade/4[ADD], web/upgrade/4/mysql.sql[ADD],
	  web/upgrade/4/pgsql.sql[ADD], web/upgrade/4/post.inc[ADD]:
	  
	  Made the private bookings config editable per-area, with the
	  config variables being the default settings to be used when a new
	  area is created.

2009-06-23 15:02  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1128] web/mrbs.css.php:
	  
	  Fixed bug introduced in Rev 1123 which stopped the display of
	  minimised multiple bookings working properly in IE8.

2009-06-23 14:35  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1127] web/Themes/classic126/styling.inc,
	  web/Themes/default/styling.inc, web/functions.inc, web/lang.en,
	  web/month.php, web/mrbs-ielte8.css[ADD], web/mrbs.css.php,
	  web/style.inc, web/view_entry.php:
	  
	  - Added a class for private bookings so that they can be styled
	  using that class, rather than by defining extra booking types.
	  The default styling is for the opacity of the cell to be set to
	  0.6 (ie they are slightly washed out versions of public bookings)
	  and the text to be in italics. Note that the opacity changes do
	  not show up in IE because its support for opacity is
	  temperamental, but the italic font will still show up and the
	  font colour is also lightened to simulate the opacity change.
	  
	  - Added colour coding of private bookings to the month view (and
	  used the same opacity/italic treatment as in the day and week
	  views).
	  
	  - Minor changes to default text for private bookings

2009-06-23 11:35  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1126] web/report.php:
	  
	  Fixed report SQL following change of PostgreSQL type for private
	  from boolean to smallint.

2009-06-23 10:48  John Beranek <jberanek@users.sourceforge.net>

	* [r1125] web/auth_ldap.inc:
	  
	  * Added check for LDAP support into auth_ldap.inc - based on a
	  suggestion from Chris Cook.

2009-06-22 22:56  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1124] web/edit_area_room.php:
	  
	  Added checks for zero values of Resolution in order to avoid
	  divide by zero errors and endless loops.

2009-06-22 22:06  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1123] web/config.inc.php, web/mrbs-ielte7.css[DEL],
	  web/mrbs-ielte7.css.php[CPY], web/mrbs.css.php, web/style.inc:
	  
	  Fixed a problem (reported as SF Feature Request 249087) which
	  meant that if $clipped is set to FALSE, then empty cells are no
	  longer clickable. (The fix isn't a perfect fix, but at least
	  means that the system is usable when $clipped is set to FALSE. In
	  particular the fix doesn't work on IE6 and IE7 and so for those
	  browsers $clipped is ignored and assumed to be TRUE. For other
	  browsers, empty cells are only clickable in the top section - ie
	  if one of the cells in a row is stretched because the content is
	  too large for the cell, then the empty cells are only clickable
	  in the standard height portion - and bookings are only clickable
	  for the height of the text rather than over the whole cell.

2009-06-19 21:58  John Beranek <jberanek@users.sourceforge.net>

	* [r1122] web/report.php, web/search.php:
	  
	  * Removed unnecessary SQL escaping. When
	  sql_syntax_caseless_contains() is used you don't need to use
	  addslashes() as sql_syntax_caseless_contains() escaping the
	  string itself. Added notes to this effect where
	  sql_syntax_caseless_contains() is used.

2009-06-19 21:10  John Beranek <jberanek@users.sourceforge.net>

	* [r1121] web/edit_users.php, web/mrbs_sql.inc:
	  
	  * Added more missing SQL escaping.

2009-06-19 20:50  John Beranek <jberanek@users.sourceforge.net>

	* [r1120] web/search.php:
	  
	  * Added missing SQL escaping to search functionality.

2009-06-19 20:45  John Beranek <jberanek@users.sourceforge.net>

	* [r1119] web/report.php:
	  
	  * Added SQL escaping in reports (Secunia Advisory SA35469).

2009-06-18 21:54  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1118] web/edit_entry_handler.php:
	  
	  Truncated the name field to the maximum length as a precaution.
	  Although the MAXLENGTH attribute is used in the <input> tag, this
	  can sometimes be ignored by the browser, for example by Firefox
	  when autocompletion is used. The user could also edit the HTML
	  and remove the MAXLENGTH attribute. Passing an oversize string to
	  some databases (eg some versions of PostgreSQL) results in an SQL
	  error, rather than silent truncation of the string.

2009-06-17 14:48  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1117] tables.pg.73and_above.sql, tables.pg.sql,
	  web/mrbs_sql.inc, web/upgrade/3/pgsql.sql:
	  
	  Converted the 'private' field in the entry and repeat tables from
	  a boolean to a smallint for PostgreSQL implementations.
	  
	  PHP returns PostgreSQL boolean fields as strings, ie 't' or 'f'
	  which always evaluate to true without a lot of processing. This
	  means that entries are always considered to be private, whether
	  they really are or not. Although using smallints takes up more
	  space (2 bytes instead of 1 bit), it makes the code much simpler.
	  
	  The upgrade SQL files have been retrospectively changed, ie no
	  attempt has been made to provide an Upgrade 4 file which converts
	  existing booleans to smallints. As MRBS fails immediately an
	  entry is created when using booleans and no reports of failure
	  have been seen, it seems unlikely that there are any existing
	  PostgreSQL implementations using a 1.4.1 + SVN version of MRBS.
	  If there are, the fields can always be converted using a
	  PostgreSQL admin tool.

2009-06-15 20:23  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1116] web/mrbs_sql.inc:
	  
	  Fixed a problem that was causing PostgreSQL databases to complain
	  giving the error message "ERROR: column "private" is of type
	  boolean but expression is of type integer HINT: You will need to
	  rewrite or cast the expression".

2009-05-28 22:23  John Beranek <jberanek@users.sourceforge.net>

	* [r1115] web/auth_db_ext.inc:
	  
	  * Made backwards-compatibility special case in auth_db_ext.inc
	  more clear.

2009-05-22 13:56  John Beranek <jberanek@users.sourceforge.net>

	* [r1113] web/auth_smtp.inc[ADD], web/config.inc.php:
	  
	  * Added a new authentication method, auth_smtp.inc. Utilises the
	  Net_SMTP Pear package.

2009-05-19 17:54  dceschools

	* [r1112] web/edit_entry.php:
	  
	  Fixes problem of private booking details being exposed when
	  another user copies an existing hidden event. Private details are
	  now cleared when this happens.

2009-05-18 17:35  dceschools

	* [r1111] web/mrbs_sql.inc:
	  
	  Fixes problem of private booking details being exposed when there
	  is a scheduling conflict.

2009-05-14 16:20  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1110] web/edit_entry.php:
	  
	  Fixed edit_entry form so that if a booking is being copied then
	  the create_by field is changed to be the current user rather than
	  the original creator (they could be different if it's an admin
	  doing the copying).

2009-05-13 21:45  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1109] web/edit_entry.php:
	  
	  Added escaping (HTML and JavaScript) to prevent errors when room
	  names contain characters that look like HTML (eg '<i>Large</i>
	  Room')

2009-05-13 15:55  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1108] tables.my.sql, tables.pg.73and_above.sql, tables.pg.sql,
	  web/config.inc.php, web/edit_entry.php:
	  
	  Added a maxlength attribute to the name input on the edit_entry
	  form to stop users typing in more characters than the database
	  will accept (and later finding that the name has been silently
	  truncated).

2009-05-13 10:14  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1107] web/mrbs.css.php:
	  
	  Tidied up the code and moved the $clipped variable to the top of
	  the file to make it more obvious. No change to functionality.

2009-05-12 08:51  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1106] web/edit_area_room.php:
	  
	  Fixed bug introduced in Rev 1099. When editing a room, room names
	  are now only checked for uniqueness if you are changing the room
	  name or the area (ie not if you are just editing details such as
	  capacity).

2009-05-05 20:52  John Beranek <jberanek@users.sourceforge.net>

	* [r1105] tables.my.sql, tables.pg.73and_above.sql, tables.pg.sql,
	  web/upgrade/3/mysql.sql, web/upgrade/3/pgsql.sql:
	  
	  * Fixed database schemas for DB schema 3: MySQL schema updated to
	  retain MySQL 3 support (MySQL 3 doesn't have a BOOL type). Syntax
	  errors in Postgresql tables (SF tracker #2786678) and upgrade SQL
	  fixed.

2009-04-29 23:16  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1104] web/edit_entry.php:
	  
	  Added escaping of the backslash character in room name. This
	  fixes a bug that meant that when JavaScript was enabled room
	  names with backslashes were not being displayed properly in the
	  room select on the edit entry form. In extreme cases (if the room
	  name ended with a backslash) the area select would not appear at
	  all because the unescaped backslash was causing an unterminated
	  string literal.

2009-04-29 22:13  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1103] web/functions.inc:
	  
	  Fixed a bug in the display of multiple bookings whereby in some
	  circumstances the name and description of the booking were not
	  correct.

2009-04-29 10:19  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1102] web/functions.inc:
	  
	  Fixed a bug in the display of multiple bookings and simplified
	  the code at the same time.

2009-04-23 09:11  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1101] web/edit_users.php:
	  
	  Fix to avoid an undefined variable notice when creating the
	  initial user.

2009-04-22 16:09  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1100] web/edit_users.php:
	  
	  Added escaping of input when checking that a username is unique.

2009-04-22 15:58  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1099] web/add.php, web/admin.php, web/edit_area_room.php,
	  web/lang.en:
	  
	  - Added checks to ensure that area names are unique and room
	  names are unique within an area. - Fixed bug introduced in Rev
	  1094 (freeing wrong mutex)

2009-04-22 15:22  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1098] web/add.php:
	  
	  Removed <p> tags from the fatal error message strings as these
	  are now provided by the fatal_error() function itself.

2009-04-22 14:57  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1097] web/del.php:
	  
	  Tidied up the operation of deleting a room so that when a room is
	  deleted, entries in the repeat table associated with that room
	  are deleted, as well as the entries themselves.

2009-04-22 14:40  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1096] web/edit_area_room.php:
	  
	  Fixed bug introduced in Rev 1094.

2009-04-22 14:35  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1095] web/edit_entry.php:
	  
	  Changed the language token used from "areas" to "area" to reflect
	  the fact that only one area can be selected from the drop-down.

2009-04-22 14:29  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1094] web/edit_area_room.php, web/lang.en:
	  
	  Added the ability to move a room between areas when editing a
	  room.

2009-04-16 14:39  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1093] web/functions.inc, web/mrbs_sql.inc:
	  
	  - Improved error handling when making a booking and writing to
	  the table fails. MRBS now halts with a fatal error message,
	  instead of continuing and silently ignoring the error. There have
	  been a number of reports on the mailing list of administrators
	  baffled by this, when the cause is usually that the MRBS tables
	  have not been set up properly.
	  
	  - Fixed a problem causing an HTML validation error when a fatal
	  error message is output.

2009-04-16 13:23  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1092] web/Themes/classic126[ADD],
	  web/Themes/classic126.inc[DEL],
	  web/Themes/classic126/styling.inc[CPY], web/Themes/default[ADD],
	  web/Themes/default.inc[DEL], web/Themes/default/header.inc[ADD],
	  web/Themes/default/styling.inc[CPY], web/config.inc.php,
	  web/day.php, web/functions.inc, web/mrbs-js-overrides.css.php,
	  web/mrbs-print.css.php, web/mrbs.css.php, web/theme.inc[ADD],
	  web/week.php:
	  
	  - Extended the theme capability by moving the print_header()
	  function into the Themes directory to enable it to be more easily
	  replaced by a plug-in. This is designed for cases where styling
	  changes alone cannot achieve the desired header look and feel and
	  the mark-up itself needs to be changed (eg to change nav bars).
	  As suggested on the mailing list.
	  
	  - Also changed the way that themes work slightly: MRBS now looks
	  for the files styling.inc and header.inc in the directory
	  Themes/$theme and if cannot find those uses the ones in
	  Themes/default, which must be present.

2009-04-06 21:27  John Beranek <jberanek@users.sourceforge.net>

	* [r1091] .:
	  
	  * Set SVN ignores for Eclipse project files.

2009-04-06 20:53  John Beranek <jberanek@users.sourceforge.net>

	* [r1090] web/upgrade/2/post.inc, web/upgrade/3/mysql.sql,
	  web/upgrade/3/pgsql.sql:
	  
	  * Set SVN props on the version 3 DB schema update files and added
	  $Id$ lines.
	  
	  * Added final \n into version 2 DB schema update post.inc file.

2009-04-06 20:46  John Beranek <jberanek@users.sourceforge.net>

	* [r1089] web/language.inc:
	  
	  * Added Croation (hr_HR) i18n support - in case we get a Croatian
	  translation off a mailing list poster.

2009-04-03 18:23  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1088] web/functions.inc, web/mrbs.css.php:
	  
	  Simplified the CSS for merged cells a little. No change to MRBS
	  functionality or look and feel.

2009-04-03 17:55  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1087] web/day.php:
	  
	  Restored zebra stripes to the standard day view. They had somehow
	  been lost in the move to transposed tables. (Was OK for the
	  standard week view, and OK for transposed tables in both the day
	  and week views).

2009-04-03 17:14  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1086] web/Themes/classic126.inc, web/Themes/default.inc,
	  web/functions.inc, web/mrbs.css.php:
	  
	  Changed the use of "times" as a class and variable name for the
	  first column, as with transposed tables it is now not accurate.
	  Now using "row_labels" instead. No change to MRBS functionality.

2009-04-03 16:52  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1085] web/mrbs.css.php:
	  
	  Fixed problem in Rev 1084 where the wrong CSS commenting style
	  was used ( // ... instead of /* ... */ )

2009-04-03 07:53  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1084] web/mrbs.css.php:
	  
	  Fixed problem whereby the times (or rooms with transposed tables)
	  in the left and right columns in the day and week views are
	  clipped and do not expand with content in Firefox 2. The problem
	  was more noticeable when using transposed tables as room names
	  tend to be longer than times.

2009-04-02 22:28  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1083] web/config.inc.php, web/day.php, web/functions.inc,
	  web/mrbs.css.php, web/week.php:
	  
	  Added support for transposed tables in the day and week views.
	  Transposed tables are controlled by a config variable called
	  $times_along_top. ($times_right_side has been renamed
	  $row_labels_both_sides, as it's now possible to have rooms down
	  the right hand side when the table is transposed.)

2009-04-01 13:55  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1082] web/functions.inc, web/report.php, web/view_entry.php:
	  
	  Fixed problem with recent change to nl2br calls. The optional
	  second parameter to nl2br is only available from PHP 5.3.0
	  onwards, so implemented mrbs_nl2br which takes account of this.

2009-04-01 12:58  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1081] web/config.inc.php:
	  
	  Moved the IS_XHTML constant to a slightly more logical place in
	  the config file - down at the bottom with the other internal use
	  stuff.

2009-04-01 12:47  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1080] web/config.inc.php, web/report.php, web/view_entry.php:
	  
	  Changed calls to nl2br() to use a config file constant IS_XHTML
	  set to FALSE. Without that XHTML style <br /> tags were being
	  produced causing validation warnings.

2009-03-31 20:25  John Beranek <jberanek@users.sourceforge.net>

	* [r1079] web/auth_nis.inc:
	  
	  * Fix for NIS authentication on systems that use crypt methods
	  other than DES.

2009-03-31 11:38  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1078] web/add.php, web/admin.php, web/del.php,
	  web/edit_area_room.php:
	  
	  Changed getAuthorised checks at the beginning of the page so that
	  they check against $max_level if set, otherwise level 2. This
	  allows multiple levels of admins to be introduced (eg booking
	  admins, user admins and system admins).

2009-03-26 21:23  John Beranek <jberanek@users.sourceforge.net>

	* [r1077] tables.my.sql, tables.pg.73and_above.sql, tables.pg.sql:
	  
	  * Added missing schema updates for clean installations.

2009-03-26 00:35  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1076] web/functions_mail.inc:
	  
	  Fixed bug causing days of the week not to take account of
	  $weekstarts in email notifications of repeating entries.

2009-03-25 23:14  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1075] web/functions_mail.inc:
	  
	  Fix to avoid an undefined variable message.

2009-03-25 14:44  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1074] web/edit_users.php:
	  
	  Switched to using email validation function.

2009-03-25 14:22  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1073] web/edit_area_room.php, web/functions.inc:
	  
	  Moved the email address validation for areas and rooms into a
	  function.

2009-03-25 13:30  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1072] web/dbsys.inc, web/lang.en, web/upgrade.inc,
	  web/upgrade/local[ADD], web/upgrade/local/1[ADD],
	  web/upgrade/local/1/mysql.sql[ADD],
	  web/upgrade/local/1/pgsql.sql[ADD]:
	  
	  Extended the database upgrade scheme to allow sites to add their
	  own local upgrades. Local upgrades are kept in upgrade/local and
	  are executed after any necessary global MRBS upgrades have been
	  completed.

2009-03-25 09:33  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1071] web/session_cookie.inc, web/session_php.inc:
	  
	  Fixed a couple of other places where $HTTP_REFERER could be
	  undefined (see comment in Rev 1070)

2009-03-25 09:18  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1070] web/edit_entry.php:
	  
	  Fixed problem caused by an undefined variable when running with
	  E_NOTICE errors turned on. (The undefined variable notice message
	  turns up in the returl parameter in the query string which is
	  then passed to the header("Location: ") redirect call which then
	  results in a "Warning: Header may not contain more than a single
	  header, new line detected" error message).

2009-03-25 08:47  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1069] web/edit_area_room.php, web/edit_entry.php,
	  web/index.php:
	  
	  Changed some parts to use the existing function mrbsGetRoomArea
	  instead of constructing their own SQL queries.

2009-03-24 09:25  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1068] web/edit_entry.php:
	  
	  Fixed bug that was causing the repeat day not to be checked for
	  existing series in the edit_entry form (and was causing undefined
	  variable errors).

2009-03-23 22:02  dceschools

	* [r1067] web/functions.inc:
	  
	  Fixed Undefined Variable warning related to private bookings when
	  accessing Help page.

2009-03-23 20:13  dceschools

	* [r1066] web/upgrade/3/mysql.sql, web/upgrade/3/pgsql.sql:
	  
	  Corrected DB upgrade for private bookings to use configured DB
	  prefix instead of default mrbs_ prefix.

2009-03-23 19:20  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1065] web/edit_entry_handler.php:
	  
	  Fixed bug causing undefined variable notice.

2009-03-23 18:26  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1064] web/edit_users.php:
	  
	  Fixed bug which prevented ordinary users editing their own
	  details when using 'db' authentication.

2009-03-22 23:11  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1063] web/functions.inc:
	  
	  Added some ids to divs to assist in styling the header.

2009-03-22 17:42  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1062] web/edit_entry.php:
	  
	  Fixed bug that meant that the right area settings ($resolution,
	  etc.) were not being picked up if you were editing an existing
	  booking and the system had more than one area.

2009-03-22 17:01  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1061] web/edit_entry_handler.php, web/lang.en:
	  
	  Improved handling of conflicts in edit_entry to allow for easy
	  addition of more booking policies (at present there is only one,
	  a limit on the number of bookings).

2009-03-22 15:22  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1060] web/edit_entry.php, web/edit_entry_handler.php,
	  web/functions.inc:
	  
	  Fixed bug which caused the wrong area settings ($resolution etc)
	  to be used by edit_entry_handler when there was more than one
	  area.

2009-03-22 11:58  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1059] web/day.php, web/functions.inc, web/week.php:
	  
	  Restored the highlighting of single rows (achieved through
	  clicking on a time) that got lost when support for the display of
	  multiple bookings in a timeslot was added.

2009-03-21 13:24  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1058] web/edit_area_room.php:
	  
	  Used a slightly more obvious conversion of JavaScript variables
	  from strings to integers. No change to functionality - just a bit
	  more maintainable.

2009-03-20 00:24  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1057] web/config.inc.php, web/edit_area_room.php, web/lang.en:
	  
	  Improved checking of number of slots in the config file and also
	  when editing areas.

2009-03-19 23:22  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1056] web/edit_area_room.php:
	  
	  Fixed problem that stopped editing of area details working when
	  using periods.

2009-03-19 22:52  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1055] web/functions.inc:
	  
	  Fixed a problem with the display of multiple bookings when the
	  first booking in the slot starts at morningstarts.

2009-03-18 21:56  dceschools

	* [r1054] web/Themes/classic126.inc, web/Themes/default.inc,
	  web/config.inc.php, web/day.php, web/dbsys.inc,
	  web/edit_entry.php, web/edit_entry_handler.php,
	  web/functions.inc, web/lang.en, web/month.php, web/mrbs.css.php,
	  web/mrbs_sql.inc, web/report.php, web/search.php,
	  web/upgrade/3[ADD], web/upgrade/3/mysql.sql[ADD],
	  web/upgrade/3/pgsql.sql[ADD], web/view_entry.php, web/week.php:
	  
	  Added ability to create private bookings. If enabled, entries can
	  be hidden from other non-admin users. See config file to enable
	  this feature and for options.

2009-03-18 20:38  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1053] web/edit_entry.php:
	  
	  Made representation of 12 midnight with a 12 hour clock
	  consistent with the rest of MRBS - ie written as 12:00AM not
	  0:00AM.

2009-03-18 20:18  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1052] web/edit_entry_handler.php:
	  
	  Fix to avoid an undefined variable notice.

2009-03-18 19:14  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1051] tables.my.sql, web/config.inc.php, web/day.php,
	  web/dbsys.inc, web/edit_area_room.php, web/edit_entry.php,
	  web/edit_entry_handler.php, web/functions.inc, web/lang.en,
	  web/month.php, web/mrbs-ielte6.css, web/mrbs.css.php,
	  web/upgrade/2[ADD], web/upgrade/2/mysql.sql[ADD],
	  web/upgrade/2/pgsql.sql[ADD], web/upgrade/2/post.inc[ADD],
	  web/week.php:
	  
	  Made the timeslot settings (resolution, default_duration,
	  morningstarts, morningstarts_minutes, eveningends and
	  eveningends_minutes) per-area settings with the values being held
	  in the area table of the database. Default values are taken from
	  the config file. The area values can be edited from the
	  edit_area_room.php page. At this stage period settings have not
	  been moved to a per-area basis, but could be in the future, as
	  could other config variables such as timezone.

2009-03-16 16:10  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1050] web/upgrade.inc:
	  
	  Added the ability for a PHP file (called 'post.inc') to be
	  executed if present after a database upgrade. This allows, for
	  example, new columns to be populated with appropriate values.

2009-03-13 22:32  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1049] web/functions.inc:
	  
	  Fixed a problem with company name not appearing.

2009-03-13 22:29  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1048] web/day.php, web/functions.inc, web/week.php:
	  
	  Fixed some potential undefined index NOTICE errors.

2009-03-13 19:44  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1047] web/Themes/classic126.inc, web/Themes/default.inc,
	  web/day.php, web/functions.inc, web/mrbs-ielte6.css,
	  web/mrbs-js-overrides.css.php[ADD],
	  web/mrbs-js-overrides.js[ADD], web/mrbs.css.php, web/style.inc,
	  web/week.php:
	  
	  Fixed the display in the day and week views so that if there are
	  timeslots that have more than one booking then the table is still
	  displayed properly. Although normally it is not possible to have
	  more than one booking in a timeslot, it can occur if (a) the
	  resolution is increased, (b) the display day is shifted, or (c)
	  bookings were made before Revision 1040 and the booking was not
	  aligned to a timeslot.
	  
	  Cells with more than one booking are now displayed as a mini
	  table that can be maximised to see the details of the bookings.

2009-03-11 17:08  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1046] web/edit_users.php:
	  
	  Added a restriction that you cannot edit a username (even your
	  own) unless you are an admin with user editing rights.

2009-03-11 16:46  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1045] web/edit_users.php, web/lang.en:
	  
	  (1) Fixed a problem that meant that if you were using 'db'
	  authentication and had two levels of admin (booking admins at
	  level 2 and user admins at level 3), it was possible for booking
	  admins to edit other users details.
	  
	  (2) Added a language token for a level 3 admin

2009-03-05 17:31  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1044] web/mrbs.css.php, web/xbLib.js:
	  
	  Fixed bug which caused highlighting not to work in IE6 when the
	  $main_cell_height is increased from its default. See SF Tracker
	  2548900. Thanks to D. Faulkner for the solution.

2009-03-02 15:03  John Beranek <jberanek@users.sourceforge.net>

	* [r1043] web/config.inc.php:
	  
	  * Added a comment to the new config variable.

2009-03-02 14:57  John Beranek <jberanek@users.sourceforge.net>

	* [r1042] web/config.inc.php, web/session_php.inc:
	  
	  * Added new config variable,
	  $auth["session_php"]["session_expire_time"], which sets the
	  expiry time of the session cookie if you use the 'php' session
	  scheme. The default value in config.inc.php is 30 days, thereby
	  matching the expiry time of the 'cookie' session scheme. The
	  previous behaviour was that sessions were not persistent - this
	  can still be achieved by changing the config variable to 0. Also
	  changed the name of session to 'MRBS_SESSID' to make it more
	  distinct.

2009-03-02 14:30  John Beranek <jberanek@users.sourceforge.net>

	* [r1041] checklang.php, convert_db_to_utf8.php,
	  pgsql.before_php42.inc[DEL], testdata.php, web/add.php,
	  web/admin.php, web/auth_ext.inc, web/day.php, web/dbsys.inc,
	  web/del.php, web/del_entry.php, web/edit_area_room.php,
	  web/edit_entry.php, web/edit_entry_handler.php,
	  web/edit_users.php, web/functions.inc, web/grab_globals.inc.php,
	  web/help.php, web/index.php, web/month.php,
	  web/mrbs-print.css.php, web/mrbs.css.php, web/mrbs_auth.inc,
	  web/report.php, web/search.php, web/session_cookie.inc,
	  web/session_php.inc, web/trailer.inc, web/view_entry.php,
	  web/week.php:
	  
	  * Changed most 'include' statements to be 'require_once' as this
	  is really what they are.
	  
	  * Changed all but one page completions to use print_footer().
	  
	  * Removed stale file, 'pgsql.before_php42.inc'. If you use
	  Postgresql you must have PHP 4.2 or higher.
	  
	  * Added 'require_once "functions.inc"' into grab_globals.inc as
	  it uses a function (unslashes) from that file. This fixes a bug I
	  encountered during testing.

2009-03-02 01:29  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1040] web/edit_entry_handler.php:
	  
	  Fixed a problem with the rounding of booking slots to resolution
	  boundaries. It was possible to make a booking that neither
	  started nor ended on a slot boundary. If a subsequent booking was
	  made that started within the slot just after the previous booking
	  ended then there would be two bookings within the same slot,
	  throwing the display table into disarray.

2009-03-01 23:23  John Beranek <jberanek@users.sourceforge.net>

	* [r1039] web/dbsys.inc:
	  
	  * Fixed auth level check in db upgrade code.

2009-03-01 23:18  John Beranek <jberanek@users.sourceforge.net>

	* [r1038] tables.my.sql, tables.pg.73and_above.sql, tables.pg.sql,
	  web/add.php, web/admin.php, web/config.inc.php, web/day.php,
	  web/dbsys.inc, web/del.php, web/del_entry.php,
	  web/edit_area_room.php, web/edit_entry.php,
	  web/edit_entry_handler.php, web/edit_users.php,
	  web/functions.inc, web/help.php, web/lang.en, web/month.php,
	  web/mrbs_auth.inc, web/mysql.inc, web/mysqli.inc, web/pgsql.inc,
	  web/report.php, web/search.php, web/upgrade[ADD],
	  web/upgrade.inc[ADD], web/upgrade/1[ADD],
	  web/upgrade/1/mysql.sql[ADD], web/upgrade/1/pgsql.sql[ADD],
	  web/view_entry.php, web/week.php:
	  
	  * Added support for automatic database upgrades. This includes
	  the addition of a new database table, with the default name of
	  mrbs_variables.
	  
	  * Moved definition of table name variables out of config.inc.php,
	  into dbsys.inc.
	  
	  * Database version check/upgrade code is implemented in dbsys.inc
	  and upgrade.inc. Database upgrade SQL code is stored in
	  upgrade/<SCHEMA_VERSION>/<DB_TYPE>.sql. Added three new
	  localisation tokens into lang.en.
	  
	  * Added multiple inclusion protection to all functions.inc and
	  mrbs_auth.inc inclusions.
	  
	  * Added code to allow print_header() to be called more than once.
	  The second time just does nothing.
	  
	  * Added new DB abstraction function, sql_table_exists($table).
	  
	  * Added new function, print_footer(), to print a basic page
	  footer, and optionally exit.
	  
	  * Fixed prototype of getAuthorised().

2009-02-27 23:22  John Beranek <jberanek@users.sourceforge.net>

	* [r1037] web/auth_db_ext.inc:
	  
	  * Fixed syntax error reported on the mailing list.

2009-02-26 20:53  John Beranek <jberanek@users.sourceforge.net>

	* [r1036] tables.pg.73and_above.sql:
	  
	  * Fix for SF tracker #2637686 - fixes width of create_by column
	  in the mrbs_repeat table for Postgresql >= 7.3.

2009-02-26 15:14  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1035] web/edit_users.php:
	  
	  Minor update to a comment

2009-02-25 12:06  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1034] web/auth_db.inc, web/edit_users.php:
	  
	  Generalised the code for editing users so that it can in the
	  future cope with having admin levels higher than 2. This might be
	  necessary if one wants to have greater granularity of admin
	  rights, for example distinguishing between booking admins, user
	  admins and system admins. (A system admin might be necessary if,
	  for example, some of the parameters currently in the config file
	  are made editable from MRBS).

2009-02-25 11:47  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1033] web/edit_users.php:
	  
	  Removed code creating a duplicate hidden field, accidentally left
	  in during development.

2009-02-24 22:52  John Beranek <jberanek@users.sourceforge.net>

	* [r1032] AUTHENTICATION:
	  
	  * Updated documentation on 'db' and 'db_ext' auth methods - they
	  no longer claim to only work for MySQL.

2009-02-24 22:40  John Beranek <jberanek@users.sourceforge.net>

	* [r1031] web/dbsys.inc, web/mysql.inc, web/mysqli.inc:
	  
	  * Fixed name of sql_mysql_syntax_addcolumn_after() and
	  sql_mysqli_syntax_addcolumn_after().
	  
	  * Corrected comment above sql_syntax_addcolumn_after() function.

2009-02-24 22:27  John Beranek <jberanek@users.sourceforge.net>

	* [r1030] web/dbsys.inc, web/edit_users.php, web/mysql.inc,
	  web/mysqli.inc, web/pgsql.inc:
	  
	  Fixes for utilising 'db' auth method with a Postgresql database:
	  
	  * The new upgrade code used "ALTER TABLE ADD col AFTER othercol"
	  syntax, which isn't available in Postgresql. Added a new DB
	  abstraction call, sql_syntax_addcolumn_after($col), which returns
	  an empty string in any DB abstraction (like Postgresql) that
	  doesn't have the AFTER syntax.
	  
	  * Created another DB abstraction call,
	  sql_syntax_createtable_autoincrementcolumn(), which returns the
	  correct SQL to specify a column as being an auto-incrementing
	  integer. This is required because the syntax for this is quite
	  different between MySQL and Postgresql. edit_users.php now uses
	  this to create the mrbs_users table.
	  
	  * Removed the use of the "REPLACE INTO" SQL in edit_users.php,
	  which Postgresql doesn't support. Based on the patches received
	  from Taryn East.

2009-02-24 19:26  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1029] AUTHENTICATION, web/auth_config.inc, web/auth_db.inc,
	  web/auth_db_ext.inc, web/auth_ext.inc, web/auth_imap.inc,
	  web/auth_imap_php.inc, web/auth_ldap.inc, web/auth_nis.inc,
	  web/auth_none.inc, web/auth_nw.inc, web/auth_pop3.inc,
	  web/config.inc.php, web/edit_users.php, web/lang.ca, web/lang.cs,
	  web/lang.da, web/lang.de, web/lang.el, web/lang.en, web/lang.es,
	  web/lang.eu, web/lang.fi, web/lang.fr, web/lang.it, web/lang.ja,
	  web/lang.ko, web/lang.nl, web/lang.no, web/lang.pl, web/lang.pt,
	  web/lang.sl, web/lang.sv, web/lang.tr, web/lang.zh-cn,
	  web/lang.zh-tw, web/mrbs.css.php, web/mrbs_auth.inc:
	  
	  Upgraded the DB authentication scheme so that access rights are
	  now stored in the MRBS database and administered from MRBS.
	  (Previously admin users were configured in the config file).
	  
	  If upgrading from an earlier version of MRBS that was using DB
	  authentication, then the first time that edit_users.php is run,
	  MRBS will automatically add the access rights field to the users
	  table and give admin rights to those users for whom admin rights
	  are configured in the config file. So if upgrading, make sure
	  that the admin rights are in the config file until edit_users.php
	  has been run for the first time. After that MRBS does not check
	  the config file for admin rights, but instead checks the
	  database, so the admin rights in the config file can then be
	  deleted.
	  
	  If running MRBS, or MRBS using DB authentication for the first
	  time, the system will automatically create the users table as
	  before and then you must add the first administrator user.
	  
	  As safety measures, MRBS will force the first user created to be
	  an admin user, and will prevent you from deleting the last admin
	  user in the table.
	  
	  At the same time the function authGetUserLevel has been modified
	  so that it just takes one parameter instead of two. The second
	  parameter was always the same, $auth, which was a global anyway.
	  With the changes to the DB authentication scheme, the second
	  parameter is not needed, and for all other schemes it can be
	  accessed as a global.
	  
	  Based on contributions from Taryn East.

2009-02-18 00:20  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1028] web/config.inc.php:
	  
	  Updated comment to reflect the fact that colours for booking
	  types are now defined in the Themes directory.

2009-02-15 21:42  John Beranek <jberanek@users.sourceforge.net>

	* [r1027] web/lang.en:
	  
	  * English translation change, as suggested on the mailing list.

2009-02-15 19:57  John Beranek <jberanek@users.sourceforge.net>

	* [r1026] web/view_entry.php:
	  
	  * Implemented suggestion from SF tracker #1696876.

2009-02-15 18:41  John Beranek <jberanek@users.sourceforge.net>

	* [r1025] web/lang.pl[ADD]:
	  
	  * Added Polish translation, provided by Arkadiusz Patyk.

2009-02-15 13:17  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1024] web/Themes/classic126.inc, web/Themes/default.inc:
	  
	  Tweaked border colours for print view to tie in with theme colour
	  schemes.

2009-02-15 13:11  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1023] web/mrbs-print.css.php:
	  
	  Added a top margin to the colour key table in the print view in
	  order to separate it from the main table. (In the screen view the
	  separation is provided by the Goto Prev/This/Next links)

2009-02-15 12:54  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1022] web/Themes/classic126.inc, web/Themes/default.inc,
	  web/config.inc.php, web/mrbs-print.css[DEL],
	  web/mrbs-print.css.php[ADD], web/mrbs.css.php, web/style.inc:
	  
	  - Changed the print media CSS so that it can use different table
	  and cell border colours from the screen view. Without this, cell
	  boundaries are invisible when printed. - As part of this change
	  moved the selection of theme from the CSS file to the config
	  file, which makes sense as all major configuration choices are
	  made in the config file

2009-02-14 23:32  John Beranek <jberanek@users.sourceforge.net>

	* [r1021] web/version.inc:
	  
	  * Updated version number to 1.4.1+svn.

2009-02-14 23:31  John Beranek <jberanek@users.sourceforge.net>

	* [r1020] web/edit_entry_handler.php:
	  
	  * A couple of changes that should hopefully solve the reported
	  problems of a number in an SQL statement being in "engineering"
	  format and therefore causing an SQL error. First report was SF
	  #1794351 I believe.

2009-02-14 21:51  John Beranek <jberanek@users.sourceforge.net>

	* [r1017] ChangeLog, NEWS:
	  
	  * Updated NEWS and ChangeLog for 1.4.1 release.

2009-02-14 14:10  John Beranek <jberanek@users.sourceforge.net>

	* [r1016] web/version.inc:
	  
	  * Updated version number for 1.4.1 release.

2009-02-06 13:11  John Beranek <jberanek@users.sourceforge.net>

	* [r1012] NEWS, README.nwauth, web/Themes/classic126.inc,
	  web/Themes/default.inc, web/mrbs-ie8.css, web/mrbs-ielte6.css,
	  web/mrbs-ielte7.css, web/site_faq_nl.html:
	  
	  * Added svn:eol-type native to Theme files, and added missing
	  final \n's to a number of files. I wrote a script to check for
	  both problems, which I'll check-in to the tools tree.

2009-02-06 12:47  John Beranek <jberanek@users.sourceforge.net>

	* [r1011] web/Blowfish.php, web/Blowfish/DefaultKey.php,
	  web/dbsys.inc, web/mrbs-ie.css, web/mrbs-ie8.css,
	  web/mrbs-ielte6.css, web/mrbs-ielte7.css, web/mrbs-print.css,
	  web/mrbs.css.php, web/site_faq_nl.html:
	  
	  * Set svn:eol-style to native on some files that didn't have it
	  set yet.

2009-02-05 22:34  John Beranek <jberanek@users.sourceforge.net>

	* [r1010] web/dbsys.inc, web/version.inc:
	  
	  * Added missing $Id$ to a few files.

2009-02-05 22:25  John Beranek <jberanek@users.sourceforge.net>

	* [r1009] web/version.inc:
	  
	  * Belated updated version specifier to 1.4+svn.

2009-01-24 17:03  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1004] web/Themes[ADD], web/Themes/classic126.inc[ADD],
	  web/Themes/default.inc[ADD], web/mrbs.css.php:
	  
	  Added the concept of Themes to MRBS, and implemented the first
	  theme - "classic126" which uses the MRBS 1.2.6 colour scheme.
	  
	  Colours which can be changed have now been extracted from the
	  main CSS file and put in an include file in the Themes directory.
	  Themes are selected by commenting out or un-commenting the
	  appropriate include statements in the main CSS file.

2009-01-23 20:51  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1003] web/edit_entry_handler.php:
	  
	  Added to comments.

2009-01-23 20:36  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1002] web/edit_entry.php:
	  
	  User feedback improvement: changed the period that is shown
	  (disabled) in the Period field when All Day is checked to the
	  first period, and restored the previous value when it is
	  unchecked. This matches the behaviour when using time slots. See
	  also Revision 991 and SF Tracker #2494369

2009-01-23 20:31  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1001] web/edit_entry_handler.php:
	  
	  Fixed a bug which meant that repeating All Day bookings were not
	  being booked for the right number of days (eg daily repeats were
	  being booked for N-1 instead of N days). Bug caused by the fact
	  that the JavaScript in edit_entry was disabling some fields, and
	  so they were not being passed through by the form. Could have
	  fixed this by changing edit_entry to make the fields readonly
	  instead of disabled, and thus passed through, but decided not to
	  as browsers generally do not grey out readonly fields - and so
	  there would not be enough user feedback. Instead decided to fix
	  by setting the relevant form variables at the beginning of
	  edit_entry_handler when all_day is checked.
	  
	  Note that these symptoms were in MRBS before the disabled fields
	  were introduced in Revision 991, but the cause was different:
	  whilst the fields were enabled, their values were being set to 0
	  and so the test for when to finish a repeat series was finishing
	  prematurely.
	  
	  See also SF Tracker #2494369.

2009-01-22 09:53  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r1000] web/mrbs-ielte7.css:
	  
	  Added keywords

2009-01-22 00:36  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r999] web/config.inc.php, web/day.php, web/functions.inc,
	  web/mincals.inc, web/month.php, web/mrbs-ie8.css,
	  web/mrbs-ielte7.css[ADD], web/mrbs.css.php, web/style.inc,
	  web/trailer.inc, web/week.php:
	  
	  Implemented the option to hide certain days of the week (eg
	  weekends) in the week and month views. The days of the week are
	  specified in the config file by the array $hidden_days. Hidden
	  days will not be displayed in the main table in the week and
	  month views; they will be greyed out in the trailer links and in
	  the mini-cals; and in the day view the Goto Next/Previous links
	  will skip past them. However they are are still bookable if you
	  want, by choosing the day in the edit entry form, and you can
	  still see bookings for hidden days if you jump directly to the
	  day view for a hidden day using the date selector. Moreover it is
	  perfectly possible to book repeating bookings that fall on hidden
	  days. (The option to prevent certain days of the week being
	  booked by non-admins is an independent option which could be
	  implemented at a later date).

2009-01-20 14:17  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r998] web/config.inc.php:
	  
	  Fixed problem reported by Phillip Williams on the mailing list.
	  Checking of $resolution and slot times now only happens if
	  periods are not enabled, and checking of the number of periods
	  defined only happens if periods are enabled.

2009-01-19 14:01  John Beranek <jberanek@users.sourceforge.net>

	* [r997] web/mysql.inc:
	  
	  * Corrected mispelt function implementation in 'mysql' DB
	  abstraction layer.

2009-01-15 09:22  John Beranek <jberanek@users.sourceforge.net>

	* [r996] AUTHENTICATION:
	  
	  * Small documentation fix, db_ext authentication method no longer
	  says it is only for a MySQL database.

2009-01-14 22:04  John Beranek <jberanek@users.sourceforge.net>

	* [r995] web/dbsys.inc[ADD]:
	  
	  * Added new file that I forgot to add in the previous checkin!

2009-01-14 21:48  John Beranek <jberanek@users.sourceforge.net>

	* [r994] AUTHENTICATION, README.sqlapi, web/add.php, web/admin.php,
	  web/auth_db_ext.inc, web/config.inc.php, web/day.php,
	  web/del.php, web/del_entry.php, web/edit_area_room.php,
	  web/edit_entry.php, web/edit_entry_handler.php,
	  web/edit_users.php, web/help.php, web/index.php, web/month.php,
	  web/mysql.inc, web/mysqli.inc, web/pgsql.inc, web/report.php,
	  web/search.php, web/view_entry.php, web/week.php:
	  
	  * Revamped the database abstraction system a bit. You can now use
	  the abstraction API to connect to any database you like, as long
	  as an abstraction is provided for it. This has been made possible
	  by creating a new PHP file, dbsys.inc, that defines all the sql_*
	  functions. Each database abstraction then defines sql_XXX_*,
	  where XXX is the database system. Additionally to the old API
	  there is then an sql_connect() function to connect to a database,
	  and also an sql_XXX_default_connect() function that connects to
	  the default MRBS database as appropriate in a particular
	  abstraction.
	  
	  * 'db_ext' authentication scheme can now use any of the available
	  SQL abstraction schemes, by defining
	  $auth['db_ext']['db_system']. If this is not defined the
	  configuration variable is defaulted to 'mysql'.

2009-01-12 21:51  John Beranek <jberanek@users.sourceforge.net>

	* [r993] web/lang.it:
	  
	  * Small Italian translation update from Claudio Strizzolo.

2009-01-12 11:20  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r992] web/mincals.inc:
	  
	  Fixed the problem of the sticky week not being highlighted
	  properly. First reported by dmacdoug in the mailing list. Fix
	  attempted in Revision 983, which proved to be incorrect. Many
	  thanks to dwpoon for this fix. Se also SF Patches item #2493501.

2009-01-09 19:30  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r991] web/edit_entry.php:
	  
	  Fixed SF Tracker #2494369 (The duration length and units can
	  still be changed even when All Day is checked, leading to user
	  confusion). Fix based on input from David Cummins.

2008-12-21 22:22  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r990] web/xbLib.js:
	  
	  Further improved testing for IE6 or lower browsers by: - testing
	  for null href strings, which will be the case for embedded style
	  sheets (if used) - stopping testing style sheets once an IE6 or
	  lower sheet has been found

2008-12-19 15:57  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r989] web/edit_entry_handler.php:
	  
	  Fixed bug reported by Brian Taylor in the mailing list (" If I
	  use the search facility to find a specific entry, click on edit
	  and then save I get the error message - Empty or invalid search
	  string. This only happens if you attempt to edit an entry, all
	  the other options work."). After editing an entry found from a
	  search you are now returned to the default view for the date that
	  you have just edited. [The alternative is to return the user to
	  the search results, but I'm not sure that's particularly useful -
	  and besides it would be a little trickier to code as you'd have
	  to preserve the search parameter in the query string.]

2008-12-18 17:29  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r988] web/edit_entry_handler.php:
	  
	  Fixed problem reported by Michael Graham on the mailing list:
	  bookings for fractions of an hour are incorrectly rounded down.

2008-12-18 17:00  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r987] web/style.inc, web/xbLib.js:
	  
	  Changed the way that the JavaScript tests for the presence of IE6
	  or lower browsers (and therefore whether to use JavaScript or CSS
	  highlighting). It now checks the "href" strings of style sheets
	  that have been loaded, rather than the titles, as using titles
	  causes other problems (see SF tracker #2418073). This change
	  improves on the fix supplied in Revision 986 as there is now need
	  for titles at all, and they can now be used in future if
	  necessary for the purposes for which they were intended (eg
	  distinguishing between persistent and preferred style sheets).

2008-12-13 20:23  John Beranek <jberanek@users.sourceforge.net>

	* [r986] web/day.php, web/style.inc, web/week.php:
	  
	  * Fix for SF tracker #2418172, fixing a bug that stopped time
	  highlighting from working. Fix supplied by David Cummings.
	  
	  * Fix for SF tracker #2418073, fixing a bug that stopped the
	  print media stylesheet from working in Firefox. Fix suplied by
	  David Cummings.

2008-12-12 09:57  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r984] web/mincals.inc:
	  
	  Improved comments and variable naming to make it slightly clearer
	  what's going on when working out which days to highlight in the
	  week view.

2008-12-12 00:00  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r983] web/mincals.inc:
	  
	  Fixed bug reported by dmacdoug in the mailing list: the week view
	  highlighting is shifted forward one day.

2008-12-11 10:31  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r982] web/search.php:
	  
	  Fixed bug reported by Paul Turner on the mailing list: the 'Next'
	  button in Search does not work.

2008-12-10 08:14  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r981] web/mrbs.css.php:
	  
	  Fixed error introduced in last revision. (Spelling of color).
	  Third time lucky!

2008-12-09 10:55  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r980] web/mrbs.css.php:
	  
	  Corrected a very minor mistake introduced in the last revision
	  (no impact on appearance)

2008-12-08 11:45  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r978] web/config.inc.php, web/functions.inc:
	  
	  Added the ability to have supplementary text after the company
	  logo or name (for example "XYZ Department") as some users need
	  this.

2008-12-08 11:25  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r977] web/config.inc.php, web/functions.inc, web/mrbs.css.php:
	  
	  Fixed bug which was causing the wrong text to be sent in the
	  subject line for email notifications when $mrbs_company was set
	  to be a logo image

2008-12-05 13:57  John Beranek <jberanek@users.sourceforge.net>

	* [r973] web/edit_entry_handler.php:
	  
	  * Fix for SF tracker #2388038 as provided in the tracker by
	  'blueteen'. Now uses the right SQL column for the area name when
	  building a notification email.

2008-12-03 14:35  John Beranek <jberanek@users.sourceforge.net>

	* [r966] ChangeLog, NEWS:
	  
	  * Updated NEWS and ChangeLog for 1.4 release.

2008-12-03 14:27  John Beranek <jberanek@users.sourceforge.net>

	* [r965] web/version.inc:
	  
	  * Updated version number to 1.4.

2008-12-03 14:27  John Beranek <jberanek@users.sourceforge.net>

	* [r964] web/config.inc.php:
	  
	  * Tweaked the comment in config.inc.php about setting $timezone.

2008-11-14 15:31  John Beranek <jberanek@users.sourceforge.net>

	* [r963] web/lang.en:
	  
	  * Third time lucky with translation update!

2008-11-14 15:29  John Beranek <jberanek@users.sourceforge.net>

	* [r962] web/lang.en:
	  
	  * Fixed a typo in my previous translation update.

2008-11-14 15:25  John Beranek <jberanek@users.sourceforge.net>

	* [r961] web/lang.en:
	  
	  * Clarified 'no_users_create_first_admin' English translation a
	  bit.

2008-11-14 14:20  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r960] web/config.inc.php:
	  
	  Added a comment to the config file to make it clear that the 'db'
	  authentication scheme relies on there being an admin user called
	  'administrator' for initial set-up.

2008-11-14 13:07  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r959] web/edit_users.php:
	  
	  Changed the value of the Submit button when adding or editing a
	  user from "OK" to "Save". The "OK" button was misleading as it
	  could be interpreted as a request to acknowledge an error
	  message.

2008-11-14 12:49  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r958] web/edit_users.php, web/lang.en:
	  
	  Changed edit_users.php so that it won't accept users with no
	  name.

2008-11-14 12:29  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r957] web/edit_users.php:
	  
	  Fixed bug in edit_users.php, so that field values (eg user names)
	  are now put through htmlspecialchars() before being displayed in
	  the user list.

2008-11-14 12:16  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r956] web/edit_users.php, web/lang.en:
	  
	  Fixed SF bug 2275465, originally reported by Simon Hunter.
	  Edit_users will now ensure that user names are unique.

2008-11-09 22:04  John Beranek <jberanek@users.sourceforge.net>

	* [r955] web/config.inc.php:
	  
	  * Commented out default timezone in config.inc.php, I didn't mean
	  to have it uncommented.

2008-11-09 21:59  John Beranek <jberanek@users.sourceforge.net>

	* [r954] web/add.php, web/auth_db.inc, web/config.inc.php,
	  web/edit_area_room.php, web/edit_users.php, web/functions.inc,
	  web/mrbs_sql.inc, web/session_http.inc, web/site_faq_nl.html:
	  
	  * Fixed database escaping issues, reported as SF tracker #2229897
	  and diagnosed by 'mahbr'.
	  
	  * Added setting into config.inc.php (and code to use it) to set
	  the timezone that the MRBS web server runs in. This is especially
	  required with PHP 5 on Linux, as if you don't set the timezone it
	  seems PHP just runs without any proper timezone functionality.

2008-11-07 14:35  John Beranek <jberanek@users.sourceforge.net>

	* [r953] web/edit_entry_handler.php:
	  
	  * Fixed booking of meetings when $twentyfourhour_format is 0.
	  Wasn't reading the 'ampm' form field in edit_entry_handler.php.
	  Reported in SF tracker #2107847 by jwarchol.

2008-11-05 17:41  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r952] web/xbLib.js:
	  
	  Modified xblSetNodeBgColor(node, color) so that it can cope with
	  a null color. Although most browsers seem to accept a value of
	  null being passed to setAttribute or setProperty, some, eg
	  Konqueror, do not. It was this that was causing the "sticky
	  highlighting" problem in Konqueror. (Although the "sticky
	  highlighting" problem has already been cured by ensuring that a
	  null value is never passed to xblSetNodeBgColor(), this change is
	  being made as an added precaution).

2008-10-28 01:37  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r951] web/mrbs.css.php:
	  
	  Tweaked formatting of edit_entry form

2008-10-28 01:23  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r950] web/edit_entry.php, web/mrbs.css.php:
	  
	  (1) Fixed layout of am/pm radio buttons in the edit_entry form
	  (when not using 24 hour format) (2) Tweaked styling of inputs on
	  the edit_entry form

2008-10-26 18:35  John Beranek <jberanek@users.sourceforge.net>

	* [r949] web/functions.inc:
	  
	  * Patch to fix a problem reported in SF tracker #2193184. Problem
	  reported and patch supplied by 'peterjclaw'.

2008-10-21 21:57  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r948] web/mrbs-ielte6.css, web/mrbs.css.php:
	  
	  Implemented $month_cell_scrolling so that the scrolling behaviour
	  in the month view can be easily turned off and on.

2008-10-19 11:45  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r947] web/config.inc.php:
	  
	  Fixed the comments concerning the use of a company logo: made the
	  suggested code HTMl 4.01 compliant.

2008-10-19 08:04  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r946] web/mrbs.css.php:
	  
	  (1) Fixed problem whereby the minical links were not behaving
	  properly when you hovered over them (because I'd forgotten to
	  restrict the tr:hover behaviour to the bookings table when
	  introducing CSS highlighting) (2) Tweaked the default colour for
	  an invalid day in the month view to tie in to the default colour
	  scheme (3) Tweaked the default colour for the search term in
	  search results to tie in to the default colour scheme

2008-10-18 21:49  John Beranek <jberanek@users.sourceforge.net>

	* [r945] ChangeLog:
	  
	  * Unset 'svn:keywords' on ChangeLog.

2008-10-18 19:41  John Beranek <jberanek@users.sourceforge.net>

	* [r943] ChangeLog, NEWS:
	  
	  * Updated NEWS and ChangeLog for MRBS 1.4beta2 release.

2008-10-18 18:59  John Beranek <jberanek@users.sourceforge.net>

	* [r942] web/version.inc:
	  
	  * Updated version specifier to 1.4beta2.

2008-10-18 09:16  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r941] web/functions.inc:
	  
	  Optimised HTML output in tdcell by suppressing rowspan="n" when
	  n=1.

2008-10-17 15:04  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r940] web/mrbs.css.php:
	  
	  Updated comments to explain the new behaviour whereby the time
	  period cell corresponding to the start of a booking is
	  highlighted when you hover over a booked cell.

2008-10-17 12:20  John Beranek <jberanek@users.sourceforge.net>

	* [r939] web/language.inc:
	  
	  * Added Hungarian support to the internationalisation - only
	  required entries in the Windows specific maps, as hu_HU is the
	  POSIX locale.

2008-10-17 11:18  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r938] web/mrbs.css.php:
	  
	  Tweaked default colours to provide more contrast between odd and
	  even rows.

2008-10-16 21:29  John Beranek <jberanek@users.sourceforge.net>

	* [r937] LANGUAGE, web/functions_mail.inc, web/lang.ca,
	  web/lang.es:
	  
	  * Removed all HTML entities in the translations apart from
	  &nbsp;. The only two languages that used these were Spanish and
	  Catalan. Updated LANGUAGE document to tell translators to not use
	  character entities. This was all done because functions_mail.inc
	  was having to call html_entity_decode() to remove the HTML
	  entities, but this function was only added in PHP 4.3, and only
	  works properly (in UTF-8) from PHP 5. The use of
	  html_entity_decode() has now been removed.

2008-10-16 09:43  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r936] web/config.inc.php, web/month.php, web/mrbs.css.php,
	  web/style.inc, web/week.php, web/xbLib.js:
	  
	  Fixed the problem of poor performance of cell highlighting in IE7
	  and IE8 when the day and week tables are large by implementing
	  CSS highlighting (ie using the :hover pseudo-class) as the
	  default. JavaScript highlighting is now only used if (a)
	  $javascript_cursor is set to true in the config file and (b) the
	  browser is IE6 or less. At the same time changed the default mode
	  for JavaScript highlighting back to 'hybrid', as this gives
	  better performance than 'class' for IE6.

2008-10-14 10:23  John Beranek <jberanek@users.sourceforge.net>

	* [r935] web/lang.ja:
	  
	  * Updated Japanese translation from MATSUURA Takanori.

2008-10-09 15:40  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r934] web/xbLib.js:
	  
	  Reverted last set of changes

2008-10-09 14:26  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r933] web/xbLib.js:
	  
	  Implemented a better fix for the Konqueror "sticky highlighting"
	  problem - as suggested by Jean-François Larvoire

2008-10-01 12:47  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r932] web/mrbs.css.php:
	  
	  Added some padding to the table header cells in the
	  day/week/month views.

2008-09-30 12:21  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r931] web/config.inc.php, web/xbLib.js:
	  
	  Fixed the "sticky highlighting" problem in Konqueror (highlighted
	  cells do not go back to normal when you move the mouse out and
	  the highlight method is set to "hybrid").

2008-09-28 19:16  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r930] web/mrbs.css.php:
	  
	  Changed default colours for booking types.

2008-09-28 18:56  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r929] web/day.php, web/month.php, web/week.php:
	  
	  Fixed bug introduced in revision 890. Day/week/month now use the
	  database abstraction layer.

2008-09-26 10:16  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r928] web/del_entry.php:
	  
	  Ensured that if you delete an entry you go back to the view you
	  started from, rather than the day view. (See also Revision 921).

2008-09-26 10:06  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r927] web/view_entry.php:
	  
	  Fixed view_entry.php so that if you edit or copy an entry from
	  here, then you go back afterwards to where you were beforehand
	  (with some sensible view if you got there from an email). (See
	  also Revision 921)

2008-09-26 08:25  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r926] web/edit_entry.php, web/session_cookie.inc,
	  web/session_php.inc:
	  
	  Fixed the edit entry procedure so that if you try to create a new
	  booking without first being logged on, you are returned at the
	  end of the procedure to the view that you started at, instead of
	  being returned to the default view. (See also Revision 921).

2008-09-25 22:47  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r925] web/add.php, web/admin.php, web/del.php,
	  web/del_entry.php, web/edit_area_room.php, web/edit_entry.php,
	  web/edit_entry_handler.php, web/edit_users.php,
	  web/mrbs_auth.inc:
	  
	  Tidied up changes for "sticky room" by ensuring that the room
	  information is passed to showAccessDenied.

2008-09-25 21:32  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r924] web/edit_entry_handler.php:
	  
	  Modified edit_entry_handler.php so that the "sticky day" and
	  "sticky room" are updated when a booking is made, as presumably
	  the user is now interested in the day and room that they were
	  trying to book, rather than the previous sticky day and room.

2008-09-25 20:03  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r923] web/edit_entry_handler.php:
	  
	  Modified edit_entry_handler.php so that the possibility of the
	  return url giving an endless loop is avoided.

2008-09-25 18:59  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r922] web/admin.php, web/day.php, web/del.php,
	  web/edit_area_room.php, web/edit_entry.php,
	  web/edit_entry_handler.php, web/edit_users.php,
	  web/functions.inc, web/help.php, web/month.php,
	  web/mrbs_auth.inc, web/report.php, web/search.php,
	  web/session_cookie.inc, web/session_php.inc, web/view_entry.php,
	  web/week.php:
	  
	  Ensured that room information is preserved as you switch between
	  views (ie in the same that the day information is now preserved
	  as the "sticky day", so there is a "sticky room").

2008-09-23 08:20  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r921] web/edit_entry_handler.php:
	  
	  Fixed edit_entry_handler.php so that on exit it returns to the
	  page it was called from instead of going automatically to the day
	  view.

2008-09-23 08:18  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r920] web/month.php:
	  
	  Added day information to the room and area HTML links in the
	  month view (the Select drop-down menus were OK, as were the day
	  and week views).

2008-09-19 09:28  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r919] web/month.php, web/mrbs.css.php:
	  
	  1. Improved behaviour of new booking link in the month view so
	  that the link is now active everywhere in the cell where there
	  isn't something else.
	  
	  2. Changed the title for bookings in the month view so that the
	  full information (slot time and description) is displayed in the
	  title tooltip when you hover over the booking for all three modes
	  ('slot', 'description' and 'both').

2008-09-18 15:41  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r918] web/mincals.inc, web/mrbs.css.php, web/trailer.inc,
	  web/week.php:
	  
	  (1) Added highlighting of the "sticky day" to the mini-cals, on
	  top of highlighting the current day/week/month.
	  
	  (2) Implemented the "sticky day" in the week links, preserving
	  the day of the week when moving to a week for which the current
	  sticky day is invalid.
	  
	  (3) Added links to the View Day/Week/Month labels in the classic
	  trailer, to bring it into line with the simple trailer and to
	  assist navigation between the day/week/month views now that the
	  "sticky date" concept is working.

2008-09-18 08:46  John Beranek <jberanek@users.sourceforge.net>

	* [r917] web/lang.it:
	  
	  * A few Italian translation updates, from Erica Maria Peressini.

2008-09-17 15:54  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r916] web/month.php, web/trailer.inc:
	  
	  Improved links in trailer and month views so that day information
	  is preserved if possible (following Chris Cook's suggestion).

2008-09-17 15:09  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r915] web/day.php, web/month.php, web/week.php:
	  
	  Improved choice of default day in month.php following Chris
	  Cook's suggestion. At the same time tidied up default date
	  selection in day and week views.

2008-09-17 14:21  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r914] web/lang.ca, web/lang.es, web/lang.eu, web/lang.sv,
	  web/lang.zh-cn, web/mrbs.css.php:
	  
	  1. Fixed internationalisation issues in CSS (the CSS was
	  generating commas as decimal points in some locales).
	  
	  2. Adjusted default CSS sizes to suit most translations.
	  
	  3. Tidied up some language files - removing superfluous colons or
	  correcting typos in HTML entities.

2008-09-17 09:41  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r913] web/config.inc.php, web/mrbs.css.php:
	  
	  1. Fixed problem that caused the admin form in Safari to stretch
	  to the full screen width
	  
	  2. Changed default setting of show_plus_link to be 'false'.
	  
	  3. Changed default setting of highlight_method to be 'class'.
	  This lets you specify other properties for highlighted cells
	  apart from just the background colour - in particular the font
	  colour so that if you switch to a light background you can switch
	  the font to be dark. (It also avoids the "sticky highlighting"
	  problem in Konqueror which shows up using 'hybrid'. This problem
	  still needs to be fixed though). Also adjusted some of the
	  styling to work better with 'class'.

2008-09-16 15:53  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r912] web/mrbs-ielte6.css, web/mrbs.css.php, web/search.php,
	  web/trailer.inc:
	  
	  1. Improved display (kept left-right alignment of labels and
	  inputs) when the browser window width is decreased for the
	  edit_entry, search, report and logon forms.
	  
	  2. Improved display of trailer, especially when the browser width
	  is decreased.

2008-09-16 12:57  John Beranek <jberanek@users.sourceforge.net>

	* [r911] web/edit_entry.php, web/edit_entry_handler.php:
	  
	  * Added missing 'period' form variable in edit_entry.php and
	  edit_entry_handler.php that was stopping correct booking of
	  meetings if you were in 'periods' mode. As reported and solved by
	  Chris Cook on the mailing list.

2008-09-16 09:37  John Beranek <jberanek@users.sourceforge.net>

	* [r910] web/config.inc.php, web/report.php:
	  
	  * Fixed problem that caused selection of booking type in reports
	  not to work.
	  
	  * Fixed small typo in the config file.

2008-09-16 09:32  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r909] web/edit_entry.php:
	  
	  Fixed bug that caused selection of multiple rooms not to work

2008-09-15 15:43  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r908] web/functions.inc:
	  
	  Fixed bug that caused incorrect number of days to be displayed in
	  date selector when first loaded (and also caused Internet
	  Explorer to report "Done, but with errors on page" in status bar)

2008-09-15 10:35  John Beranek <jberanek@users.sourceforge.net>

	* [r907] web/lang.fr:
	  
	  * French translation updates from Alain PORTAL.

2008-09-14 19:03  John Beranek <jberanek@users.sourceforge.net>

	* [r906] web/lang.cz[DEL], web/lang.es, web/lang.it, web/lang.tr:
	  
	  * Updated Italian translations from Erica Maria Peressini,
	  Turkish translations from Ahmet YILDIZ and Spanish translations
	  from SoTMaR.
	  
	  * Deleted old, incorrectly named lang.cz translation, the proper
	  file is lang.cs.

2008-09-13 22:02  John Beranek <jberanek@users.sourceforge.net>

	* [r905] web/site_faq_nl.html:
	  
	  * Converted some encoded characters to character entities, as
	  encoded characters are unsafe in FAQ files in MRBS's current
	  internationalisation implementation.

2008-09-13 21:24  John Beranek <jberanek@users.sourceforge.net>

	* [r904] web/site_faq_nl.html[ADD]:
	  
	  * Added Dutch site FAQ, as provided by Cor Marjee.

2008-09-13 21:19  John Beranek <jberanek@users.sourceforge.net>

	* [r903] web/lang.nl:
	  
	  * Dutch translation updates from Cor Marjee.

2008-09-13 21:03  John Beranek <jberanek@users.sourceforge.net>

	* [r902] web/lang.sl:
	  
	  * Slovenian translation updates from Martin Terbuc.

2008-09-13 19:48  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r901] web/functions.inc, web/mrbs.css.php:
	  
	  Moved the styling introduced in Revision 895 out of functions.inc
	  and into CSS

2008-09-13 19:13  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r900] web/functions.inc:
	  
	  The bug fix in Revision 895 was incomplete. The colour key table
	  should now be fixed so that incomplete first rows are drawn
	  properly, as well as incomplete subsequent rows.

2008-09-13 17:52  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r899] web/trailer.inc:
	  
	  Fixed links in "simple trailer" so that the area and room are
	  correct

2008-09-13 17:46  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r898] web/mrbs.css.php:
	  
	  Improved display of trailer in "classic" view

2008-09-13 17:07  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r897] web/month.php:
	  
	  Added a title to the booking in "both" mode, so that the full
	  text of the booking description can be seen when you hover over
	  it.

2008-09-13 16:54  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r896] web/config.inc.php, web/mrbs.css.php, web/trailer.inc:
	  
	  Implemented the "simple trailer" as suggested by Chris Cook

2008-09-13 15:30  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r895] web/functions.inc:
	  
	  Improved display of colour key tables so that cell borders are
	  not drawn at the end of an incomplete row.

2008-09-13 15:04  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r894] web/functions.inc:
	  
	  Fixed bug that caused colour key table to be drawn incorrectly
	  when there were more than 10 colour types

2008-09-13 14:59  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r893] web/functions.inc:
	  
	  Improved layout of colour key table so that unequal rows are
	  avoided if possible.

2008-09-10 22:30  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r892] web/month.php:
	  
	  Fixed bug which caused HTML validation to fail in the month view
	  if the first day of the month was also the first day of the week
	  (ie no greyed out days at the beginning of the first row).

2008-09-10 21:45  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r891] web/day.php, web/month.php, web/week.php:
	  
	  Fixed a typo in the comments in the last change

2008-09-10 21:32  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r890] web/day.php, web/month.php, web/week.php:
	  
	  Improved the display of the day/week/month views so that the area
	  select box or list is not displayed if there is only one area
	  defined (as then it's redundant).

2008-09-10 20:07  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r889] web/functions.inc:
	  
	  Improved the layout of the colour key table when there are long
	  type descriptions (which one would not normally expect anyway).
	  The content is now clipped so that the table does not become too
	  large, but in order that you can still read the full description
	  if you want to, it's also in the title for the cell: so hovering
	  over the cell will give you the full description.

2008-09-10 16:04  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r888] web/mrbs.css.php:
	  
	  Fixed bug whereby the CSS for an all day booking wasn't being
	  generated. It seems that the only visible effect was that an all
	  day booking cell was only clickable over the text, rather than
	  the whole cell. However there may have been other problems that I
	  hadn't noticed.

2008-09-10 15:45  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r887] web/mrbs.css.php:
	  
	  Fixed minor problem whereby, with $show_plus_link set to FALSE,
	  the cursor wasn't showing a pointer when hovering over an empty
	  cell, even though the link was active.

2008-09-09 20:21  John Beranek <jberanek@users.sourceforge.net>

	* [r886] NEWS:
	  
	  * Fixed a few typos/spelling mistakes in NEWS.

2008-09-09 19:51  John Beranek <jberanek@users.sourceforge.net>

	* [r883] ChangeLog:
	  
	  * Updated changelog for MRBS 1.4beta1 release.

2008-09-09 19:48  John Beranek <jberanek@users.sourceforge.net>

	* [r882] NEWS, web/version.inc:
	  
	  * Changed beta version specifier to 1.4beta1.
	  
	  * Updated NEWS for 1.4beta1 release.

2008-09-09 16:36  John Beranek <jberanek@users.sourceforge.net>

	* [r879] ChangeLog:
	  
	  * Updated changelog for MRBS 1.4-b1 release.

2008-09-09 16:33  John Beranek <jberanek@users.sourceforge.net>

	* [r878] web/version.inc:
	  
	  * Updated version number for MRBS 1.4-b1.

2008-09-09 16:31  John Beranek <jberanek@users.sourceforge.net>

	* [r877] web/config.inc.php, web/help.php, web/lang.en,
	  web/mrbs-print.css:
	  
	  * Added missing emacs mode specifier to the top of lang.en
	  
	  * Added back "server time" display to help page that was lost in
	  the branch merge.
	  
	  * Added back definition of $default_duration in config.inc.php,
	  that was lost in the branch merge.
	  
	  * The 'plus' graphic is now hidden when printing.
	  
	  * Set svn:keywords for mrbs-print.css in order to get $Id$ filled
	  out.

2008-09-09 15:24  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r876] web/day.php, web/edit_entry.php, web/month.php,
	  web/mrbs-ie.css, web/mrbs.css.php, web/report.php, web/week.php,
	  web/xbLib.js:
	  
	  Changed default look and feel

2008-09-04 10:23  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r875] web/edit_entry_handler.php:
	  
	  Fixed bug introduced when previously fixing the "all day" bug

2008-09-03 22:47  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r874] web/month.php, web/mrbs-ie.css, web/mrbs-ielte6.css,
	  web/mrbs.css.php:
	  
	  Added colour coding to main table in month view, together with
	  better handling of overflow.

2008-09-02 18:54  Campbell Morrison <cimorrison@users.sourceforge.net>

	* [r873] ., testdata.php, web/Mail/sendmail.php, web/admin.php,
	  web/auth_config.inc, web/auth_db.inc, web/auth_db_ext.inc,
	  web/auth_ext.inc, web/auth_imap.inc, web/auth_ldap.inc,
	  web/auth_nis.inc, web/config.inc.php, web/day.php, web/del.php,
	  web/edit_area_room.php, web/edit_entry.php,
	  web/edit_entry_handler.php, web/edit_users.php,
	  web/functions.inc, web/functions_mail.inc, web/help.php,
	  web/lang.ca, web/lang.cs, web/lang.cz, web/lang.da, web/lang.de,
	  web/lang.el, web/lang.en, web/lang.es, web/lang.eu, web/lang.fi,
	  web/lang.fr, web/lang.it, web/lang.ja, web/lang.ko, web/lang.nl,
	  web/lang.no, web/lang.pt, web/lang.sl, web/lang.sv, web/lang.tr,
	  web/lang.zh-cn, web/lang.zh-tw, web/language.inc,
	  web/mincals.inc, web/month.php, web/mrbs-ie.css[CPY],
	  web/mrbs-ie8.css[CPY], web/mrbs-ielte6.css[CPY],
	  web/mrbs.css[DEL], web/mrbs.css.php[CPY], web/mrbs_auth.inc,
	  web/mrbs_sql.inc, web/mysql.inc, web/mysqli.inc, web/pgsql.inc,
	  web/report.php, web/search.php, web/session_cookie.inc,
	  web/session_http.inc, web/session_php.inc,
	  web/session_remote_user.inc, web/site_faq.html,
	  web/site_faq_de.html, web/site_faq_es.html, web/site_faq_fr.html,
	  web/site_faq_it.html, web/style.inc, web/trailer.inc,
	  web/view_entry.php, web/week.php, web/xbLib.js:
	  
	  Merged into the trunk revisions 804-872 from the
	  improve_css_2008_06

2008-08-29 19:39  John Beranek <jberanek@users.sourceforge.net>

	* [r866] web/lang.ca, web/lang.cs, web/lang.cz, web/lang.da,
	  web/lang.de, web/lang.el, web/lang.es, web/lang.eu, web/lang.fi,
	  web/lang.fr, web/lang.it, web/lang.ja, web/lang.ko, web/lang.nl,
	  web/lang.no, web/lang.pt, web/lang.sl, web/lang.sv, web/lang.tr,
	  web/lang.zh-cn, web/lang.zh-tw:
	  
	  * Added magic xemacs commands to the tops of the translation
	  files, so that xemacs will know what encoding the files are in.

2008-08-29 19:31  John Beranek <jberanek@users.sourceforge.net>

	* [r865] web/config.inc.php, web/functions_mail.inc, web/lang.ca,
	  web/lang.cs, web/lang.cz, web/lang.da, web/lang.de, web/lang.el,
	  web/lang.en, web/lang.es, web/lang.eu, web/lang.fi, web/lang.fr,
	  web/lang.it, web/lang.ja, web/lang.ko, web/lang.nl, web/lang.no,
	  web/lang.pt, web/lang.sl, web/lang.sv, web/lang.tr,
	  web/lang.zh-cn, web/lang.zh-tw:
	  
	  * Emails sent from MRBS now encode the subject data correctly, if
	  the subject contains anything but ASCII.
	  
	  * Moved the email translation tokens back into the lang.* files,
	  where they belong, instead of having them in config.inc.php. Note
	  to translators: this means that only there is only English text
	  for $vocab["mail_*"] apart from the partial translations in the
	  Japanese and Turkish files.

2008-08-19 20:01  John Beranek <jberanek@users.sourceforge.net>

	* [r859] web/language.inc:
	  
	  * Patch from SF tracker #2057646 - fixes the arguments of
	  utf8_convert_aix(). Patch provided by bwiberg.

2008-08-18 11:55  John Beranek <jberanek@users.sourceforge.net>

	* [r858] web/session_cookie.inc:
	  
	  * Added missing calls to unslashes() in session_cookie.inc. I
	  believe they're not strictly necessary, but it's best to be safe.

2008-08-18 11:38  John Beranek <jberanek@users.sourceforge.net>

	* [r857] web/Blowfish[ADD], web/Blowfish.php[ADD],
	  web/Blowfish/DefaultKey.php[ADD], web/config.inc.php,
	  web/session_cookie.inc:
	  
	  * Revamped 'cookie' session scheme, so that the client receives
	  and stores an encrypted session token. MRBS then validates this
	  token on each page fetch. Adds new configuration items into
	  config.inc.php.
	  
	  * Added Crypt_Blowfish PEAR module, version 1.0.1 - used by
	  session_cookie.inc.

2008-08-07 19:16  John Beranek <jberanek@users.sourceforge.net>

	* [r855] web/lang.de:
	  
	  * A few translation updates from the mailing list, with a few
	  corrections.

2008-07-18 21:31  John Beranek <jberanek@users.sourceforge.net>

	* [r844] ChangeLog:
	  
	  * Authors in the ChangeLog now have proper names/email addresses,
	  svn2cl is now called with the --authors option.

2008-07-18 21:21  John Beranek <jberanek@users.sourceforge.net>

	* [r842] ChangeLog, testdata.php, web/admin.php,
	  web/config.inc.php, web/edit_entry.php, web/functions.inc,
	  web/help.php, web/lang.ca, web/lang.cs, web/lang.cz, web/lang.da,
	  web/lang.de, web/lang.el, web/lang.en, web/lang.es, web/lang.eu,
	  web/lang.fi, web/lang.fr, web/lang.it, web/lang.ja, web/lang.ko,
	  web/lang.nl, web/lang.no, web/lang.pt, web/lang.sl, web/lang.sv,
	  web/lang.tr, web/lang.zh-cn, web/lang.zh-tw, web/mysqli.inc:
	  
	  * Updated a few tokens in the German translation, curtesy of my
	  wife.
	  
	  * Added "server time" to help page, necessitating a new
	  translation token, "servertime". The only other language this is
	  translated for is German.
	  
	  * Improved the display of the "Browser language section" in the
	  admin page, and added it to the help page too. This changed the
	  meaning of the "browserlang" translation token a bit, and removed
	  the need for the "postbrowserlang" token.
	  
	  * Fixed a bug in the mysqli database abstraction, along the way
	  made get_default_area() in functions.inc more robust.
	  
	  * Added $default_duration into config.inc.php, which allows the
	  administrator to change the default booking duration, which was
	  previously hard-coded into edit_entry.php.
	  
	  * Corrected incorrect short PHP tag in testdata.php.
	  
	  * New svn2cl generated ChangeLog.

2008-04-17 20:29  John Beranek <jberanek@users.sourceforge.net>

	* [r802] auth_ldap.pl, badpw.pl, checklang.php,
	  convert_db_to_utf8.php, testdata.php, web/add.php, web/admin.php,
	  web/auth_config.inc, web/auth_db.inc, web/auth_db_ext.inc,
	  web/auth_ext.inc, web/auth_imap.inc, web/auth_imap_php.inc,
	  web/auth_ldap.inc, web/auth_nis.inc, web/auth_none.inc,
	  web/auth_nw.inc, web/auth_pop3.inc, web/config.inc.php,
	  web/day.php, web/del.php, web/del_entry.php,
	  web/edit_area_room.php, web/edit_entry.php,
	  web/edit_entry_handler.php, web/edit_users.php,
	  web/functions.inc, web/functions_mail.inc,
	  web/grab_globals.inc.php, web/help.php, web/index.php,
	  web/lang.ca, web/lang.cs, web/lang.cz, web/lang.da, web/lang.de,
	  web/lang.el, web/lang.en, web/lang.es, web/lang.eu, web/lang.fi,
	  web/lang.fr, web/lang.it, web/lang.ja, web/lang.ko, web/lang.nl,
	  web/lang.no, web/lang.pt, web/lang.sl, web/lang.sv, web/lang.tr,
	  web/lang.zh-cn, web/lang.zh-tw, web/language.inc, web/month.php,
	  web/mrbs_auth.inc, web/mrbs_sql.inc, web/mysql.inc,
	  web/mysqli.inc, web/pgsql.inc, web/report.php, web/search.php,
	  web/session_cookie.inc, web/session_host.inc,
	  web/session_http.inc, web/session_ip.inc, web/session_nt.inc,
	  web/session_omni.inc, web/session_php.inc,
	  web/session_remote_user.inc, web/style.inc, web/trailer.inc,
	  web/version.inc, web/view_entry.php, web/week.php:
	  
	  * Improved and standardised coding style/standard throughout. Now
	  don't use # comments anywhere, only // and /* */. Removed all
	  tabs, replaced with 2 spaces. Ensured every block use braces.

2008-04-14 20:37  John Beranek <jberanek@users.sourceforge.net>

	* [r801] web/day.php, web/functions.inc, web/month.php,
	  web/mrbs-print.css[ADD], web/report.php, web/style.inc,
	  web/trailer.inc, web/week.php:
	  
	  * Replaced old dodgy "print preview" functionality with proper
	  CSS 'print' media method. Page elements not appropriate for
	  printing are now removed automatically by the user's browser when
	  the user prints.

2008-04-13 20:50  John Beranek <jberanek@users.sourceforge.net>

	* [r800] web/add.php, web/admin.php, web/day.php, web/del.php,
	  web/del_entry.php, web/edit_area_room.php, web/edit_entry.php,
	  web/edit_entry_handler.php, web/edit_users.php,
	  web/functions.inc, web/functions_mail.inc,
	  web/grab_globals.inc.php, web/help.php, web/index.php,
	  web/language.inc, web/mincals.inc, web/month.php,
	  web/mrbs_sql.inc, web/report.php, web/search.php,
	  web/session_cookie.inc, web/session_php.inc, web/style.inc,
	  web/trailer.inc, web/version.inc, web/view_entry.php,
	  web/week.php:
	  
	  * Improved HTML and SQL escaping throughout (mostly HTML).
	  
	  * Improved HTML throughout, indented things nicely in some files
	  but not others. Moved to all lower case tags/attribs and quoted
	  attrib values (ready for XHTML?).
	  
	  * Removed the _horrible_ (and probably insecure) unpacking of
	  $_GET and $_POST. Each file now specifically gets form variables,
	  and converts them to the right type. Implemented new function,
	  get_form_val() in grab_globals.inc to facilitate this.
	  
	  * Removed the use of numerically indexed SQL row fetches. Almost
	  every SQL query now uses sql_row_keyed() to get a named
	  associative array, which makes the code far more readable, and in
	  some cases far easier.
	  
	  * Belatedly updated the version number, realised I didn't even
	  update it for the 1.2.6.1 release.

2008-04-13 20:02  John Beranek <jberanek@users.sourceforge.net>

	* [r799] auth_ldap.pl:
	  
	  * Undid change that I accidentally made in revision 797.

2008-04-13 19:59  John Beranek <jberanek@users.sourceforge.net>

	* [r798] AUTHENTICATION, COPYING, ChangeLog, INSTALL, LANGUAGE,
	  NEWS, README, README.nwauth, README.sqlapi, UPGRADE,
	  auth_ldap.pl, auth_ldapsearch.pl, auth_pam.pl, badpw.pl,
	  checklang.php, convert_db_to_utf8.php, crypt_passwd.example,
	  crypt_passwd.pl, destroy.pg.sql, grant.pg.sql,
	  pgsql.before_php42.inc, purge.my.sql, purge.pg.sql,
	  sample-data.sql, smb_auth.c, tables.my.sql,
	  tables.pg.73and_above.sql, tables.pg.sql, testdata.php,
	  upgrade.my.sql, upgrade2.my.sql, upgrade2.pg.sql,
	  upgrade3.my.sql, web/Mail.php, web/PEAR.php, web/add.php,
	  web/admin.php, web/auth_config.inc, web/auth_db.inc,
	  web/auth_db_ext.inc, web/auth_ext.inc, web/auth_imap.inc,
	  web/auth_imap_php.inc, web/auth_ldap.inc, web/auth_nis.inc,
	  web/auth_none.inc, web/auth_nw.inc, web/auth_pop3.inc,
	  web/config.inc.php, web/day.php, web/del.php, web/del_entry.php,
	  web/edit_area_room.php, web/edit_entry.php,
	  web/edit_entry_handler.php, web/edit_users.php,
	  web/escapeshellarg.inc, web/functions.inc,
	  web/functions_mail.inc, web/grab_globals.inc.php, web/help.php,
	  web/index.php, web/lang.ca, web/lang.cs, web/lang.cz,
	  web/lang.da, web/lang.de, web/lang.el, web/lang.en, web/lang.es,
	  web/lang.eu, web/lang.fi, web/lang.fr, web/lang.it, web/lang.ja,
	  web/lang.ko, web/lang.nl, web/lang.no, web/lang.pt, web/lang.sl,
	  web/lang.sv, web/lang.tr, web/lang.zh-cn, web/lang.zh-tw,
	  web/language.inc, web/mincals.inc, web/month.php,
	  web/mrbs_auth.inc, web/mrbs_sql.inc, web/mysql.inc,
	  web/mysqli.inc, web/pgsql.inc, web/report.php, web/robots.txt,
	  web/search.php, web/session_cookie.inc, web/session_host.inc,
	  web/session_http.inc, web/session_ip.inc, web/session_nt.inc,
	  web/session_omni.inc, web/session_php.inc,
	  web/session_remote_user.inc, web/site_faq.html,
	  web/site_faq_de.html, web/site_faq_es.html, web/site_faq_fr.html,
	  web/site_faq_it.html, web/style.inc, web/trailer.inc,
	  web/version.inc, web/view_entry.php, web/week.php, web/xbLib.js:
	  
	  * Set keywords properties.

2008-04-13 19:28  John Beranek <jberanek@users.sourceforge.net>

	* [r797] auth_ldap.pl, auth_ldapsearch.pl, auth_pam.pl, badpw.pl,
	  checklang.php, convert_db_to_utf8.php, crypt_passwd.pl,
	  pgsql.before_php42.inc, testdata.php, web/Mail.php,
	  web/Mail/RFC822.php, web/Mail/mail.php, web/Mail/null.php,
	  web/Mail/sendmail.php, web/Mail/smtp.php, web/Net/SMTP.php,
	  web/Net/Socket.php, web/PEAR.php, web/add.php, web/admin.php,
	  web/auth_config.inc, web/auth_db.inc, web/auth_db_ext.inc,
	  web/auth_ext.inc, web/auth_imap.inc, web/auth_imap_php.inc,
	  web/auth_ldap.inc, web/auth_nis.inc, web/auth_none.inc,
	  web/auth_nw.inc, web/auth_pop3.inc, web/config.inc.php,
	  web/day.php, web/del.php, web/del_entry.php,
	  web/edit_area_room.php, web/edit_entry.php,
	  web/edit_entry_handler.php, web/edit_users.php,
	  web/escapeshellarg.inc, web/functions.inc,
	  web/functions_mail.inc, web/grab_globals.inc.php, web/help.php,
	  web/index.php, web/lang.ca, web/lang.cs, web/lang.cz,
	  web/lang.da, web/lang.de, web/lang.el, web/lang.en, web/lang.es,
	  web/lang.eu, web/lang.fi, web/lang.fr, web/lang.it, web/lang.ja,
	  web/lang.ko, web/lang.nl, web/lang.no, web/lang.pt, web/lang.sl,
	  web/lang.sv, web/lang.tr, web/lang.zh-cn, web/lang.zh-tw,
	  web/language.inc, web/mincals.inc, web/month.php,
	  web/mrbs_auth.inc, web/mrbs_sql.inc, web/mysql.inc,
	  web/mysqli.inc, web/pgsql.inc, web/report.php, web/search.php,
	  web/session_cookie.inc, web/session_host.inc,
	  web/session_http.inc, web/session_ip.inc, web/session_nt.inc,
	  web/session_omni.inc, web/session_php.inc,
	  web/session_remote_user.inc, web/style.inc, web/trailer.inc,
	  web/version.inc, web/view_entry.php, web/week.php:
	  
	  * Changed MIME types to not be 'application' types, as this stops
	  Subversion showing diffs.

2008-04-12 21:05  John Beranek <jberanek@users.sourceforge.net>

	* [r796] .[CPY]:
	  
	  * Moved mrbs-1_2-branch onto trunk, in order to promote it to the
	  active development line. Previously moved the trunk off to
	  branches/abandoned-mrbs-1_3-development/ to abandon the trunk
	  development that was working towards MRBS 1.3.

2008-04-12 20:03  John Beranek <jberanek@users.sourceforge.net>

	* [r794]
	  
	  * Set some MIME types.
	  
	  * Removed incorrect 'executable' property on some files.
	  
	  * Corrected a few places that over-zealously HTML escaped &
	  characters. Namely when the URL in question is only used in a
	  Location: redirect, where HTML escaping is unnecessary and
	  incorrect.

2008-04-03 18:59  John Beranek <jberanek@users.sourceforge.net>

	* [r792]
	  
	  * Merged mrbs12_better_html branch, which gives MRBS correct HTML
	  4.01 Transitional HTML. Majority of changes thanks to Claudio
	  Strizzolo.

2008-03-21 21:24  John Beranek <jberanek@users.sourceforge.net>

	* [r788]
	  
	  * Upped width of mrbs_entry.create_by to 80 characters, to match
	  the other schemas.

2008-03-21 20:14  John Beranek <jberanek@users.sourceforge.net>

	* [r787]
	  
	  * Added Basque translation, curtesy of Juan Ezeiza GutiÃ©rrez.

2008-03-19 21:27  John Beranek <jberanek@users.sourceforge.net>

	* [r786]
	  
	  * Updated Japanese translation from MATSUURA Takanori in SF
	  #1806694. I had to correct the translation tokens for the places
	  where I moved final colons into the code. I've hopefully changed
	  only the required ones.

2008-03-19 21:06  John Beranek <jberanek@users.sourceforge.net>

	* [r785]
	  
	  * Made mysql.inc use the explicit database connection that is
	  opened. Based on a patch posted on Sourceforge by an anonymous
	  user.
	  
	  * Added Simplified Chinese translation, provided by 'sunjunps' on
	  SF tracker #1818278.

2008-01-30 10:53  John Beranek <jberanek@users.sourceforge.net>

	* [r781]
	  
	  * Updated ChangeLog for 1.2.6.1 release.

2008-01-30 10:51  John Beranek <jberanek@users.sourceforge.net>

	* [r780]
	  
	  * Updated NEWS for 1.2.6.1 release.

2008-01-30 10:43  John Beranek <jberanek@users.sourceforge.net>

	* [r779]
	  
	  * Fixed major bug in LDAP authentication is $ldap_search_attrib
	  was set. It was incorrectly letting any username/password
	  combination in!
	  
	  * Added description of new LDAP auth configuration variables into
	  config.inc.php, and changed the default of $ldap_v3 to "true".

2008-01-28 15:52  John Beranek <jberanek@users.sourceforge.net>

	* [r773]
	  
	  * Updated ChangeLog for 1.2.6 release.

2008-01-28 15:50  John Beranek <jberanek@users.sourceforge.net>

	* [r772]
	  
	  * Added copy booking/series feature, as provided by Julian
	  Eglestaff. Adds two new translation tokens, which are now only
	  available in English.

2008-01-28 15:06  John Beranek <jberanek@users.sourceforge.net>

	* [r771]
	  
	  * Updated ChangeLog for release of 1.2.6.

2008-01-28 15:04  John Beranek <jberanek@users.sourceforge.net>

	* [r770]
	  
	  * Updated NEWS for release of 1.2.6.

2008-01-28 14:43  John Beranek <jberanek@users.sourceforge.net>

	* [r769]
	  
	  * Removed a few terminating colons in the French translation that
	  slipped through. Gives me a chance to acknowledge dionysos-sf for
	  providing the updated French translation (in SF #1791821).

2008-01-28 14:37  John Beranek <jberanek@users.sourceforge.net>

	* [r768]
	  
	  * Removed all terminating colons from the translations, moving
	  them to the (arguably) correct place: the code.
	  
	  * Added JavaScript and server side checking for setting of a
	  repeat day if a booking requires one.
	  
	  * Added server side checking for setting a valid n-weekly value.
	  
	  * Emails sent by MRBS are now in UTF-8 (if $unicode_encoding is
	  1), unless $mail_vocab is set to something else.
	  
	  * Added Turkish support and translation, thanks to Ahmet YILDIZ.
	  
	  * Removed possible infinite loop in n-weekly booking creation.
	  
	  * Fixed invalid truncation of text in month.php, it could
	  truncate descriptions mid-UTF8 sequence before.
	  
	  * Added new auth method, imap_php, which authenticates via IMAP,
	  but using the PHP 'imap' extension, which allows for SSL/TLS
	  connections.
	  
	  * Upped version number to 1.2.6 in preparation for a release.

2008-01-28 11:28  John Beranek <jberanek@users.sourceforge.net>

	* [r767]
	  
	  * auth_ldap: Added support for searching the LDAP directory for
	  the full DN to try and bind with. This allows for operation with
	  Microsoft AD servers. Utilises new config variable
	  $ldap_dn_search_attrib, and optionally $ldap_dn_search_dn (the DN
	  to bind with for the search) and $ldap_dn_search_password (the
	  password to bind with). If $ldap_dn_search_dn is set,
	  $ldap_dn_search_password MUST be set. NOTE: This is as yet
	  untested, as I don't currently have an MRBS test installation
	  that can bind to an AD server for testing.

2008-01-28 11:20  John Beranek <jberanek@users.sourceforge.net>

	* [r766]
	  
	  * Detabbified (4 space indent now) auth_ldap.inc, so it's easier
	  to edit. Only whitespace changes.,

2007-09-07 12:50  John Beranek <jberanek@users.sourceforge.net>

	* [r765]
	  
	  * Fix for SF tracker #1666299, as supplied by the reporter,
	  'northtommy'. Update of the room list as you change area in the
	  edit entry screen is now correct.

2007-06-18 13:40  John Beranek <jberanek@users.sourceforge.net>

	* [r764]
	  
	  * Fixed HTML escaping problem in edit_entry.php, the ENT_NOQUOTES
	  mode of htmlspecialchars() was being used, when it shouldn't have
	  been.

2007-06-18 09:25  John Beranek <jberanek@users.sourceforge.net>

	* [r763]
	  
	  * A few fixes in checklang.php to make it work better and be more
	  useful.
	  
	  * Removed unnecessary table HTML tags in edit_area_room.php.
	  Fixes SF tracker #1696383, as reported by 'mikedip'.
	  
	  * Fixed SQL escaping in edit_users.php, also required changes to
	  pgsql.inc and mysqli.inc to fix the sql_field_type() function.
	  
	  * i18n/l10n fixes in language.inc. Windows locale map
	  extended/fixed, added Catalan support, improved the map the Unix
	  locale map was applied. Catalan translation provided by Jordi
	  Prats.
	  
	  * Fixed bug in language preference code, fix supplied by
	  'mikedip' in SF tracker #1696382.

2007-03-01 14:36  John Beranek <jberanek@users.sourceforge.net>

	* [r762]
	  
	  * Added updated Italian translation and Italian FAQ, as posted on
	  mrbs-general more than 2 years ago!

2007-02-25 18:41  John Beranek <jberanek@users.sourceforge.net>

	* [r761]
	  
	  * Added support for Slovenian language, and added translation
	  provided by Martin Terbuc.

2007-02-24 20:34  John Beranek <jberanek@users.sourceforge.net>

	* [r753]
	  
	  * Added a new-style, unified ChangeLog.

2007-02-24 20:32  John Beranek <jberanek@users.sourceforge.net>

	* [r752]
	  
	  * Removed sub-directory ChangeLog, I've decided it makes no
	  sense.
	  
	  * Upped version number to "1.2.5+cvs".

2007-02-24 20:14  John Beranek <jberanek@users.sourceforge.net>

	* [r750]
	  
	  * Updated ChangeLogs for 1.2.5 release (again!).

2007-02-24 20:12  John Beranek <jberanek@users.sourceforge.net>

	* [r749]
	  
	  * Updated NEWS for 1.2.5 release (rather late, almost forgot).

2007-02-23 22:12  John Beranek <jberanek@users.sourceforge.net>

	* [r745]
	  
	  * Updated ChangeLogs for 1.2.5 release.

2007-02-23 22:06  John Beranek <jberanek@users.sourceforge.net>

	* [r744]
	  
	  * Fixed a few bugs in month view, including double escaping of
	  the < and > characters used in booking slot descriptions (SF
	  tracker #1663905) and also the times were being shown
	  incorrectly, as date() was being used instead of the now standard
	  (for anything displayed to the user) utf8_strftime().
	  
	  * Upped version to 1.2.5 in preparation for release.

2007-02-13 13:05  John Beranek <jberanek@users.sourceforge.net>

	* [r743]
	  
	  * Got rid of nasty DOS line endings in lang.sv.

2007-02-13 12:53  John Beranek <jberanek@users.sourceforge.net>

	* [r742]
	  
	  * LDAP auth scheme now has the ability to use LDAP v3 protocol,
	  and to use TLS, if configured to do so in config.inc.php.
	  Implements SF tracker #1644311.
	  
	  * Fixed documentation of auth schemes in AUTHENTICATION to not
	  mention the getUserPassword() function that is no longer used.
	  
	  * A few fixes to checklang.php.
	  
	  * Added the ability to configure the cookie path that the 'php'
	  and 'cookie' session schemes use, to override the
	  auto-determination these schemes use. Also made the 'cookie'
	  session scheme actually use an expiring cookie. Fixes SF tracker
	  #1515118.
	  
	  * Removed all use of the utf8_date() function, utf8_strftime() is
	  used instead. utf8_strftime() now works around a bug in
	  strftime() in the handling of %p, using date() if your locale
	  happens to return empty strings for the %p substitution.
	  
	  * Replaced a short php start tag in edit_entry_handler.php with
	  the correct long form one. Fixes SF tracker #1652396. Also
	  corrected a short start tag in lang.es.
	  
	  * Added code into edit_entry_handler.php to support locales that
	  use ',' as the decimal point. This will translate "1,5" hours
	  into "1.5" so it is understood. Fixes SF tracker #1647430.
	  
	  * Added updated Swedish translation tokens, as provided by
	  bwiberg.
	  
	  * Added AIX support into language.inc. You can now run MRBS on an
	  AIX server, in Unicode mode too. AIX support provided (and
	  tested) by bwiberg.
	  
	  * Backported the improved language preference code from the trunk
	  MRBS development. The preference order of languages specified by
	  a user is now acted upon.
	  
	  * Corrected some bracketing in month.php, as reported by a number
	  of people, including 't-matsuu' in SF tracker #1644042 who
	  provided a fix.
	  
	  * Corrected CSS commenting in mrbs.css, as reported in SF tracker
	  #1644042.

2007-01-24 11:12  John Beranek <jberanek@users.sourceforge.net>

	* [r739]
	  
	  * Updated NEWS and ChangeLogs for MRBS 1.2.4 release.

2007-01-24 10:40  John Beranek <jberanek@users.sourceforge.net>

	* [r738]
	  
	  * Moved version number out of config.inc.php and into a
	  version.inc, which provides a function to retrieve the version
	  number. Upped version to 1.2.4.

2006-10-09 15:54  John Beranek <jberanek@users.sourceforge.net>

	* [r737]
	  
	  * Added robots.txt and "Robots" META tag, to stop robots trawling
	  MRBS installations. Fixes SF bug tracker #1557192.
	  
	  * Improved documentation in AUTHENTICATION on LDAP auth method to
	  make it clear that the 'ldap' PHP extension is required. Fixes SF
	  bug tracker #1554351.
	  
	  * Fixes in auth_imap.inc to ensure that internet sockets to the
	  IMAP server are closed, in an attempt to fix a report in SF
	  tracker #1558451, though the reporter has since told me my fixes
	  didn't help his problem...
	  
	  * Fixed example setting of $ldap_filter in config.inc.php, it
	  showed $ldap_user_filter instead of $ldap_filter. Fixes SF bug
	  tracker #1550827.
	  
	  * Added a little code to turn $month, $week and $day into
	  integers explicitly, before calling checkdate(), this was
	  reported under SF tracker #1557192 as a place where MRBS will
	  output warnings (when being trawled by GoogleBot).
	  
	  * Added a check in edit_entry_handler.php to ensure that the
	  "Brief Description" is not empty. This will only happen if the
	  user doesn't have JavaScript turned on, as usually there is
	  JavaScript validation that you enter a description. Translators
	  note that I had to add two more vocab tokens.
	  
	  * Tidied HTML formatting - just the header section (for now).
	  
	  * Added updated Finnish translation as provided by Tom Ingberg in
	  SF tracker #1450459. The translation encoding has changed to
	  UTF-8, so anyone with a Finnish installation that sets
	  $unicode_encoding to 1 will need to run convert_db_to_utf8.php to
	  convert the text in their database from iso-8859-1 to UTF-8.
	  
	  * A few fixes to mysqli.inc that I'd not spotted in my earlier
	  testing.
	  
	  * A fix in session_php.inc to ensure that the user's password
	  gets unslashed(). Fixed SF bug tracker #1563470.
	  
	  * A few changes in trailer.inc so that the current day/week/month
	  in the trailer links are highlighted somewhat. Implements SF
	  feature request tracker # 875744.

2006-07-07 20:16  John Beranek <jberanek@users.sourceforge.net>

	* [r736]
	  
	  * Updated Spanish translation, as provided by SoTMaR.

2006-07-07 19:16  John Beranek <jberanek@users.sourceforge.net>

	* [r735]
	  
	  * Added 'mysqli' database abstraction, to allow PHP 5
	  installations to use the newer/better 'mysqli' extension instead
	  of 'mysql'. Reasonably tested on a Linux Apache 2.2.0/MySQL
	  5.0.18/PHP 5.1.2 installation. Updated the documentation to
	  mention the new database abstraction method, hopefully in all the
	  necessary places.

2006-04-26 10:15  John Beranek <jberanek@users.sourceforge.net>

	* [r733]
	  
	  * Fixed typo in comment in config.inc.php.

2006-04-26 10:01  John Beranek <jberanek@users.sourceforge.net>

	* [r732]
	  
	  * Upped version number to 1.2.3+cvs (rather belatedly)
	  
	  * Fixed some HTML escaping issues in the grids.
	  
	  * Fixed a problem whereby non-repeating entries wouldn't be
	  emailed to area/room admins. Fixes SF tracker #1474386, fix
	  provided by 'karcher'.
	  
	  * Added a little error logging into email functionality. You
	  should get an diagnostic error in your error log if an email
	  fails to be sent.
	  
	  * Fixed zh-tw translation to correctly specify its encoding as
	  utf-8.
	  
	  * Improved get_vocab() so that it doesn't do an iconv if the
	  language encoding is utf-8.
	  
	  * Fixed bug in report.php that meant the meeting end date was
	  shown when the start date should have been. This fix was provided
	  to me somehow, but I can't find who provided it...
	  
	  * Added "remote_user" session scheme, as provided by 'bwiberg' on
	  SF tracker #1432748. Allows MRBS to be configured to use a server
	  authentication scheme that sets the REMOTE_USER environment
	  variable.

2006-01-26 11:34  John Beranek <jberanek@users.sourceforge.net>

	* [r728]
	  
	  * Removed errant CRs from a few files.

2006-01-26 11:23  John Beranek <jberanek@users.sourceforge.net>

	* [r727]
	  
	  * Allow more entry types, now A-Z instead of A-J.
	  
	  * Fix in notifyAdminOnBooking, to fix SF tracker #1315854, as
	  supplied by Neville Gilbert. The fix ensures that the area
	  administrator is sent an email when a booking is created.
	  
	  * Improve server OS detection in language.inc. SunOS is now
	  handled, including utf-8 locale support.
	  
	  * Improved n-weekly repeat code, you can now do an n-weekly
	  repeating meeting that happens on a sunday. Calculation of which
	  days to create bookings on is now done more carefully. SF tracker
	  #1300974
	  
	  * Updated Swedish translation, as provided by Bjorn Wiberg in SF
	  tracker #1397719.
	  
	  * Fixed problem in report.php that would create an error if MRBS
	  was configured to use HTTP session handling and you clicked the
	  "You are ..." link. Provided by Bjorn Wiberg in SF tracker
	  #1396685.

2005-09-02 22:31  John Beranek <jberanek@users.sourceforge.net>

	* [r725]
	  
	  * Postgresql table creation fixed for Postgresql 8. Integer
	  columns can't have a DEFAULT of '', fixed this oversight.

2005-09-02 21:47  John Beranek <jberanek@users.sourceforge.net>

	* [r723]
	  
	  * Added ability to change the port of the LDAP server when the
	  'ldap' auth scheme is used. Set $ldap_port in config.inc.php to
	  change from the default port. * Added documentation for ldap port
	  configuration into AUTHENTICATION, along with some brief details
	  on the 'nis' auth scheme. * Tidied up some of the text in INSTALL
	  describing MRBS's i18n and l10n support. * Made checklang.php
	  work with register_globals off, and made the output prettier. *
	  Fixed a typo in a comment in config.inc.php * Added a missing $
	  in a Finnish vocab entry.

2005-09-02 10:42  John Beranek <jberanek@users.sourceforge.net>

	* [r722]
	  
	  * Bug fix for the SQL statement that generates the mrbs_users
	  table. Autoincrement columns don't need a DEFAULT, and if
	  specified with one on MySQL >= 4.1 the SQL statement fails. The
	  DEFAULT clause has been removed from the SQL.

2005-08-31 15:45  John Beranek <jberanek@users.sourceforge.net>

	* [r720]
	  
	  * Added German translation of site FAQ, courtesy of Bertold
	  Altaner.

2005-08-20 19:22  John Beranek <jberanek@users.sourceforge.net>

	* [r715]
	  
	  * Updated ChangeLogs and NEWS for 1.2.3 release.

2005-08-20 18:49  John Beranek <jberanek@users.sourceforge.net>

	* [r713]
	  
	  * Minor tidying.

2005-08-20 18:38  John Beranek <jberanek@users.sourceforge.net>

	* [r712]
	  
	  * Improved/fixed HTTP session scheme. It now also shows whether
	  the login box in the to banner, and shows who you're logged in
	  as. Tested it on my Linux box.
	  
	  * Minor tidying in a few files.

2005-08-20 09:46  John Beranek <jberanek@users.sourceforge.net>

	* [r711]
	  
	  * Improved db_ext auth scheme - moved the configuration into
	  config.inc.php, where it belongs. Additionally added support for
	  the password in the external database being in different formats,
	  namely one of: - MD5 - SHA1 - crypt - plaintext Also documented
	  the scheme in AUTHENTICATION, and added example config in
	  config.inc.php.
	  
	  * Fixes for cookie and php session schemes, username and password
	  as obtained from the web form are now 'unslashed' before being
	  stored and/or passed to the auth scheme. auth_db.inc updated to
	  escape the username being putting it in the database query.
	  
	  * Added site_faq_es.html, contributed by Carlos Insunza.

2005-07-13 10:30  John Beranek <jberanek@users.sourceforge.net>

	* [r710] web/lang.ko[ADD]:
	  
	  * Added Korean translation, as contributed by YoungJoon Kim.

2005-06-10 08:54  John Beranek <jberanek@users.sourceforge.net>

	* [r709] web/lang.no:
	  
	  * Updated norwegian translation supplied by Emil Stoa.

2005-05-17 15:00  John Beranek <jberanek@users.sourceforge.net>

	* [r708]
	  
	  * A few improvements to db authentication system: - mrbs_users
	  table is now created with a 40 character wide password column.
	  Used to be 32 which was only just enough. This matches the column
	  width I made the trunk development MRBS use. - A message is now
	  shown at the top of the edit users page when the mrbs_users table
	  is empty that describes the situation and what to do. - After a
	  user entry is updated we now redirect the web browser back to the
	  edit users page, to discard the form arguments.

2005-05-11 10:59  John Beranek <jberanek@users.sourceforge.net>

	* [r706]
	  
	  * Update version number to 1.2.2+cvs

2005-05-11 10:03  John Beranek <jberanek@users.sourceforge.net>

	* [r704]
	  
	  * Added new authentication scheme, a result of support request
	  1199314. It queries a table in an external database for
	  username/password information. It's mysql only, and assumes the
	  password is stored in plaintext. Config values must be changed at
	  the top of the file too.

2005-04-28 20:44  Gavin Walker <gwalker@users.sourceforge.net>

	* [r702] web/edit_entry_handler.php:
	  
	  fixed incorrect comment

2005-04-22 10:57  John Beranek <jberanek@users.sourceforge.net>

	* [r700]
	  
	  * Update to NEWS file, I'd forgotton to fill in the names of the
	  contributors of updated Taiwanese and Japanese translations.

2005-04-22 10:45  John Beranek <jberanek@users.sourceforge.net>

	* [r699]
	  
	  * Updated ChangeLogs and NEWS files for 1.2.2 release.

2005-04-22 10:18  John Beranek <jberanek@users.sourceforge.net>

	* [r698]
	  
	  * Updated version number to 1.2.2.

2005-04-11 13:44  John Beranek <jberanek@users.sourceforge.net>

	* [r696]
	  
	  * Updated Taiwanese translation. Now stored in UTF-8 encoding.
	  Taiwanese users who have set $unicode_encoding to 0 will need to
	  convert their databases to UTF-8.

2005-04-11 13:40  John Beranek <jberanek@users.sourceforge.net>

	* [r695]
	  
	  * Updated Japanese translation. Now stored in UTF-8 encoding.
	  Japanese users who have set $unicode_encoding to 0 will need to
	  convert their databases to UTF-8.

2005-03-29 13:26  John Beranek <jberanek@users.sourceforge.net>

	* [r692]
	  
	  * Made username matching case insensitive throughout. Auth
	  schemes may still have case sensitive usernames though.
	  
	  * auth_config username matching made case insensitive.
	  
	  * Improved auth system, the session code doesn't need to return
	  the user password any more, and getAuthorised() now only requires
	  one parameter.
	  
	  * session_cookie.inc now deletes the cookie when the user logs
	  out. User password isn't stored in a cookie any more, which is
	  much more secure.
	  
	  * session_php.inc now creates a session for the directory MRBS is
	  run from, instead of assuming '/'. Additionally, session data is
	  deleted on log out, and the user's password isn't stored in the
	  session data any more.

2005-02-13 11:40  John Beranek <jberanek@users.sourceforge.net>

	* [r690] web/auth_config.inc, web/auth_db.inc, web/auth_ext.inc,
	  web/auth_imap.inc, web/auth_ldap.inc, web/auth_nis.inc,
	  web/auth_none.inc, web/auth_nw.inc, web/auth_pop3.inc:
	  
	  * Fix for Sourceforge bug ID 1112161. Removed case insensitivity
	  from auth schemes.

2005-02-13 11:21  John Beranek <jberanek@users.sourceforge.net>

	* [r688]
	  
	  * Fix for Sourceforge bug ID 1090172. Increase length of booking
	  creator field to 80 characters.

2004-12-10 10:19  John Beranek <jberanek@users.sourceforge.net>

	* [r679]
	  
	  * Updated NEWS file for MRBS 1.2.1 release.

2004-12-10 09:58  John Beranek <jberanek@users.sourceforge.net>

	* [r678]
	  
	  * Updated ChangeLogs for 1.2.1 release.

2004-11-29 23:12  John Beranek <jberanek@users.sourceforge.net>

	* [r675]
	  
	  * MySQL tables fixed for MySQL 4.0, namely to remove DEFAULT from
	  auto_increment columns.
	  
	  * Also synced the various upgrade MySQL files, including changing
	  the rep_num_weeks column to smallint with no default throughout.

2004-11-21 00:23  Gavin Walker <gwalker@users.sourceforge.net>

	* [r674] web/functions_mail.inc:
	  
	  Bug 1027328 - fixed sendMail function so that it provides the
	  correct parameters and headers for each type of backend (mail,
	  sendmail or smtp). Thanks to Thekk.

2004-11-20 00:42  Gavin Walker <gwalker@users.sourceforge.net>

	* [r673] web/functions_mail.inc:
	  
	  RFE 1000967 - enhance email notifications. Also reference Neil
	  Hawes' emails to the list:
	  http://sourceforge.net/mailarchive/message.php?msg_id=9550429
	  
	  Updated functions_mail.inc so that email notifications include
	  repeat information for new/change/delete and the output for start
	  and end times are the same as that shown when viewing an entry.
	  
	  Thanks to Neil Hawes and Stuart Chalmers.

2004-11-19 22:25  Gavin Walker <gwalker@users.sourceforge.net>

	* [r672] web/config.inc.php:
	  
	  Bug 1068522 - changed "" around $db_password value to '' so that
	  special characters are not interpeted. Thanks to Matt Schuler

2004-11-19 22:08  Gavin Walker <gwalker@users.sourceforge.net>

	* [r671] web/mrbs_sql.inc:
	  
	  Bug 1035790 - unable to book series with pgsql. Fixed INSERT
	  command in mrbsCreateRepeatEntry as per suggestion of Thekk.

2004-11-09 22:37  Gavin Walker <gwalker@users.sourceforge.net>

	* [r669]
	  
	  Bug 994056 - fixed emailing so that emails are sent to
	  mrbs_admin, area and room admins under all conditions if
	  configured to do so.

2004-10-28 20:54  Gavin Walker <gwalker@users.sourceforge.net>

	* [r666]
	  
	  Bug 1040185 - changed mktime so that am and pm generation is not
	  affected by timezone and the fact that "Negative timestamps are
	  not supported under any known version of Windows" (from php
	  manual).

2004-09-21 13:11  John Beranek <jberanek@users.sourceforge.net>

	* [r664]
	  
	  * Fixed lang/locale selection for Czech language. Czech country
	  code is "cs", not "cz".

2004-09-17 22:44  John Beranek <jberanek@users.sourceforge.net>

	* [r663]
	  
	  * Merged a functions.inc change from the trunk, namely a fix for
	  the ChangeOptionDays JavaScript function.
	  
	  * Fix for page refresh functionality. If a refresh time is
	  configured, only do it for day.php, week.php and month.php

2004-09-14 09:01  John Beranek <jberanek@users.sourceforge.net>

	* [r661]
	  
	  * Updated lang.nl from Marc ter Horst

2004-09-13 16:11  John Beranek <jberanek@users.sourceforge.net>

	* [r660]
	  
	  * Merged a "post-1.2 release" fix from the trunk onto the 1.2
	  branch.

2004-09-13 15:47  John Beranek <jberanek@users.sourceforge.net>

	* [r659]
	  
	  * Created branch (mrbs-1_2-branch) for MRBS 1.2 fixes/minor
	  updates. Changed version number to 1.2.1

2004-09-09 13:10  

	* [r654]
	  
	  This commit was manufactured by cvs2svn to create branch
	  'mrbs-1_2-branch'.

2004-09-09 13:10  John Beranek <jberanek@users.sourceforge.net>

	* [r653] NEWS:
	  
	  * Updated NEWS file.

2004-09-09 12:11  John Beranek <jberanek@users.sourceforge.net>

	* [r652] ChangeLog, web/ChangeLog:
	  
	  * Updated ChangeLog files for 1.2 release.

2004-08-24 16:58  Jean-Francois LARVOIRE <jflarvoire@users.sourceforge.net>

	* [r651] web/mrbs.css, web/xbLib.js:
	  
	  Minor bug fix: The hidden active cell was sized differently from
	  the main table cell. This generated extra mouse events, causing
	  flicker on the status line.

2004-08-05 22:13  Gavin Walker <gwalker@users.sourceforge.net>

	* [r650] web/functions_mail.inc:
	  
	  Removed sql_free() statements as they are not required when using
	  sql_row. Fixed bug 994056

2004-07-30 20:40  Gavin Walker <gwalker@users.sourceforge.net>

	* [r649] web/functions_mail.inc:
	  
	  Added missing ampersand for URL in emails when a series is
	  involved.

2004-07-28 15:52  John Beranek <jberanek@users.sourceforge.net>

	* [r648] web/lang.cz:
	  
	  * Updated lang.cz from David Krotil. Only required one token to
	  be translated.

2004-07-28 10:01  John Beranek <jberanek@users.sourceforge.net>

	* [r647] web/lang.cz, web/lang.da, web/lang.de, web/lang.el,
	  web/lang.en, web/lang.es, web/lang.fi, web/lang.fr, web/lang.it,
	  web/lang.ja, web/lang.nl, web/lang.no, web/lang.pt, web/lang.sv,
	  web/lang.zh-tw, web/language.inc:
	  
	  * Language tokens synchronised. All files now have the same
	  number of lines, and the same number of tokens. Some languages
	  are now missing quite a few translations.
	  
	  * Integrated fix for Windows locale selection contained in bug
	  #992390 (Huey). Browser language "en-ie" is now translated to the
	  correct Windows locale.

2004-06-29 13:04  John Beranek <jberanek@users.sourceforge.net>

	* [r646] web/functions.inc, web/language.inc:
	  
	  * locale setting fixes. Added ability to print warning at the top
	  of the screen if MRBS fails to set a locale. Added mapping into
	  Windows locale map of 'sv-se' to 'sve', this handles browsers set
	  to send 'sv-se'. Added mapping into Unix locale map of 'en_EN' to
	  'en_GB' to fix incorrect locale of 'en_EN' (I could have used
	  en_US instead). Added support for OS X into locale setting code.
	  OS X is treated as "unix".

2004-06-23 21:06  Gavin Walker <gwalker@users.sourceforge.net>

	* [r645] web/functions_mail.inc, web/lang.en, web/view_entry.php:
	  
	  Changed view_entry.php so that it could handle the situation
	  where an id for a series is passed to it. A series is identified
	  by series=1 in the url.
	  
	  Changed functions_mail.inc to generate urls with series=1 in the
	  email messages where the message relates to a series.
	  
	  Changed lang.en to have an error message for when an invalid
	  series id is passed to view_entry.php.
	  
	  Fixes bug 972194
	  
	  Fixed bug

2004-06-23 10:49  John Beranek <jberanek@users.sourceforge.net>

	* [r644] web/functions.inc:
	  
	  * Fixes SF request 934394, namely JavaScript errors on changing
	  Start/End dates in the form. Form prefix wasn't being passed from
	  PHP function genDateSelector() to JavaScript function
	  ChangeOptionDays().

2004-06-15 21:49  Gavin Walker <gwalker@users.sourceforge.net>

	* [r643] web/functions_mail.inc:
	  
	  Fixed bug 972293 so that periods are handled correctly in email
	  notifications Removed duplicate $mail_vocab["start_date"] when
	  deleting a "time" entry.

2004-06-15 20:40  Gavin Walker <gwalker@users.sourceforge.net>

	* [r642] web/month.php:
	  
	  Changed so that '+' sign and javascript are not included in month
	  "print preview"

2004-06-15 19:52  Gavin Walker <gwalker@users.sourceforge.net>

	* [r641] web/month.php:
	  
	  Changed main table formatting to match day and week view tables.

2004-06-15 19:46  Gavin Walker <gwalker@users.sourceforge.net>

	* [r640] web/mrbs.css:
	  
	  Changed background-color and border-color for TH elements so that
	  in day and week view the links in the header cells of the tables
	  are more readable.

2004-06-15 19:43  Gavin Walker <gwalker@users.sourceforge.net>

	* [r639] web/mrbs.css:
	  
	  Changed default colour for odd row (TD.odd_row) so that it is not
	  the same as the default colour for TD.J

2004-06-14 21:34  Gavin Walker <gwalker@users.sourceforge.net>

	* [r638] web/session_cookie.inc:
	  
	  Fixes problem identifed by Dane where an invalid user will appear
	  to be logged in. This was caused by the cookie being set and no
	  validation of the user being done because the wrong variables
	  were being used. This is not a security issue.

2004-06-14 21:22  Gavin Walker <gwalker@users.sourceforge.net>

	* [r637] INSTALL, web/config.inc.php:
	  
	  Changed comment about $url_base to recommend setting this if
	  email notifications are to be used.
	  
	  Fixed Bug 972186

2004-06-13 15:06  Gavin Walker <gwalker@users.sourceforge.net>

	* [r636] web/functions_mail.inc:
	  
	  - $endtime is declared as a global in notifyAdminOnBooking but it
	  is modified by being used as a "local" variable - renamed the
	  "local" variable Fixes bug #968682
	  
	  - use rep_type as more accurate indication of series or not, so
	  that $myendtime can be set the most appropriate value.

2004-06-12 10:38  Gavin Walker <gwalker@users.sourceforge.net>

	* [r635] web/day.php:
	  
	  Changing ordering of rooms in day view back to "by room name" as
	  "by capacity" was specific to Jean-François' implementation.

2004-06-12 08:38  Gavin Walker <gwalker@users.sourceforge.net>

	* [r634] AUTHENTICATION:
	  
	  Doc updated to reflect changes in auth_ldap.inc 1.7 and
	  config.inc.php 1.38

2004-06-12 08:34  Gavin Walker <gwalker@users.sourceforge.net>

	* [r633] web/auth_ldap.inc, web/config.inc.php:
	  
	  Update auth_ldap.inc and config.inc.php. - LDAP servers may not
	  allow anon. bind so this broke the previous version of
	  auth_ldap.inc. I have removed the attempt at an anon. bind and
	  have given the admin more control over the dn that an auth. bind
	  is attempted with.
	  
	  - the user attribute can be defined individually for each base dn
	  if reequired.
	  
	  - $ldap_base_dn and $ldap_usesr_attrib are handled in a similar
	  way to imap and pop3, server and port, definitions, and
	  config.inic.php has been updated to reflect this.

2004-05-27 20:53  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r632] web/lang.cz:
	  
	  Updated Czech lang file ("David Krotil"
	  David.Krotil@mu-sokolov.cz)

2004-05-26 15:55  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r631] ChangeLog, web/ChangeLog, web/lang.de:
	  
	  Updating lang.de (thanks Andreas Moroder)

2004-05-20 02:00  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r630] web/config.inc.php:
	  
	  Updating mrbs version to next 1.2.

2004-05-19 15:42  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r629] web/functions_mail.inc:
	  
	  - Bug fix: emails are not RFC2045 compliant. Mail body can
	  contain non us-ascii characters, then header should have
	  MIME-Version and Content-Type headers.

2004-05-14 04:52  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r626] NEWS:
	  
	  Doc fix.

2004-05-14 03:23  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r625] ChangeLog, web/ChangeLog:
	  
	  ChangeLog update.

2004-05-14 03:08  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r624] AUTHENTICATION, INSTALL, NEWS:
	  
	  Dox fix: Documentation update

2004-05-14 02:35  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r623] upgrade3.my.sql:
	  
	  Dox fix: This script can be used with both mysql and postgresql

2004-05-14 01:54  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r622] upgrade2.my.sql:
	  
	  Sync with tables.my.sql

2004-05-14 01:52  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r621] upgrade2.pg.sql:
	  
	  Sync. sql statement with tables.pg.73and_above.sql

2004-05-14 01:50  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r620] tables.pg.73and_above.sql, tables.pg.sql:
	  
	  Added new fields for emails.

2004-05-12 03:31  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r619] ChangeLog, web/ChangeLog, web/config.inc.php:
	  
	  + If MAIL_DOMAIN is used and username returned by mrbs contains
	  extra strings appended like domain name ('username.domain'), need
	  to provide this extra string so that it will be removed from the
	  username.

2004-05-12 03:25  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r618] INSTALL, web/ChangeLog, web/edit_entry_handler.php,
	  web/functions_mail.inc:
	  
	  + If MAIL_DOMAIN is used and username returned by mrbs contains
	  extra strings appended like domain name ('username.domain'), need
	  to provide this extra string so that it will be removed from the
	  username. - Fixed bug: if MAIL_BOOKER is enabled, previous booker
	  was empty if MAIL_DETAILS was not set.

2004-05-12 01:25  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r617] web/functions_mail.inc:
	  
	  - (sendMail()): forgot to add the 'To' header to mails. Some smtp
	  servers and sendmail may display 'undisclosed-recipients:
	  <undisclosed-recipients:>' instead of recipients list.

2004-05-11 05:00  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r616] web/functions_mail.inc:
	  
	  -(getPreviousEntryData): removed repeat table in FROM statement
	  if this is not a serie (can cause sql error on some systems)

2004-05-11 03:24  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r615] web/language.inc:
	  
	  Removed notice in case $lang_map_unix[$locale] is not set

2004-05-10 21:03  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r614] web/day.php:
	  
	  duplicated the 'previous day - current day - next day' navigation
	  bar to the calendar bottom.

2004-05-10 20:47  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r613] web/lang.sv:
	  
	  updated lang.sv (thanks MissterX).

2004-05-10 03:36  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r612] ChangeLog, web/ChangeLog, web/edit_entry_handler.php:
	  
	  - Fixed bug #748925 (All day booking misbehaves if a day extends
	  beyond midnight).

2004-05-08 22:48  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r611] web/edit_entry.php:
	  
	  Replaced submit button hiding by 'disabled'.

2004-05-08 20:48  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r610] ChangeLog, INSTALL, web/ChangeLog, web/config.inc.php,
	  web/edit_entry_handler.php, web/functions_mail.inc,
	  web/language.inc:
	  
	  + Enhancements to email support: added the option to send a copy
	  of entries details to the 'booker'. Will retrieve users emails
	  from the used auth scheme : email field for auth_db, username +
	  provided domain for all other schemes.

2004-05-06 22:48  Gavin Walker <gwalker@users.sourceforge.net>

	* [r609] INSTALL:
	  
	  Added details about $morningstarts_minutes

2004-05-06 22:40  Gavin Walker <gwalker@users.sourceforge.net>

	* [r608] web/config.inc.php, web/day.php, web/week.php:
	  
	  Added $morningstarts_minutes to allow for a day to start at say
	  8:30 am. Default value is 0.

2004-05-06 21:58  Gavin Walker <gwalker@users.sourceforge.net>

	* [r607] web/day.php:
	  
	  Modified so that capacity is not displayed in brackets next to
	  room name if capacity is 0. This helps where the "room" is a
	  piece of equipment or a person. Thanks to Michael Hellwig.

2004-05-06 21:49  Gavin Walker <gwalker@users.sourceforge.net>

	* [r606] web/day.php, web/week.php:
	  
	  Modified week and day to be consistent in the way that they are
	  displayed normally and in print preview if no area/room is
	  defined.

2004-05-06 20:33  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r605] web/lang.de:
	  
	  lang fix (Michael Glaessel)

2004-05-06 18:02  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r604] web/ChangeLog, web/functions_mail.inc:
	  
	  - Fixed bug #948246 :SQL syntax error when sending emails for
	  deleted entries.

2004-05-06 01:23  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r603] web/ChangeLog, web/edit_users.php:
	  
	  + added email address validation

2004-05-06 01:20  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r602] ChangeLog, web/ChangeLog, web/edit_area_room.php:
	  
	  enhanced email validation

2004-05-05 02:12  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r601] web/edit_area_room.php, web/functions_mail.inc:
	  
	  * removed duplicated email validation function from
	  function_mail.php. Use one in RFC822.php instead.

2004-05-03 17:39  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r600] web/functions_mail.inc:
	  
	  Typos fix

2004-05-03 06:21  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r599] INSTALL, UPGRADE, tables.my.sql, upgrade3.my.sql[ADD],
	  web/ChangeLog, web/Net/Socket.php, web/config.inc.php,
	  web/del_entry.php, web/edit_area_room.php, web/edit_entry.php,
	  web/edit_entry_handler.php, web/functions.inc,
	  web/functions_mail.inc[ADD], web/lang.en, web/lang.fr,
	  web/language.inc, web/mrbs_sql.inc:
	  
	  + Added/changed features to email support: - Room and/or area
	  administrators. An email field has been added to room and area
	  administration page. Each room/area can have multiple emails. -
	  Configurable options to send emails to these administrators.
	  Emails can be send to MRBS admin and/or area admins and/or room
	  admins. - Configurable options to set what is emailed (either a
	  link to the view page as before or full details) - Configurable
	  option to decide the lang used in emails and the text of subject
	  and body. - Configurable options to decide which events cause an
	  email to be sent (whether only new entries, new and edited
	  entries, or deleted entries) - Full diffing informations between
	  the new state of an edited entry and its previous settings (only
	  if we choose to show details in emails) - Optionale recipients
	  can receives mails in carbon copy - Configurable option to send
	  mails using three mail backends: either the php mail function, an
	  external smtp server (with or without authentication) or unix
	  sendmail program. - upgraded Net::Socket from 1.0.1 to 1.0.2

2004-04-29 12:02  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r598] web/lang.fi:
	  
	  Updated lang.fi (thanks Tom Ingberg (tom.ingberg@edu.vantaa.fi))

2004-04-27 20:57  Gavin Walker <gwalker@users.sourceforge.net>

	* [r597] web/edit_entry.php:
	  
	  Need to escape double-quotes in room names Thanks to Klavs Bryld

2004-04-27 20:48  Gavin Walker <gwalker@users.sourceforge.net>

	* [r596] web/functions.inc:
	  
	  added double-quotes around minutes as: "You should always use
	  quotes around a string literal array index" - quote from PHP
	  manual. Thanks Thierry

2004-04-25 18:10  Jean-Francois LARVOIRE <jflarvoire@users.sourceforge.net>

	* [r595] web/edit_users.php, web/mysql.inc, web/pgsql.inc:
	  
	  Modified the way edit_users.php gets the user table fields names
	  and types. It now uses the three new routines sql_field_name,
	  sql_field_type, sql_num_fields, defined in mysql.inc and
	  pgsql.inc, which in turn call their corresponding
	  database-specific eponym. Still not tested with PostgreSQL, but
	  much more likely to work.

2004-04-25 18:01  Jean-Francois LARVOIRE <jflarvoire@users.sourceforge.net>

	* [r594] web/day.php, web/lang.en, web/lang.fr, web/month.php,
	  web/week.php, web/xbLib.js:
	  
	  Localize the message displayed on the status bar when a cell is
	  activated under the cursor. The string is defined as
	  $vocab["click_to_reserve"] in lang.xx. It is passed from PHP to
	  JavaScript as an additional argument to routine InitActiveCell().

2004-04-18 17:14  Jean-Francois LARVOIRE <jflarvoire@users.sourceforge.net>

	* [r593] web/day.php, web/month.php, web/mrbs.css, web/week.php,
	  web/xbLib.js:
	  
	  Added active highlighting of the month view cells. This required
	  an additional parameter in InitActiveCell(), hence the minor
	  changes in the day and week views. Side effect of this change:
	  The (+) sign in the month view is moved after the list of
	  reservations, instead of before. This was necessary, else the
	  list itself was moved to the bottom of the cell, which did not
	  look good.

2004-04-18 14:37  Jean-Francois LARVOIRE <jflarvoire@users.sourceforge.net>

	* [r592] web/month.php, web/week.php:
	  
	  Include mrbs_auth.inc to allow the display of the logon box in
	  the MRBS top banner.

2004-04-17 15:28  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r591] web/report.php:
	  
	  - fixed bug $typematch, variable undefined

2004-04-17 00:50  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r590] ChangeLog, web/ChangeLog:
	  
	  ChangeLog update

2004-04-16 23:54  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r589] web/lang.el:
	  
	  Doc fix (it is a greek file, not english)

2004-04-16 22:22  Gavin Walker <gwalker@users.sourceforge.net>

	* [r588] web/day.php, web/week.php:
	  
	  I have changed the day and week view so that the colour key is
	  shown in both the "web page" view and "print preview". I believe
	  that it makes sense to include the key in the "print preview"
	  version so that you can understand the colours on a hardcopy.

2004-04-16 21:55  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r587] INSTALL, web/config.inc.php:
	  
	  Doc fixes

2004-04-16 19:10  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r586] web/Mail/mail.php:
	  
	  - Removed PEAR_MAIL constants (never had).

2004-04-16 17:23  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r585] INSTALL, web/Mail[ADD], web/Mail.php[ADD],
	  web/Mail/RFC822.php[ADD], web/Mail/mail.php[ADD],
	  web/Mail/null.php[ADD], web/Mail/sendmail.php[ADD],
	  web/Mail/smtp.php[ADD], web/Net[ADD], web/Net/SMTP.php[ADD],
	  web/Net/Socket.php[ADD], web/PEAR.php[ADD], web/config.inc.php,
	  web/edit_entry_handler.php, web/functions.inc, web/lang.en,
	  web/mrbs_sql.inc, web/view_entry.php:
	  
	  + Added email support to MRBS (using PEAR::Mail class for that).
	  MRBS developers, use function sendMail(), with at least the
	  minimal parameters ($recipients, $subject and $body) to send mail
	  from MRBS. + Added the option to notify the administrator (or
	  someone else) with an email on each new entry or new and changed
	  entries)

2004-04-15 11:08  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r584] web/auth_db.inc:
	  
	  - (authValidateUser): add global $tbl_users;

2004-04-14 22:27  Gavin Walker <gwalker@users.sourceforge.net>

	* [r583] INSTALL:
	  
	  Added instructions about using table name prefix to allow second
	  installations or resolve table name conflicts.

2004-04-14 22:18  Gavin Walker <gwalker@users.sourceforge.net>

	* [r582] destroy.pg.sql, grant.pg.sql, purge.my.sql, purge.pg.sql,
	  sample-data.sql, tables.my.sql, tables.pg.73and_above.sql,
	  tables.pg.sql:
	  
	  Added comment that user needs to fix table names if they have
	  changed the prefix that they wish to use.

2004-04-14 22:02  Gavin Walker <gwalker@users.sourceforge.net>

	* [r581] testdata.php, web/add.php, web/admin.php, web/auth_db.inc,
	  web/day.php, web/del.php, web/edit_area_room.php,
	  web/edit_entry.php, web/edit_entry_handler.php,
	  web/edit_users.php, web/functions.inc, web/index.php,
	  web/month.php, web/mrbs_sql.inc, web/report.php, web/search.php,
	  web/view_entry.php, web/week.php:
	  
	  Changed the fixed table names to variables. The variables are
	  defined in config.inc.php.

2004-04-14 21:57  Gavin Walker <gwalker@users.sourceforge.net>

	* [r580] web/config.inc.php:
	  
	  Added variables to allow the 'mrbs_' prefix on table names to be
	  changed. This will allow the user to do a second installation
	  when only one database is available or resolve table name
	  conflicts.

2004-04-14 16:34  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r579] web/day.php:
	  
	  - Correct the \\n new line character in tooltips to &#10; .
	  Currently it changes nothing but the HTML spec says \\n in titles
	  should be converted to spaces. So, the current thoughts of the
	  Mozilla developers is that &#10; would insert a line break in a
	  title, and a literal \\n would not, but they've not implemented
	  it yet though. However, IE _does_ currently work with &#10; and
	  that method seems to fit the specs much more closely. (John
	  Beranek)

2004-04-14 14:18  Jean-Francois LARVOIRE <jflarvoire@users.sourceforge.net>

	* [r578] web/config.inc.php:
	  
	  Corrected the errors pointed out by Thierry. (Missing change from
	  his last commit, and authentication default changed by mistake)

2004-04-14 10:23  John Beranek <jberanek@users.sourceforge.net>

	* [r577] web/functions.inc:
	  
	  * Slight Unicode fix. Move page title specifier to _after_ page
	  encoding specifier. That way the browser knows what encoding the
	  title is in before it gets to it.

2004-04-14 09:33  Jean-Francois LARVOIRE <jflarvoire@users.sourceforge.net>

	* [r576] web/config.inc.php, web/day.php, web/mrbs.css,
	  web/week.php, web/xbLib.js[ADD]:
	  
	  Added an optional active cell highlighting, and the ability to
	  make a reservation by clicking anywhere in a cell. The control is
	  done in config.inc.php. Default is highlighting enabled; + signs
	  left in. The highligth color is defined in mrbs.css.
	  
	  Changed the background stripe generation method. Now defined be
	  classes in mrbs.css.

2004-04-14 09:23  Jean-Francois LARVOIRE <jflarvoire@users.sourceforge.net>

	* [r575] web/language.inc:
	  
	  Fixed error when the server does not define
	  $HTTP_ACCEPT_LANGUAGE.

2004-04-13 21:48  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r574] INSTALL, web/config.inc.php:
	  
	  + Doc fix.

2004-04-13 21:45  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r573] web/config.inc.php, web/month.php:
	  
	  + Added the option to show both time slots and brief description.

2004-04-13 03:13  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r572] web/report.php:
	  
	  + Added the 'creator' search criteria.

2004-04-12 21:22  Gavin Walker <gwalker@users.sourceforge.net>

	* [r571] web/day.php:
	  
	  added '' to minicals function call for room parameter as room is
	  not relevant in day context

2004-04-12 21:22  Gavin Walker <gwalker@users.sourceforge.net>

	* [r570] web/mrbs.css:
	  
	  added class for highlighting current month/week/day in calendars,
	  used in mincals.inc

2004-04-12 21:22  Gavin Walker <gwalker@users.sourceforge.net>

	* [r569] web/month.php, web/week.php:
	  
	  added $room to minicals function call

2004-04-12 21:22  Gavin Walker <gwalker@users.sourceforge.net>

	* [r568] web/mincals.inc:
	  
	  mincal changes: - correct week highlight code to correctly
	  highlight where a week crosses into a new month. The problem was
	  when crossing the year boundary, and where only the last day of
	  the week was in the new month and the number of days in the
	  current month was < 31. - week and month now include room in the
	  link thus maintaining the same room when using the calendars for
	  navigation - highlights whole month in month view - highlight
	  colour moved to mrbs.css

2004-04-11 22:34  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r566] web/auth_db.inc, web/session_cookie.inc,
	  web/session_php.inc:
	  
	  + Add link to user entries for all auth schemes, not only db
	  (thanks Gavin!).

2004-04-11 20:32  Gavin Walker <gwalker@users.sourceforge.net>

	* [r565] web/month.php:
	  
	  Added 'plus sign' next to date in month view.
	  
	  This will take the user to an add entry page for that day of the
	  month.

2004-04-11 13:12  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r564] web/auth_db.inc, web/lang.en, web/lang.fr, web/report.php,
	  web/session_cookie.inc, web/session_php.inc:
	  
	  + If auth_db is used with session_cookie or session_php, the
	  message "you are XXXX" becomes a link to all upcoming entries
	  belonging to XXXX (report page). If auth_db is not used, the
	  previous empty HREF link "you are XXXX" is useless and is now a
	  simple text message.

2004-04-10 05:12  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r563] web/edit_users.php:
	  
	  - Changed the title displayed when adding new user from 'Edit
	  user' to 'Add a new user'.

2004-04-10 04:52  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r562] web/auth_db.inc, web/edit_users.php:
	  
	  + Hashes passwords in dababase (auth_db). Update 'password' field
	  for this purpose.

2004-04-10 03:26  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r561] web/lang.cz, web/lang.da, web/lang.de, web/lang.el,
	  web/lang.en, web/lang.es, web/lang.fi, web/lang.fr, web/lang.it,
	  web/lang.ja, web/lang.nl, web/lang.no, web/lang.pt, web/lang.sv,
	  web/lang.zh-tw, web/month.php, web/report.php,
	  web/view_entry.php, web/week.php:
	  
	  Removed punctuation from $vocab["room"] string so that this vocab
	  can be used more often and lessen the number of vocabs (replace
	  $vocab["sort_rep_room"]). This could be done in all vocabs too,
	  as a general rule we should not use punctuation and other things
	  not related to translation in these strings.

2004-04-09 21:19  Gavin Walker <gwalker@users.sourceforge.net>

	* [r560] AUTHENTICATION, web/auth_imap.inc, web/auth_pop3.inc,
	  web/config.inc.php:
	  
	  This change allows multiple pop3 or imap server to be used for
	  authentication.
	  
	  AUTHENTICATION has been updated to explain this and users are
	  referred to AUTHENTICATION from config.inc.php if they wish to
	  use multiple servers.

2004-04-08 21:20  Gavin Walker <gwalker@users.sourceforge.net>

	* [r556] web/functions.inc, web/lang.en, web/report.php:
	  
	  This includes an update to reporting to allow reports to be
	  sorted by Area/Room then Start Date/Time or Start Date/Time then
	  Area/Room.
	  
	  There is also now the option to display Start and End date/time
	  instead of start date/time and duration.
	  
	  A modification has been made to period_date_string in
	  functions.inc to make the display start/end dates and periods
	  clearer.

2004-04-07 04:45  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r555] AUTHENTICATION, INSTALL, web/config.inc.php:
	  
	  Doc fixes (added DB doc)

2004-04-07 02:02  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r554] web/config.inc.php:
	  
	  Updating mrbs version number before next release :-)

2004-04-07 01:57  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r553] ChangeLog, web/ChangeLog, web/month.php, web/week.php:
	  
	  ChangeLog update Doc fixes.

2004-04-05 13:16  John Beranek <jberanek@users.sourceforge.net>

	* [r546] web/lang.el[ADD], web/style.inc:
	  
	  * Added Greek translation, lang.el
	  
	  * Fixed global variable problem in style.inc, $vocab wasn't being
	  declared as a global.
	  
	  [Translation and fix provided by Stavros Papadakis]

2004-03-24 21:47  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r545] INSTALL:
	  
	  Doc fix

2004-03-15 22:54  Gavin Walker <gwalker@users.sourceforge.net>

	* [r544] web/functions.inc, web/month.php, web/week.php:
	  
	  This change means that the default room in an area, if none is
	  specified or when changing areas will be the first listed rather
	  than the room with the lowest id.
	  
	  This also affects the choice of area if no room or area is
	  specified then the first listed area will be chosen rather than
	  the one with the lowest id.

2004-03-15 22:24  Gavin Walker <gwalker@users.sourceforge.net>

	* [r543] web/config.inc.php, web/index.php:
	  
	  Added configuration option to allow index.php to redirect to a
	  specific room.

2004-03-10 04:27  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r542] web/day.php, web/week.php:
	  
	  Added specific Room Description showing with a pop up/hover title
	  for each room on the week view link in day.php and room link in
	  week.php. (Valeria Montesi/Gareth T).

2004-03-08 14:24  Jean-Francois LARVOIRE <jflarvoire@users.sourceforge.net>

	* [r538] web/edit_users.php:
	  
	  The last change, to restrict access to the page to identified
	  users, broke the ability to initially enter the first user! Fixed
	  this by avoiding to do this test if the user list is empty.
	  Actually moved the code to a branch that already ran only if the
	  user list was not empty.

2004-02-27 01:17  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r521] web/mrbs_sql.inc:
	  
	  (mrbsCheckFree): - corrected 'undefined variable' bug (typo on
	  variable name line 54, $enable_period instead of $enable_periods)

2004-02-11 13:55  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r520] web/index.php:
	  
	  - included grab_globals.inc.php at the top of the file otherwise
	  $HTTP_ACCEPT_LANGUAGE is undefined

2004-02-04 15:21  John Beranek <jberanek@users.sourceforge.net>

	* [r518] web/mrbs_sql.inc, web/report.php:
	  
	  * Removed 3 uses of %T format specifier in strftime() calls, as
	  it seems Windows strftime() doesn't support %T. Tested on a
	  Windows MRBS (Apache + MySQL) installation. Problem reported by
	  Reinhold Petrich on the mailing list, and fix also confirmed.

2004-02-04 15:13  Jean-Francois LARVOIRE <jflarvoire@users.sourceforge.net>

	* [r517] web/mincals.inc:
	  
	  Use basename($PHP_SELF) to avoid false hits, if the substrings
	  "day" or "week" or "month" appear in the full URL.

2004-02-02 17:35  John Beranek <jberanek@users.sourceforge.net>

	* [r516] web/functions.inc:
	  
	  * Fixed JavaScript in functions.inc (for area and room drop-down
	  menus in day/week/month view) to use relative URLs, and better
	  "onChange" handling.

2004-01-31 08:51  Jean-Francois LARVOIRE <jflarvoire@users.sourceforge.net>

	* [r514] web/language.inc:
	  
	  Updated the iconv error message, based on the suggestion by David
	  Watts.

2004-01-31 07:53  Jean-Francois LARVOIRE <jflarvoire@users.sourceforge.net>

	* [r513] web/edit_users.php:
	  
	  Make sure the user is authenticated before giving him access to
	  the list.

2004-01-28 23:01  Gavin Walker <gwalker@users.sourceforge.net>

	* [r511] web/config.inc.php, web/index.php:
	  
	  Added $default_view as suggested by Warren Turkal This can be
	  used to determine the default starting view, i.e. month, week or
	  day, as used by index.php.

2004-01-27 22:29  Gavin Walker <gwalker@users.sourceforge.net>

	* [r510] web/report.php:
	  
	  BUG 885333 - fixed - added check to ensure that
	  $typematch_default is an array.

2004-01-26 06:31  Jean-Francois LARVOIRE <jflarvoire@users.sourceforge.net>

	* [r505] web/edit_entry.php:
	  
	  When the user clicks on the "All day" checkbox, use JavaScript to
	  immediately change the time to 00:00 and the duration to 1 day.
	  (Designed for support of periods too, but not tested)

2004-01-22 22:33  Jean-Francois LARVOIRE <jflarvoire@users.sourceforge.net>

	* [r500] web/edit_users.php:
	  
	  Removed the paragliding-specific weight field :-)

2004-01-22 22:28  Jean-Francois LARVOIRE <jflarvoire@users.sourceforge.net>

	* [r499] web/config.inc.php, web/day.php:
	  
	  Added the ability to display horizontal bands of color in the
	  background of the day view, to make the table more readable. This
	  is enabled by changing the new setting $stripe_color in
	  config.inc.php. This value sets the color class for the bands.
	  "white"= no bands (default) For example changing it to "J"
	  display light gray bands.

2004-01-22 21:35  Gavin Walker <gwalker@users.sourceforge.net>

	* [r498] INSTALL:
	  
	  Previous commit truncated file - adding back in missing lines

2004-01-22 04:05  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r497] web/config.inc.php, web/day.php, web/lang.cz, web/lang.da,
	  web/lang.de, web/lang.en, web/lang.es, web/lang.fi, web/lang.fr,
	  web/lang.it, web/lang.ja, web/lang.nl, web/lang.no, web/lang.pt,
	  web/lang.sv, web/lang.zh-tw, web/week.php:
	  
	  + Option to display times on right side in day and week view. +
	  pop-up messages

2004-01-21 22:36  Gavin Walker <gwalker@users.sourceforge.net>

	* [r496] web/lang.en, web/report.php:
	  
	  Allows reports to be limited to certain reservation types (eg
	  just 'external'). This is multiple select box. If all are
	  selected or none are selected then all reservation types are
	  included in the report.

2004-01-21 22:16  Gavin Walker <gwalker@users.sourceforge.net>

	* [r495] INSTALL, web/config.inc.php, web/day.php,
	  web/edit_entry.php, web/edit_entry_handler.php,
	  web/functions.inc, web/lang.en, web/month.php, web/mrbs_sql.inc,
	  web/report.php, web/search.php, web/view_entry.php, web/week.php:
	  
	  This update contains all of the code and documentation to support
	  "periods" within mrbs.

2004-01-20 19:30  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r494] web/day.php:
	  
	  + Added link to rooms heading to display the weekly view for that
	  room.

2004-01-19 23:40  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r492] ChangeLog, web/ChangeLog:
	  
	  ChangeLog update.

2004-01-19 21:31  Jean-Francois LARVOIRE <jflarvoire@users.sourceforge.net>

	* [r491] web/auth_db.inc[ADD], web/config.inc.php,
	  web/edit_users.php[ADD], web/lang.en, web/lang.fr, web/mrbs.css,
	  web/session_cookie.inc, web/session_php.inc:
	  
	  Added a new authentication module auth_db.inc. This is a
	  web-based authentication, based on a new table of users in the
	  mrbs database. Implements RFE #665239 "Multiuser, Web based
	  auth". Added module edit_users.php to manage the contents of this
	  table. New English and French strings added in lang.en and
	  lang.fr respectively. Added in session_php.inc and
	  session_cookie.inc logon box an optional link to the user list
	  management page. Finally minor changes to config.inc.php
	  (comment) and mrbs.css (style for buttons inside tables).

2004-01-15 22:37  Jean-Francois LARVOIRE <jflarvoire@users.sourceforge.net>

	* [r485] web/language.inc:
	  
	  Updated the error message displayed in the case where the iconv
	  extension is missing.

2004-01-15 21:01  Jean-Francois LARVOIRE <jflarvoire@users.sourceforge.net>

	* [r484] web/config.inc.php, web/session_cookie.inc,
	  web/session_php.inc, web/trailer.inc:
	  
	  Changed absolute paths in anchor hrefs and redirection headers
	  from absolute to relative. This should fix the link failures seen
	  by some users, in environments where a proxy makes the
	  user-visible root different from the web-server-visible root. In
	  the unlikely case where some users have a very old browser not
	  supporting relative HTTP relocation headers, then they can use
	  the $url_base in config.inc.php as a workaround: In this case,
	  put in this variable the full URL of the MRBS root, as seen by
	  the users through the proxy.

2004-01-15 20:39  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r483] web/month.php:
	  
	  - Fixed bug [ 875782 ]: Month View, Extra carriage return. Text
	  formating problem if $monthly_view_brief_description set to TRUE.

2004-01-11 21:52  Jean-Francois LARVOIRE <jflarvoire@users.sourceforge.net>

	* [r482] web/mrbs.css:
	  
	  Added a directive to avoid having a blank line below buttons
	  inside tables. This makes the logon cell in the top banner, and
	  the forthcoming user properties editor page, look much better.

2004-01-11 15:26  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r481] INSTALL:
	  
	  Doc fix: unlike Apache on Windows, you HAVE to copy iconv.dll in
	  into \\%windir%\\system32\\ if you use Microsoft IIS.

2004-01-09 09:40  John Beranek <jberanek@users.sourceforge.net>

	* [r480] web/config.inc.php:
	  
	  * The MRBS version number hadn't been updated to 1.2-pre2. It has
	  now.

2003-12-22 23:12  Gavin Walker <gwalker@users.sourceforge.net>

	* [r479] web/edit_entry.php, web/lang.en:
	  
	  Added support for changing area/room in Add/Edit entry form.
	  Added check to ensure that at least one room is selected as
	  edit_entry_handler.php does not catch this. Added wording to
	  lang.en to cover the above check.
	  
	  The first fix requires that javascript is enabled. If it is not
	  then you get the same form as you get currently. If it is enabled
	  and you have more than one area then you get an area select box
	  which controls the rooms displayed in the room select box.

2003-12-22 21:52  Gavin Walker <gwalker@users.sourceforge.net>

	* [r478] web/day.php:
	  
	  Minor formatting fix for day view when viewed with Konqueror.

2003-12-21 17:59  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r477] AUTHENTICATION, INSTALL, README, web/functions.inc:
	  
	  Doc fix: - Updated other doc areas about default administrator
	  since JFL change. - Removed warning in function.inc since it
	  works now with Gavin changes

2003-12-21 11:05  Jean-Francois LARVOIRE <jflarvoire@users.sourceforge.net>

	* [r476] web/config.inc.php:
	  
	  Changed the default administrator list, to be coherent with the
	  explanations in AUTHENTICATION, and also to work out-of-the-box.

2003-12-21 11:03  Jean-Francois LARVOIRE <jflarvoire@users.sourceforge.net>

	* [r475] AUTHENTICATION:
	  
	  Added a few comments from last weeks emails on the list. Changed
	  the information about the default administrator settings, which
	  was incoherent with the default contents of config.inc.php.

2003-12-17 22:03  Gavin Walker <gwalker@users.sourceforge.net>

	* [r474] web/functions.inc:
	  
	  Modified Javascript to work with Mozilla 1.5 (Linux) and NS4
	  (Linux), also tested with Konqueror 3.1.4 and IE 6.0
	  
	  Days now work for all changes of Month and Year.
	  
	  Added JavaScript to fix days once date selector is displayed so
	  that if a month has < 31 days then the day selector is shortened
	  appropriately.

2003-12-17 00:29  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r473] web/auth_ldap.inc:
	  
	  (authValidateUser): - Tried to fix LDAP servers login processes
	  waiting for 'uid' and not for 'cn'. Does an anonymous bind first,
	  tries to find the dn for the user and then binds to it with
	  $pass. (Bernd Oeggl , Philippe Schwarz).

2003-12-17 00:01  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r472] web/config.inc.php:
	  
	  - Fix URL problems when using a proxy in the environment.

2003-12-14 22:45  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r471] web/functions.inc:
	  
	  (print_header): Added JavaScript to insure the integrity of the
	  date entered in three field drop-down menus.
	  
	  Tested with Windows IE 6.0 Tested with Linux Opera 7.21, Mozilla
	  1.3, Konqueror 3.1.0
	  
	  WARNING: little bug in Mozilla 1.3. If a month with less than 31
	  days is selected, the max days number is updated correctly, but
	  if you select a 31 days month again, then max days number is not
	  updated (ie. stays at 30 or 28). Goto a 31 days month to have the
	  31 days back. Since Mozilla 1.3 is rather not up to date (1.6b
	  current at 2003-11-15), this may be corrected in newer releases.

2003-12-12 17:51  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r470] AUTHENTICATION:
	  
	  Compile Gavin Walker and my comments about installing SMB
	  authentication, since previous documentation really lacks
	  details.

2003-12-11 00:11  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r469] INSTALL:
	  
	  Adding comments about iconv setup.

2003-12-07 17:59  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r467] ChangeLog, web/ChangeLog:
	  
	  ChangeLog update

2003-12-07 17:29  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r466] ChangeLog, web/ChangeLog:
	  
	  ChangeLog update

2003-12-07 16:39  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r465] web/config.inc.php:
	  
	  Doc fixes

2003-12-07 16:35  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r464] NEWS:
	  
	  Updated NEWS file for mrbs-1.2-pre2

2003-12-07 01:31  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r463] web/edit_entry.php, web/edit_entry_handler.php:
	  
	  - Fixed bug [ 853410 ]: when changing a non n-weekly entry, field
	  "Number of weeks (for n-weekly)" appear...

2003-12-06 13:02  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r462] INSTALL:
	  
	  Doc fix (Unicode support).

2003-12-06 05:59  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r461] README.nwauth, UPGRADE:
	  
	  Doc fix.

2003-12-06 05:45  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r460] AUTHENTICATION, INSTALL:
	  
	  Fixing typos. Addding some documentation about Unicode.

2003-12-04 17:49  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r459] AUTHENTICATION, README:
	  
	  Fixing typos; doc update.

2003-12-04 16:07  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r458] web/admin.php:
	  
	  - Fixed bug #846337: We can create rooms with no area

2003-12-03 21:52  Gavin Walker <gwalker@users.sourceforge.net>

	* [r457] web/day.php, web/edit_entry.php,
	  web/edit_entry_handler.php, web/functions.inc, web/month.php,
	  web/mrbs_sql.inc, web/view_entry.php, web/week.php:
	  
	  Daylight Saving Time fixes.
	  
	  This has involved modifying month.php, week.php and day.php,
	  view_entry.php, edit_entry.php, edit_entry_handler.php,
	  mbs_sql.inc and functions.inc
	  
	  For month.php and week.php, I have changed them to handle each
	  week/month on a day by day basis. They and day.php make DST
	  corrections for the start and end of each day. The intervals of
	  time are handled by using the format HHMM with no leading zeros.
	  Events are read in to an array using this format of time as the
	  one of the indices. A day which does not include a DST change is
	  used to loop through all valid hours for that day.
	  
	  The view_entry.php has been altered to modify times that cross
	  DST back to what the user would expect 9pm to 3am is 6 hours but
	  it is stored as either 5 or 7 hours.
	  
	  The edit_entry.php, edit_entry_handler.php and mrbs_sql.inc have
	  been changed to correctly calculate the difference between two
	  timestamps and correct the end time for checking the following:
	  free time, all day events and repeating events.
	  
	  functions.inc includes two new functions: one to check for DST
	  and one to correct for DST. These are used in the fixes above.
	  
	  Where possible, calculations that used to use midnight have been
	  changed to use midday to avoid DST problems.
	  
	  You may still see some "strange" but correct behaviour when
	  scheduling meetings which start and/or end between midnight and 3
	  am on a day of DST. These may look wrong but should actually be
	  correct if you consider how DST works on that day, i.e in the UK
	  the hour from 1am to 2pm does not exist when entering DST.
	  
	  Backward compatibility: There may be a one hour error for events
	  that start or end between midnight and 3am on the day that DST
	  changes but these can be fixed by editting the entry/series and
	  saving it.

2003-12-03 18:22  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r456] ChangeLog, web/ChangeLog:
	  
	  Changelog update.

2003-12-03 18:16  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r455] INSTALL, README, tables.pg.73and_above.sql[ADD]:
	  
	  ° Updated documentation about new authentication features. °
	  Updated documentation to add warnings about mrbs not working with
	  postegreSQL version 7.3 and above.
	  
	  Mrbs does not work anymore with postgreSQL dbms since pgsql
	  version 7.3. This is because the following changes : - An empty
	  string ('') is no longer allowed as the input into an integer
	  field. Formerly, it was silently interpreted as 0. If you want a
	  field to be 0 then explicitly use 0, if you want it to be
	  undefined then use NULL. - "INSERT" statements with column lists
	  must specify all values; e.g., INSERT INTO tab (col1, col2)
	  VALUES ('val1') is now invalid.
	  
	  This is a problem since we have to change all sql logic that
	  works fine with mysql just to be compliant with postGreSQL. Since
	  nobody reported this error, I can thinks mrbs users using pgsql
	  are very few. Currently the new tables.pg.73and_above.sql file
	  allow to create mrbs tables with new postgreSQL versions, but is
	  experimental. You can still browse existing mrbs tables with new
	  versions, but you cannot add/edit entries/rooms/areas any more.

2003-12-03 18:05  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r454] pgsql.before_php42.inc[ADD], web/pgsql.inc:
	  
	  Updated the postgreSql driver (pgsql.inc) to remove deprecated
	  functions. People which still use a php version less than 4.2
	  will have to replace the existing pgsql.inc file with
	  pgsql.before_php42.inc file and rename it to pgsql.inc

2003-12-01 22:05  Jean-Francois LARVOIRE <jflarvoire@users.sourceforge.net>

	* [r453] AUTHENTICATION:
	  
	  Complete rewrite of the file in html. Converted to text using
	  detagger (http://www.jafsoft.com/detagger/)

2003-11-24 22:11  Gavin Walker <gwalker@users.sourceforge.net>

	* [r452] web/edit_entry.php:
	  
	  Displays "Edit Series" or "Edit Entry" at top of page when
	  editing a series or entry respectively.

2003-11-22 15:11  Jean-Francois LARVOIRE <jflarvoire@users.sourceforge.net>

	* [r451] ROXEN[DEL]:
	  
	  This file described how to operate the old cookie authentication
	  module.

2003-11-22 09:40  Jean-Francois LARVOIRE <jflarvoire@users.sourceforge.net>

	* [r450] auth_cookie_ext.inc[DEL]:
	  
	  As Thierry pointed-out, this file is now useless, as there is a
	  more general implementation in web/session_cookie.inc.

2003-11-21 15:27  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r449] web/config.inc.php, web/help.php:
	  
	  Since we always forgot for each release to update mrbs version in
	  help.php (this is not a file we open often), I moved the variable
	  to config.inc.php.

2003-11-21 04:19  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r445] web/ChangeLog:
	  
	  ChangeLog update.

2003-11-21 01:34  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r444] web/session_cookie.inc:
	  
	  - fixed not working with error level all.

2003-11-19 23:18  Jean-Francois LARVOIRE <jflarvoire@users.sourceforge.net>

	* [r443] web/auth_ip.inc[DEL], web/auth_name.inc[DEL],
	  web/auth_nt.inc[DEL], web/auth_omni.inc[DEL]:
	  
	  Removed auth_ip.inc, auth_name.inc, auth_nt.inc, auth_omni.inc,
	  now superseeded by session_ip.inc, session_host.inc,
	  session_nt.inc, and session_omni.inc respectively.

2003-11-19 23:09  Jean-Francois LARVOIRE <jflarvoire@users.sourceforge.net>

	* [r442] web/auth_none.inc[ADD], web/config.inc.php,
	  web/session_host.inc[ADD], web/session_ip.inc[ADD],
	  web/session_nt.inc[ADD], web/session_omni.inc[ADD]:
	  
	  Created an auth_none.inc authentication, which validates any
	  user. Moved session management code from the old auth_ip,
	  auth_name, auth_nt, auth_omni to the new session_ip,
	  session_host, session_nt, session_omni respectively. Updated
	  config.inc.php comments to reflect the possible choices for
	  session name and authentication types.

2003-11-18 21:30  Jean-Francois LARVOIRE <jflarvoire@users.sourceforge.net>

	* [r441] web/language.inc:
	  
	  Updated the administrator warning message about the iconv package
	  requirement, to fire only if $unicode_encoding is true.

2003-11-18 10:41  John Beranek <jberanek@users.sourceforge.net>

	* [r440] convert_db_to_utf8.php[ADD], web/style.inc:
	  
	  * Added utility to convert text in the database to UTF8, to use
	  MRBS with $unicode_encoding set to 1. The administrator should
	  copy it into the web directory, run it (choosing the encoding to
	  convert from) ONCE, and then move it back out of the web
	  directory.
	  
	  * Added comment to my usage of $vocab["charset"] in style.inc, as
	  ist doesn't match the general usage of get_vocab().

2003-11-17 03:52  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r439] ChangeLog, web/ChangeLog:
	  
	  ChangeLog update.

2003-11-17 03:41  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r438] web/config.inc.php:
	  
	  Removed unnecessary comment.

2003-11-17 03:39  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r437] web/admin.php:
	  
	  - make admin.php working with error level E_ALL with no area/room
	  defined (previous fix causes an error in case http authentication
	  fail).

2003-11-17 03:30  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r436] web/lang.fr:
	  
	  Changing $vocab language string.

2003-11-16 20:25  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r435] web/session_cookie.inc, web/session_php.inc:
	  
	  - Removed remainings plain text strings by get_vocab() function.

2003-11-16 19:41  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r434] web/month.php:
	  
	  - fixed remainings non unicode compliant php functions.

2003-11-16 19:30  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r433] web/mrbs_sql.inc:
	  
	  - (mrbsCheckFree): fixed remainings non unicode php functions.

2003-11-16 19:23  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r432] web/admin.php:
	  
	  - make admin.php working with error level E_ALL with no area/room
	  defined.

2003-11-16 17:10  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r431] web/config.inc.php, web/month.php:
	  
	  Changed my stupid $_MRBS_monthly_view_brief_description variable
	  name to $monthly_view_brief_description

2003-11-15 20:37  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r430] web/ChangeLog:
	  
	  ChangeLog update.

2003-11-14 22:26  Jean-Francois LARVOIRE <jflarvoire@users.sourceforge.net>

	* [r429] web/day.php:
	  
	  Moved inclusion of mrbs_auth.inc after that of function.inc and
	  $dbsys.inc, as mrbs_auth.inc now uses definitions of the first
	  one, and will use those of the second one eventually.

2003-11-14 22:23  Jean-Francois LARVOIRE <jflarvoire@users.sourceforge.net>

	* [r428] web/auth_config.inc:
	  
	  Function authValidateUser() must not call authGet() anymore. In
	  case of failure it just returns 0 as specified in its header
	  comment.

2003-11-14 22:20  Jean-Francois LARVOIRE <jflarvoire@users.sourceforge.net>

	* [r427] web/auth_ext.inc, web/auth_imap.inc, web/auth_ldap.inc,
	  web/auth_nis.inc, web/auth_nw.inc, web/auth_pop3.inc:
	  
	  Set $auth['session']='http' if it is not specified. This allows
	  to get the same behaviour as before without changing
	  config.inc.php. Moved routines authGet(), getUserName() and
	  getUserPassword() to the new session_http.inc module. Function
	  authValidateUser() must not call authGet() anymore. In case of
	  failure it just returns 0 as specified in its header comment.

2003-11-14 22:13  Jean-Francois LARVOIRE <jflarvoire@users.sourceforge.net>

	* [r426] web/auth_ip.inc, web/auth_name.inc, web/auth_nt.inc,
	  web/auth_omni.inc:
	  
	  Removed the argument to authGet().

2003-11-14 22:07  Jean-Francois LARVOIRE <jflarvoire@users.sourceforge.net>

	* [r425] web/mrbs_auth.inc:
	  
	  Moved routines getAuthUserName() and getAuthUserPassword() to the
	  new session_http.inc module. Function getAuthorized() must not
	  call authGet() anymore. In case of failure it just returns 0 as
	  specified in its header comment.

2003-11-14 22:01  Jean-Francois LARVOIRE <jflarvoire@users.sourceforge.net>

	* [r424] web/session_cookie.inc, web/session_php.inc:
	  
	  Moved $HTTP_HOST setting to grab_globals.inc. Added missing
	  globals declarations. Removed the argument to authGet(). Action
	  "SetName" now validates the user/password pair. This avoids
	  loging on unauthorized users, which would rejected later on.

2003-11-14 21:52  Jean-Francois LARVOIRE <jflarvoire@users.sourceforge.net>

	* [r423] web/session_http.inc[ADD]:
	  
	  Get the user/password using the HTTP basic authentication.

2003-11-14 21:47  Jean-Francois LARVOIRE <jflarvoire@users.sourceforge.net>

	* [r422] web/grab_globals.inc.php:
	  
	  Added the setting of $HTTP_HOST.

2003-11-14 04:10  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r421] web/ChangeLog:
	  
	  ChangeLog update.

2003-11-14 04:07  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r420] web/session_php.inc:
	  
	  - (printLoginForm): make session_php.inc working with error level
	  E_ALL.

2003-11-12 03:24  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r419] README:
	  
	  Added warning about using php accelerators with mrbs.

2003-11-11 21:59  Jean-Francois LARVOIRE <jflarvoire@users.sourceforge.net>

	* [r418] web/lang.cz, web/lang.da, web/lang.de, web/lang.es,
	  web/lang.fi, web/lang.fr, web/lang.it, web/lang.ja, web/lang.nl,
	  web/lang.no, web/lang.pt, web/lang.sv, web/lang.zh-tw:
	  
	  Added messages for session handling.

2003-11-09 22:49  Jean-Francois LARVOIRE <jflarvoire@users.sourceforge.net>

	* [r417] web/auth_config.inc[ADD], web/config.inc.php, web/day.php,
	  web/functions.inc, web/lang.en, web/mrbs_auth.inc,
	  web/session_cookie.inc[ADD], web/session_php.inc[ADD]:
	  
	  Added support for session handling.

2003-11-09 10:58  Jean-Francois LARVOIRE <jflarvoire@users.sourceforge.net>

	* [r416] web/language.inc:
	  
	  Display an error message when the iconv function is not defined.
	  This message explains what to do to fix the problem on the PHP
	  server. It will help administrators who are likely to encounter
	  the problem the first time they install mrbs.

2003-11-01 21:12  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r415] ChangeLog, web/ChangeLog:
	  
	  ChangeLog update.

2003-11-01 21:06  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r414] web/day.php, web/month.php, web/week.php:
	  
	  + Time slots with an entry now display bubbles when mouse over,
	  showing complete description in day view and week view, and
	  either the short name or start-stop time in month view in
	  accordance with $_MRBS_monthly_view_brief_description value in
	  config.inc.php.

2003-11-01 19:06  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r413] web/week.php:
	  
	  Fixing typos

2003-10-31 20:34  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r412] INSTALL, web/config.inc.php:
	  
	  Added warning to avoid specify calendar settings that displays
	  blocks overlaping the next day, since it is not properly handled.

2003-10-31 19:45  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r411] web/language.inc:
	  
	  - Fixing a bug if we override local in config.inc.php. Variable
	  name was called $override_locale in config file and
	  $locale_override in language.inc.

2003-10-31 19:22  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r410] web/week.php:
	  
	  - Fixing The Daylight Savings Time bug (thanks to Tony Fugere
	  (tonyfugere at users.sourceforge.net)).

2003-10-31 01:17  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r409] web/auth_pop3.inc:
	  
	  - getting auth_pop3 working even in error_reporting(ALL).

2003-10-11 03:32  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r408] ChangeLog, web/ChangeLog:
	  
	  ChangeLog update.

2003-10-11 02:46  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r407] testdata.php:
	  
	  - bug fix: Make testdata compliant to register_global=off
	  (samples entries had no authors)

2003-10-10 19:26  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r405] web/language.inc:
	  
	  - Changed getenv('HTTP_ACCEPT_LANGUAGE') to
	  $HTTP_ACCEPT_LANGUAGE. getenv() does not work in ISAPI mode, so
	  getenv('HTTP_ACCEPT_LANGUAGE') is always NULL with ISAPI. Global
	  variable seems more reliable.

2003-10-10 04:54  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r404] web/ChangeLog, web/config.inc.php:
	  
	  + Allow to view weeks in the bottom (trailer.inc) as week numbers
	  (ie. 42) instead of 'first day of the week' (13 Oct). Committing
	  again since John previous commit erased my changes :-)

2003-10-10 04:31  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r403] web/ChangeLog:
	  
	  + new Unicode support (John).

2003-10-09 20:07  John Beranek <jberanek@users.sourceforge.net>

	* [r402] web/ChangeLog:
	  
	  * Just testing new CVS loginfo

2003-10-09 19:58  John Beranek <jberanek@users.sourceforge.net>

	* [r401] web/admin.php, web/config.inc.php, web/day.php,
	  web/del.php, web/edit_area_room.php, web/edit_entry.php,
	  web/edit_entry_handler.php, web/functions.inc, web/help.php,
	  web/language.inc[ADD], web/mincals.inc, web/month.php,
	  web/mrbs_auth.inc, web/mrbs_sql.inc, web/mysql.inc,
	  web/pgsql.inc, web/report.php, web/search.php, web/style.inc,
	  web/trailer.inc, web/view_entry.php, web/week.php:
	  
	  * Revamped localisation/internationalisation. MRBS can now be
	  called fulled Unicode, as long as the config variable
	  $unicode_encoding is set to 1. If this is set, then MRBS serves
	  all of it's pages in UTF-8 and stores everything in the database
	  in UTF-8. This means that all languages work together. Other
	  things fixed:
	  
	  - Automatic language determination made much better, works for
	  Windows and Unix servers now, by using different code for each.
	  
	  - There are new configuration variables in config.inc.php now, to
	  configure language/locale settings with much more flexibility.
	  
	  Tested on a Windows+Apache machine, and on a Linux+Apache machine
	  
	  NOTE FOR DEVELOPERS:
	  
	  Whenever you want to access the translations you MUST now use:
	  get_vocab('token') instead of $vocab[token]
	  
	  Additionally, if you use a call to date() or strftime() that
	  could return text, as opposed to just numbers, you MUST use
	  utf8_date() and utf8_strftime() instead.
	  
	  Note: Not filled out ChangeLog, because I don't know how (or if)
	  Thierry does it automatically, and I wasn't gonna do it by hand
	  with all the files I changed :)

2003-10-03 17:46  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r400] ChangeLog, INSTALL, web/ChangeLog, web/config.inc.php,
	  web/trailer.inc:
	  
	  + Allow to view weeks in the bottom (trailer.inc) as week numbers
	  (ie. 42) instead of 'first day of the week' (13 Oct) (Per
	  Wermelin - SKIOLD Sæby A/S" <ela@skiold.dk>).

2003-09-25 23:19  John Beranek <jberanek@users.sourceforge.net>

	* [r396] AUTHENTICATION, ChangeLog, crypt_passwd.example[ADD],
	  crypt_passwd.pl[ADD]:
	  
	  Added a new script for the "ext" authentication scheme that
	  allows you to use a password file with usernames and their
	  crypted passwords.

2003-09-25 18:20  John Beranek <jberanek@users.sourceforge.net>

	* [r395] web/ChangeLog, web/auth_pop3.inc:
	  
	  Bug fix for POP3 authentication scheme provided by Jean-Baptiste
	  Lehucher.

2003-09-23 06:11  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r393] ChangeLog, web/ChangeLog:
	  
	  Doc fixes.

2003-09-23 06:05  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r392] NEWS, web/help.php:
	  
	  Doc fixes.

2003-09-23 05:55  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r391] AUTHENTICATION, INSTALL, LANGUAGE, README.nwauth,
	  README.sqlapi, ROXEN, grant.pg.sql, testdata.php, web/add.php,
	  web/admin.php, web/auth_ext.inc, web/auth_imap.inc,
	  web/auth_ip.inc, web/auth_name.inc, web/auth_nis.inc,
	  web/auth_nt.inc, web/auth_omni.inc, web/auth_pop3.inc,
	  web/config.inc[DEL], web/config.inc.php[ADD], web/day.php,
	  web/del.php, web/del_entry.php, web/edit_area_room.php,
	  web/edit_entry.php, web/edit_entry_handler.php, web/help.php,
	  web/lang.fi, web/month.php, web/report.php, web/search.php,
	  web/view_entry.php, web/week.php:
	  
	  Finally we changed config.inc to config.inc.php for "security"
	  reasons.

2003-09-23 05:37  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r390] web/ChangeLog, web/config.inc:
	  
	  Make sure notice errors are not reported, they can break mrbs
	  code.

2003-09-11 14:52  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r386] web/ChangeLog, web/lang.fi:
	  
	  Updating finish lang file (Tom Ingberg
	  (tom.ingberg@edu.vantaa.fi)).

2003-08-12 16:17  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r385] web/ChangeLog, web/edit_entry.php:
	  
	  - Fixed bug #748934, do not allow booking descriptions with only
	  spaces (cannot click the slot).

2003-08-09 20:55  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r384] ChangeLog, web/ChangeLog:
	  
	  ChangeLog update.

2003-08-09 05:23  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r383] AUTHENTICATION, web/auth_nt.inc[ADD]:
	  
	  + Added Windows NT / IIS authentication scheme.

2003-08-09 03:36  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r382] AUTHENTICATION, INSTALL, README, web/config.inc:
	  
	  Dox fixes. Update documentation and comments to the current cvs
	  situation.

2003-08-07 15:57  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r381] NEWS:
	  
	  * Doc fixes: updated to have a consistent layout.

2003-08-07 05:32  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r380] web/ChangeLog[ADD]:
	  
	  * New true GNU ChangeLog file. Only changes to this directory
	  (mrbs/web/) should use this ChangeLog. File created with
	  cvs2cl.pl script (http://www.red-bean.com/cvs2cl/) with these
	  parameters :
	  
	  cvs2cl.pl --revisions --branches --tags --gmt --ignore ChangeLog
	  --usermap /path/to/your/username_email_file --file ChangeLog
	  --window 43200 --FSF
	  
	  Note : I did not yet succeeded retrieving username/email
	  automatically from Sourceforge, so they have to be put in a file.
	  I set a 12 hours window to not have 'atomic' entries in the file.

2003-08-07 05:28  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r379] ChangeLog:
	  
	  * File replaced with a new true GNU ChangeLog file. Previous
	  content moved to the new NEWS file. File created with cvs2cl.pl
	  script (http://www.red-bean.com/cvs2cl/) with these parameters :
	  cvs2cl.pl --revisions --branches --tags --gmt --ignore web/
	  --ignore ChangeLog --usermap /path/to/your/username_email_file
	  --file ChangeLog --window 43200 --FSF
	  
	  Note : I did not yet succeeded retrieving username/email
	  automatically from Sourceforge, so they have to be put in a file.
	  I did not included /mrbs/web/ entries, because there is a new
	  ChangeLog straight in this directory. I set a 12 hours window to
	  not have 'atomic' entries in the file.

2003-08-07 05:07  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r378] NEWS[ADD]:
	  
	  * Added a NEWS file which contains a list of user-visible changes
	  worth mentioning (as per GNU Coding Standards). Content pasted
	  from the previous ChangeLog file which was a NEWS file in fact,
	  except last CVS entries which should go to the ChangeLog file.

2003-05-29 07:25  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r376] web/edit_entry.php:
	  
	  - Fixed bug : Always displays "edit entry" instead of "Add Entry"
	  even when adding an entry. (<Ian Duncan>i.duncan@uq.edu.au)

2003-05-12 03:50  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r375] ChangeLog, web/mrbs_sql.inc:
	  
	  - Changed mrbs_sql.inc so that when a 5th week "Monthly repeat,
	  same day of the week" is selected, subsequent repeated meetings
	  switch to the 5th week when possible after falling back to the
	  4th week.

2003-05-12 03:31  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r374] web/mrbs_sql.inc:
	  
	  - fixed bug : monthly repeat, corresponding day not properly
	  booked

2003-05-11 00:40  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r373] ChangeLog, web/mrbs_sql.inc:
	  
	  - Fixed bug : when selecting a "Monthly repeat, same day of the
	  week" repeat type in the 5th week, repeated meetings are not
	  properly scheduled. Now if no 5th week exist, the 4th week is
	  selected instead for all subsequen

2003-05-08 12:55  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r372] ChangeLog, web/report.php:
	  
	  - Fixed bug : when you press on print preview in report.php page,
	  all but the submission form is visible but not the actual report
	  (<sQuare>mrbs@synapse.plus.com).

2003-04-25 21:20  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r371] web/mincals.inc:
	  
	  + in the minicalendar week view, the full week is highlighted
	  instead of the first day of the week
	  (<sQuare>mrbs@synapse.plus.com).

2003-04-25 20:56  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r370] web/mincals.inc:
	  
	  - converts all 'tabs' to 'space' (the file contains a mix of
	  both)

2003-04-18 04:47  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r369] ChangeLog:
	  
	  - Fixed bug : in week view, allow non 'internet explorer'
	  browsers to see links to the corresponding days in column titles
	  (Johan.Schonning@uab.ericsson.se).

2003-04-18 02:21  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r368] web/week.php:
	  
	  - Corrected bug : in week view, allow non 'internet explorer'
	  browsers to see links to the corresponding days in column titles
	  (Johan.Schonning@uab.ericsson.se).

2003-04-17 03:38  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r367] ChangeLog, web/config.inc, web/month.php:
	  
	  + Entries in monthly view can be shown as start/end slot or brief
	  description

2003-04-15 15:20  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r366] web/week.php:
	  
	  + replaced the column titles in the week view to be links to the
	  corresponding days. This makes it easier for users to access the
	  day view from the week view without having to scroll down to the
	  bottom of the page. (<sQuare>mrbs@synapse.plus.com)

2003-04-09 20:10  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r365] web/edit_entry_handler.php:
	  
	  - Fixed bug : if AM/PM hour format is used, bookings between
	  12:00 AM and 12:59 AM are stored with a wrong start date.

2003-04-01 05:26  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r364] ChangeLog:
	  
	  - bug fix : italian vocab with character not properly escaped
	  prevents deleting entries and/or prevent javascript popup to
	  works (Pietro donatini)

2003-03-31 22:19  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r362] web/lang.it:
	  
	  - bug fix : italian vocab with character not properly escaped
	  prevents deleting entries and/or prevent javascript popup to
	  works (Pietro donatini)

2003-03-28 18:31  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r356] ChangeLog:
	  
	  - Fixed bug : if AM/PM hour format is used, bookings between
	  12:00 PM and 12:59 PM are stored with a wrong start date.

2003-03-28 15:40  John Beranek <jberanek@users.sourceforge.net>

	* [r355] ChangeLog, web/auth_imap.inc, web/auth_ldap.inc,
	  web/auth_nis.inc, web/auth_nw.inc, web/mrbs_auth.inc:
	  
	  * Fixed bug in escaping of username and password for all
	  authentication schemes that use HTTP authentication.

2003-03-28 00:29  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r354] web/edit_entry_handler.php:
	  
	  - Fixed bug : if AM/PM hour format is used, bookings between
	  12:00 PM and 12:59 PM are stored with a wrong start date.

2003-03-11 19:01  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r353] ChangeLog, web/help.php, web/lang.da[ADD]:
	  
	  + Added translation: Danish (Claes Bolvig Pedersen (cp@dhi.dk)) -
	  Changed mrbs_version in help.php to "MRBS 1.1"

2003-03-05 05:12  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r352] ChangeLog, web/add.php, web/admin.php, web/day.php,
	  web/del.php, web/del_entry.php, web/edit_area_room.php,
	  web/edit_entry.php, web/edit_entry_handler.php,
	  web/grab_globals.inc.php[ADD], web/help.php, web/month.php,
	  web/report.php, web/search.php, web/view_entry.php, web/week.php:
	  
	  + Make MRBS compliant to the 'register_globals = off' directive

2003-03-05 05:07  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r351] web/lang.pt[ADD]:
	  
	  + added translation: Portuguese (Lopo Pizarro)

2003-02-09 20:03  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r350] web/edit_entry.php, web/edit_entry_handler.php:
	  
	  - minor bug fixes ("Undefined variable" notices...)

2003-01-30 07:08  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r349] web/lang.fi:
	  
	  - Parse error fix

2003-01-30 06:53  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r348] ChangeLog:
	  
	  + add translation: lang.fi (Finnish, Vesa Palmu) - translations
	  updates in lang.fr, lang.no (Tobias) - 1 vocab added in
	  functions.inc - Bug fix if "select" option is choosen to show
	  areas/rooms

2003-01-30 06:50  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r347] web/lang.fi[ADD]:
	  
	  + add translation: Finnish, Vesa Palmu

2003-01-29 05:48  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r346] web/lang.no:
	  
	  - minor translation update

2003-01-29 05:43  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r345] web/functions.inc, web/lang.fr, web/lang.no:
	  
	  - Minor translations updates in lang.fr, lang.no (Tobias), 1
	  vocab added in functions.inc

2003-01-29 00:08  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r344] web/functions.inc:
	  
	  - Bug fix : if "select" is choosen in config.inc to show
	  areas/rooms as a drop-down select box, an sql error occurs when
	  the "change" button is clicked (mostly used for non javascript
	  users).

2003-01-15 04:02  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r343] web/mrbs.css:
	  
	  - Changed the tiny size of numbers in calendar to a larger one.
	  There is more room to do this since week day names are displayed
	  with 3 characters now instead of one.

2003-01-15 03:49  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r342] web/admin.php, web/lang.cz, web/lang.de, web/lang.en,
	  web/lang.es, web/lang.fr, web/lang.it, web/lang.ja, web/lang.nl,
	  web/lang.no, web/lang.sv, web/lang.zh-tw:
	  
	  - Fixed an error in all lang files, $vocab["backadmin"] was
	  defined twice since a recent update. - Added one (hopefully last)
	  missing $vocab (administration).

2003-01-14 10:22  John Beranek <jberanek@users.sourceforge.net>

	* [r340] web/config.inc, web/mincals.inc:
	  
	  * Fixed small problem in Daniel's recent minicals change.

2003-01-14 09:58  John Beranek <jberanek@users.sourceforge.net>

	* [r339] ChangeLog, web/config.inc, web/day.php, web/del.php,
	  web/edit_entry.php, web/edit_entry_handler.php,
	  web/functions.inc, web/month.php, web/report.php, web/search.php,
	  web/view_entry.php, web/week.php:
	  
	  * Added configuration option ($twentyfourhour_format) to allow
	  time formats to be changed to 12 hour format.
	  
	  * Modified ChangeLog in anticipation of 1.1 release.

2003-01-14 00:38  Daniel <nambit@users.sourceforge.net>

	* [r338] ChangeLog, web/lang.cz, web/lang.de, web/lang.en,
	  web/lang.es, web/lang.fr, web/lang.it, web/lang.ja, web/lang.nl,
	  web/lang.no, web/lang.sv, web/lang.zh-tw:
	  
	  make all language files consistant

2003-01-13 21:41  Daniel <nambit@users.sourceforge.net>

	* [r337] ChangeLog, web/day.php, web/mincals.inc, web/month.php,
	  web/week.php:
	  
	  Change minicals so they point to week when on week view and month
	  when on month view

2003-01-13 14:37  John Beranek <jberanek@users.sourceforge.net>

	* [r336] ChangeLog, web/edit_entry.php:
	  
	  - Changed occurences of "<?=" to "<?php echo" which means we
	  still use the long tag form everywhere.

2003-01-13 01:58  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r335] web/edit_entry.php:
	  
	  Added new $vocab in order to remove the last plain english
	  strings in the code.

2003-01-12 22:54  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r334] ChangeLog:
	  
	  - Removed all remainings english strings to make MRBS 100%
	  translatable - Modified config.inc language section to choose a
	  site_faq.html file translated in another language - Added
	  auth_name.inc, auth_omni.inc

2003-01-12 22:50  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r333] web/auth_omni.inc[ADD]:
	  
	  Authentification scheme using own Omnicron OmniHTTPd web server
	  security features.

2003-01-12 22:46  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r332] web/auth_name.inc[ADD]:
	  
	  Variant of auth_ip.inc that try to use DNS name instead of IP.

2003-01-12 21:54  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r331] web/functions.inc:
	  
	  Added new $vocab in order to remove the last plain english
	  strings in the code.

2003-01-12 20:34  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r330] web/site_faq_fr.html:
	  
	  Minor translation corrections

2003-01-12 20:15  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r329] web/edit_entry.php:
	  
	  Changed :
	  
	  alert ( "<?php= which output a parse error "unneeded =" to alert
	  ( "<?php but the message is not displayed in the window
	  
	  so I come back to my original :
	  
	  alert ( "<?= which seems to work.

2003-01-12 19:50  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r328] web/view_entry.php:
	  
	  Added new $vocab in order to remove the last plain english
	  strings in the code.

2003-01-12 19:39  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r327] web/mysql.inc, web/pgsql.inc:
	  
	  Added new $vocab in order to remove the last plain english
	  strings in the code.

2003-01-12 19:31  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r326] web/site_faq_fr.html[ADD]:
	  
	  Added site_faq_fr.html (french translation of site_faq.html)

2003-01-12 19:26  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r325] web/config.inc:
	  
	  Added Faq file language selection ($faqfilelang).

2003-01-12 19:03  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r324] web/help.php:
	  
	  Added new $vocab in order to remove the last plain english
	  strings in the code. Changed Faq file include to use language
	  selection (in config.inc)

2003-01-12 18:54  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r323] web/edit_entry_handler.php:
	  
	  Added new $vocab in order to remove the last plain english
	  strings in the code.

2003-01-12 18:48  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r322] web/edit_entry.php:
	  
	  Added new $vocab in order to remove the last plain english
	  strings in the code.

2003-01-12 16:45  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r321] web/edit_area_room.php:
	  
	  Added new $vocab in order to remove the last plain english
	  strings in the code.

2003-01-12 16:39  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r320] web/del.php:
	  
	  Added new $vocab in order to remove the last plain english
	  strings in the code.

2003-01-12 16:32  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r319] web/lang.fr:
	  
	  Added new $vocab in order to remove the last plain english
	  strings in the code. Minor language corrections

2003-01-12 16:04  Thierry Bothorel <thierry_bo@users.sourceforge.net>

	* [r318] web/lang.en:
	  
	  Added new $vocab in order to remove the last plain english
	  strings in the code.

2003-01-10 12:43  John Beranek <jberanek@users.sourceforge.net>

	* [r317] ChangeLog:
	  
	  * Corrected ChangeLog. Daniel's 2 latest changes didn't make it
	  into 1.1-pre2.

2003-01-10 11:33  Daniel <nambit@users.sourceforge.net>

	* [r316] ChangeLog, web/search.php:
	  
	  Remove warnings about headers in search.php

2003-01-09 18:05  Daniel <nambit@users.sourceforge.net>

	* [r315] ChangeLog, web/trailer.inc:
	  
	  Change trailer.inc to make print preview more likely to work on
	  windows and non-apache servers

2003-01-09 17:48  John Beranek <jberanek@users.sourceforge.net>

	* [r314] ChangeLog:
	  
	  * Modified ChangeLog to show changes for soon to be released
	  1.1-pre2 version.

2003-01-09 17:44  Daniel <nambit@users.sourceforge.net>

	* [r313] ChangeLog, web/lang.es:
	  
	  Updated spanish translation

2003-01-09 17:39  Daniel <nambit@users.sourceforge.net>

	* [r312] AUTHENTICATION:
	  
	  add a note about using APOP

2003-01-09 17:38  Daniel <nambit@users.sourceforge.net>

	* [r311] AUTHENTICATION, ChangeLog, web/auth_pop3.inc[ADD],
	  web/config.inc:
	  
	  New authentication provider which uses a POP3 mail server.
	  
	  Can authenticate using APOP or standard USER/PASS

2002-11-28 10:24  John Beranek <jberanek@users.sourceforge.net>

	* [r310] ChangeLog, web/admin.php, web/edit_entry.php:
	  
	  * Fix for edit entry page. We now determine the area id of the
	  room the meeting we're editting is in before getting a list of
	  the rooms in that area. This solves a number of errors that occur
	  when editting/creating bookings. [Note: this is the bug that has
	  been reported by multiple people on the mailing list.]

2002-10-14 15:45  John Beranek <jberanek@users.sourceforge.net>

	* [r309] ChangeLog, web/admin.php, web/del.php,
	  web/edit_area_room.php, web/index.php, web/style.inc:
	  
	  Fixes submitted/suggested by Jean-François Larvoire:
	  
	  - Added closing ?> to index.php - Added "global $refresh_rate;"
	  to style.inc - Fixed all occurences (hopefully) of $vocab[]
	  indices written without surrounding quotes.

2002-10-09 11:44  John Beranek <jberanek@users.sourceforge.net>

	* [r308] ChangeLog:
	  
	  * Minor change to ChangeLog.

2002-10-08 13:19  John Beranek <jberanek@users.sourceforge.net>

	* [r307] ChangeLog, smb_auth.c, web/admin.php, web/auth_ext.inc,
	  web/config.inc, web/edit_area_room.php, web/edit_entry.php,
	  web/escapeshellarg.inc[ADD], web/functions.inc, web/help.php,
	  web/index.php, web/lang.cz, web/lang.de, web/lang.en,
	  web/lang.es, web/lang.fr, web/lang.it, web/lang.ja, web/lang.nl,
	  web/lang.no, web/lang.sv, web/lang.zh-tw, web/mincals.inc,
	  web/mrbs_auth.inc, web/report.php, web/search.php, web/style.inc,
	  web/view_entry.php:
	  
	  - Changed all uses of <? to <?php.
	  
	  - Merged change from John Beranek for an Advanced search
	  function, requires 3 more translation tokens, which have been
	  added to each language file, "search_button" should be OK, as I
	  took the text from each language's "search" token.
	  
	  - Fixed 2 problems in edit_entry.php as submitted on the mailing
	  list.
	  
	  - Added small enchancement to smb_auth.c, if you pass a username
	  as group/user, it will change the NT group that is used for
	  authentication.
	  
	  - Improved shell escaping in auth_ext.inc. It now uses
	  escapeshellarg() instead of escapeshellcmd(). If your PHP version
	  is less than 4.0.3, then it includes escapeshellarg.inc which is
	  a local implementation of that function.
	  
	  - Added updated Frech translation, as provided by Thierry Wehr.
	  
	  - Tided all language files again, they all have the same format
	  and number of lines now, and are all missing at least 2
	  translations because of the new advanced search functionality.
	  
	  - Fixed a number of bugs to make the Taiwanese translation work.
	  The code to include language files based on HTTP_ACCEPT_LANGUAGE
	  has been improved, which ensures lang.zh-tw is included.
	  Additionally, mincals.inc not longer does a substr() on the
	  abbreviated weekday names, as this breaks terribly for any
	  multibyte encoding, as it was only taking the first byte of a
	  multibyte encoding. This has the impact that you now get
	  Mon,Tue,Wed etc instead of M,T,W (using glibc's en_GB locale).
	  
	  - print_header() now outputs a DOCTYPE identifier as well as
	  sending Pragma: no-cache and an Expires: header in the past. This
	  should help ensure the calendar pages don't get cached.

2002-05-30 11:42  Daniel <nambit@users.sourceforge.net>

	* [r306] ChangeLog:
	  
	  update changelog for new release

2002-05-30 10:59  Daniel <nambit@users.sourceforge.net>

	* [r305] web/edit_entry.php:
	  
	  extra javascript validation around n-weekly bookings
	  
	  https://sourceforge.net/tracker/index.php?func=detail&aid=482145&group_id=5113&atid=105113

2002-05-30 10:53  Daniel <nambit@users.sourceforge.net>

	* [r304] web/day.php, web/week.php:
	  
	  add area param to some urls
	  
	  https://sourceforge.net/tracker/index.php?func=detail&aid=559655&group_id=5113&atid=105113

2002-05-25 12:27  Daniel <nambit@users.sourceforge.net>

	* [r303] web/lang.no:
	  
	  update lang.no translation (by Tobias Johan Karlsen)

2002-05-23 10:10  Daniel <nambit@users.sourceforge.net>

	* [r302] ChangeLog, web/lang.cz[ADD]:
	  
	  add Czech translation

2002-05-18 23:04  Daniel <nambit@users.sourceforge.net>

	* [r301] web/admin.php, web/report.php, web/trailer.inc:
	  
	  quote some array indexes to cut down on the number of warnings

2002-05-18 18:16  Daniel <nambit@users.sourceforge.net>

	* [r300] web/help.php:
	  
	  stop using posix_uname and use php_uname instead. should make the
	  help screen work on windows

2002-05-18 16:39  Daniel <nambit@users.sourceforge.net>

	* [r299] web/day.php, web/functions.inc, web/week.php:
	  
	  Fixes a problem where $resolution is an odd amount. details here:
	  
	  http://sourceforge.net/tracker/index.php?func=detail&aid=493079&group_id=5113&atid=105113

2002-05-18 16:27  Daniel <nambit@users.sourceforge.net>

	* [r298] web/week.php:
	  
	  some int casts to fix a bug from sourceforge. see here for
	  details:
	  
	  http://sourceforge.net/tracker/index.php?func=detail&aid=522990&group_id=5113&atid=105113

2002-05-18 16:14  Daniel <nambit@users.sourceforge.net>

	* [r297] web/functions.inc:
	  
	  add warning about PHP3

2002-05-18 15:59  Daniel <nambit@users.sourceforge.net>

	* [r296] web/auth_nis.inc:
	  
	  correct typo

2002-05-18 15:06  Daniel <nambit@users.sourceforge.net>

	* [r295] web/lang.de, web/lang.es, web/lang.fr, web/lang.it,
	  web/lang.ja, web/lang.nl, web/lang.no, web/lang.sv,
	  web/lang.zh-tw:
	  
	  renormalize all of the language files

2002-05-14 16:11  Daniel <nambit@users.sourceforge.net>

	* [r294] web/month.php, web/week.php:
	  
	  fix bug introduced by drop-down area selection boxes on week and
	  month views. the page header now shows the area and room name
	  again

2002-05-13 16:56  Daniel <nambit@users.sourceforge.net>

	* [r293] web/day.php, web/functions.inc, web/month.php,
	  web/week.php:
	  
	  add dropdown room selectors to week and month views

2002-05-11 12:19  Daniel <nambit@users.sourceforge.net>

	* [r292] web/day.php:
	  
	  add $area to variables passed to edit_entry.php

2002-05-11 11:56  Daniel <nambit@users.sourceforge.net>

	* [r291] INSTALL, README:
	  
	  stop saying that PHP3 will work

2002-05-11 11:32  Daniel <nambit@users.sourceforge.net>

	* [r290] ChangeLog, web/edit_entry.php, web/edit_entry_handler.php,
	  web/lang.en:
	  
	  allows multiple rooms to be booked at the same time

2002-05-11 11:31  Daniel <nambit@users.sourceforge.net>

	* [r289] checklang.php:
	  
	  change last $lang to $vocab

2002-05-09 12:50  Daniel <nambit@users.sourceforge.net>

	* [r288] ChangeLog, LANGUAGE, auth_cookie_ext.inc, checklang.php,
	  web/admin.php, web/config.inc, web/day.php, web/del.php,
	  web/edit_area_room.php, web/edit_entry.php,
	  web/edit_entry_handler.php, web/functions.inc, web/help.php,
	  web/lang.de, web/lang.en, web/lang.es, web/lang.fr, web/lang.it,
	  web/lang.ja, web/lang.nl, web/lang.no, web/lang.sv,
	  web/lang.zh-tw, web/month.php, web/mrbs_auth.inc,
	  web/mrbs_sql.inc, web/report.php, web/search.php, web/style.inc,
	  web/trailer.inc, web/view_entry.php, web/week.php:
	  
	  Change every $lang to $vocab to stop conflicts with other
	  software that's used $lang (lots of people have seen "N" appear
	  everywhere $lang variables should be)

2002-05-08 13:04  Daniel <nambit@users.sourceforge.net>

	* [r287] INSTALL:
	  
	  document need for register_globals

2002-05-08 13:03  Daniel <nambit@users.sourceforge.net>

	* [r286] web/lang.fr:
	  
	  updated lang.fr

2002-05-08 12:35  Daniel <nambit@users.sourceforge.net>

	* [r285] web/config.inc, web/day.php, web/functions.inc:
	  
	  allow areas to be shown as a drop-down select box as well as the
	  default html display. option in config.inc to control this
	  behaviour

2002-03-07 15:29  John Beranek <jberanek@users.sourceforge.net>

	* [r284] ChangeLog, web/auth_ext.inc, web/auth_imap.inc,
	  web/auth_ip.inc, web/auth_nis.inc[ADD]:
	  
	  * Added comments to the top of all the authentication schemes
	  (that I understand) that describes how to change config.inc to
	  use them. This should help new installers.
	  
	  * Added auth_nis.inc, as provided by Jeff Hoover. This is an
	  authentication scheme that uses NIS.

2002-02-07 13:12  John Beranek <jberanek@users.sourceforge.net>

	* [r283] ChangeLog, UPGRADE, tables.pg.sql, upgrade2.pg.sql,
	  web/admin.php, web/auth_imap.inc[ADD], web/config.inc,
	  web/del.php, web/edit_area_room.php, web/functions.inc,
	  web/lang.de, web/lang.en, web/lang.es, web/lang.fr,
	  web/lang.it[ADD], web/lang.ja, web/lang.nl, web/lang.no[ADD],
	  web/lang.sv, web/lang.zh-tw, web/report.php:
	  
	  * Added instructions into UPGRADE readme for upgrade2.[my|pg].ql
	  scripts that are required to upgrade from an older MRBS
	  installation.
	  
	  * Added new language tokens, using patch supplied by Michael
	  Redinger.
	  
	  * Added new or updated translations for: Italy (Gianni)
	  Netherlands (Marc ter Horst) Norway (Rune Johansen) Sweden (Hakan
	  Nilsson) German (Michael Redinger)
	  
	  * Added auth_imap.inc, an authentication scheme that uses IMAP,
	  this includes a few more (commented out) lines in config.inc
	  
	  * Changed datatype of 'rep_num_weeks' in 'mrbs_repeat' table for
	  PostgreSQL installs. We now use smallint instead of tinyint, as
	  tinyint isn't available.
	  
	  * Changed config.inc to use getenv('HTTP_ACCEPT_LANGUAGE')
	  instead of $HTTP_ACCEPT_LANGUAGE...much tidier.

2001-11-02 12:57  John Beranek <jberanek@users.sourceforge.net>

	* [r282] ChangeLog, web/config.inc:
	  
	  * Fixed problem in config.inc, $HTTP_ACCEPT_LANGUAGE wasn't
	  working for me unless I put a global specification for it. This
	  should improve internationalisation.

2001-08-30 21:27  Daniel <nambit@users.sourceforge.net>

	* [r280] ChangeLog:
	  
	  updated for 1.0

2001-07-16 08:44  John Beranek <jberanek@users.sourceforge.net>

	* [r279] upgrade2.my.sql[ADD], upgrade2.pg.sql[ADD]:
	  
	  * Added these upgrade SQL files. Don't know how I forgot to add
	  them!

2001-07-08 12:42  Daniel <nambit@users.sourceforge.net>

	* [r278] ChangeLog:
	  
	  edit for 1.0-pre2 release

2001-07-02 17:32  John Beranek <jberanek@users.sourceforge.net>

	* [r277] web/mrbs_sql.inc:
	  
	  * Removed a little debug code that I left in accidentally.

2001-07-02 16:58  John Beranek <jberanek@users.sourceforge.net>

	* [r276] web/style.inc:
	  
	  * Missed a bit in previous checkin, because I have multiple MRBS
	  trees, ahem.

2001-07-02 15:05  John Beranek <jberanek@users.sourceforge.net>

	* [r275] ChangeLog, tables.my.sql, tables.pg.sql,
	  web/auth_ldap.inc, web/config.inc, web/day.php,
	  web/edit_entry.php, web/edit_entry_handler.php,
	  web/functions.inc, web/lang.de, web/lang.en, web/lang.es,
	  web/lang.fr, web/lang.ja, web/lang.nl, web/lang.sv,
	  web/lang.zh-tw, web/mrbs_sql.inc, web/style.inc,
	  web/view_entry.php, web/week.php:
	  
	  * Incorporated diff from Scott Leonard that allows you to
	  configure a refresh time for roombooker web pages. Set config
	  variable $refresh_rate to the number of seconds to refresh after,
	  or set to 0 to disable.
	  
	  * Implemented "n-weekly" repeat type. Not sure I like the way
	  it's phrased in the lang files, but the code works fine. You can
	  now a meeting that is repeated every 'n' weeks. e.g. every 5th
	  Monday. This required a database change, which I've made
	  available in upgrade2.my.sql and upgrade2.pg.sql
	  
	  * Tidied lang files, and ensured every file has all the required
	  tokens. 'wc -l lang.*' now shows all the files as having the same
	  line count. Quite a few languages now have English bits in them
	  though.
	  
	  * Incorporated diffs from Tim Bell that allow you to configure a
	  filter for LDAP authentication.
	  
	  * Incorporated diffs from Tim Bell that solve problems with
	  bookings made for times that have smaller granularity that the
	  configured booking resolution.

2001-03-26 14:36  John Beranek <jberanek@users.sourceforge.net>

	* [r274] ChangeLog:
	  
	  * Fixed time in ChangeLog :)

2001-03-26 14:34  John Beranek <jberanek@users.sourceforge.net>

	* [r273] ChangeLog, web/config.inc:
	  
	  * Fixed config.inc so that the correct lang.xx is included if
	  HTTP_ACCEPT_LANGUAGE is a comma-seperated list like "sv, en".

2001-03-26 14:02  John Beranek <jberanek@users.sourceforge.net>

	* [r272] ChangeLog, web/lang.es, web/lang.sv:
	  
	  * Copied "rep_type_5" language token into Swedish and Spanish
	  language files from English file. Swedish and Spanish users were
	  not able to use "monthly, corresponding day" repeats without the
	  token being present.

2001-03-18 18:07  Michael Redinger <mred@users.sourceforge.net>

	* [r271] web/lang.de, web/lang.en, web/lang.es, web/lang.fr,
	  web/lang.ja, web/lang.nl, web/lang.sv, web/lang.zh-tw,
	  web/trailer.inc:
	  
	  Added language string for print preview; added it to all lang
	  files, but only german was translated - the rest still has the
	  english string.

2001-03-18 18:02  Michael Redinger <mred@users.sourceforge.net>

	* [r270] web/day.php, web/functions.inc, web/month.php,
	  web/trailer.inc, web/week.php:
	  
	  red: Added print preview for day, week and month.

2001-03-07 13:57  John Beranek <jberanek@users.sourceforge.net>

	* [r269] web/lang.de, web/lang.es:
	  
	  * Checked in updates to lang.es (received from Pablo Gomez) and
	  lang.de (received by Bernd Oeggl). 2nd attempt, actually the
	  check the files in this time.

2001-03-07 13:52  John Beranek <jberanek@users.sourceforge.net>

	* [r268] ChangeLog:
	  
	  * Checked in updates to lang.es (received from Pablo Gomez) and
	  lang.de (received by Bernd Oeggl).

2001-03-07 00:34  Daniel <nambit@users.sourceforge.net>

	* [r267] ChangeLog, web/lang.nl:
	  
	  Update lang.nl

2001-03-04 23:25  Daniel <nambit@users.sourceforge.net>

	* [r265] ChangeLog:
	  
	  Changes for release 1.0-pre1

2001-03-02 13:10  Michael Redinger <mred@users.sourceforge.net>

	* [r264] AUTHENTICATION, auth_pam.pl[ADD]:
	  
	  mred: added auth_pam, updated AUTHENTIFICATION

2001-02-27 09:49  John Beranek <jberanek@users.sourceforge.net>

	* [r263] ChangeLog:
	  
	  * Added message into ChangeLog, noting change to CVSROOT to make
	  CVS commit logs get sent to the list...mainly to see if it's
	  working.

2001-02-26 12:19  John Beranek <jberanek@users.sourceforge.net>

	* [r262] ChangeLog, web/functions.inc, web/lang.de, web/lang.en,
	  web/lang.es, web/lang.fr, web/lang.ja, web/lang.nl, web/lang.sv,
	  web/lang.zh-tw:
	  
	  * Internationalised functions.inc. "Help", "Admin" and "Search:"
	  are now lang strings. Also, fixed an error in lang.fr,
	  $lang["mrbs"] was defined twice.

2001-02-26 10:51  John Beranek <jberanek@users.sourceforge.net>

	* [r261] ChangeLog, web/day.php, web/edit_entry.php,
	  web/functions.inc, web/mincals.inc, web/month.php,
	  web/report.php, web/week.php:
	  
	  * Added double quotes around all uses of color and class
	  attributes, as HTML dictates.

2001-02-26 01:27  L J Bayuk <lbayuk@users.sourceforge.net>

	* [r260] ChangeLog:
	  
	  Note new links on search, conflict

2001-02-26 01:24  L J Bayuk <lbayuk@users.sourceforge.net>

	* [r259] web/mrbs_sql.inc:
	  
	  On conflict, show start time and links to day/week/month views
	  (based on patch from M. Redinger).

2001-02-26 01:24  L J Bayuk <lbayuk@users.sourceforge.net>

	* [r258] web/search.php:
	  
	  Link each search result start time to a day view of that entry
	  (bernd, beranek).

2001-02-25 01:34  L J Bayuk <lbayuk@users.sourceforge.net>

	* [r256] .htaccess[DEL], AUTHENTICATION, ChangeLog, INSTALL,
	  LANGUAGE, README, README.nwauth[ADD], README.sqlapi[ADD], ROXEN,
	  UPGRADE, add.php3[DEL], admin.php3[DEL], auth_cookie_ext.inc,
	  auth_ext.inc[DEL], auth_ip.inc[DEL], auth_ldap.inc[DEL],
	  auth_ldap.pl, auth_ldapsearch.pl, badpw.pl, checklang.php[ADD],
	  config.inc[DEL], connect.inc[DEL], day.php3[DEL], del.php3[DEL],
	  del_entry.php3[DEL], destroy.pg.sql[ADD],
	  edit_area_room.php3[DEL], edit_entry.php3[DEL],
	  edit_entry_handler.php3[DEL], functions.inc[DEL],
	  grant.pg.sql[ADD], help.php3[DEL], index.php3[DEL], lang.de[DEL],
	  lang.en[DEL], lang.es[DEL], lang.fr[DEL], lang.ja[DEL],
	  lang.nl[DEL], lang.sv[DEL], lang.zh-tw[DEL], mincals.inc[DEL],
	  mrbs.css[DEL], mrbs_auth.inc[DEL], mrbs_sql.inc[DEL],
	  new.gif[DEL], purge.my.sql[ADD], purge.pg.sql[ADD],
	  sample-data.sql[ADD], search.php3[DEL], site_faq.html[DEL],
	  style.inc[DEL], tables.my.sql[ADD], tables.pg.sql[ADD],
	  tables.sql[DEL], testdata.php[ADD], testdata.php3[DEL],
	  trailer.inc[DEL], upgrade.my.sql[ADD], upgrade.sql[DEL],
	  view_entry.php3[DEL], web[ADD], web/.htaccess[ADD],
	  web/add.php[ADD], web/admin.php[ADD], web/auth_ext.inc[ADD],
	  web/auth_ip.inc[ADD], web/auth_ldap.inc[ADD],
	  web/auth_nw.inc[ADD], web/config.inc[ADD], web/day.php[ADD],
	  web/del.php[ADD], web/del_entry.php[ADD],
	  web/edit_area_room.php[ADD], web/edit_entry.php[ADD],
	  web/edit_entry_handler.php[ADD], web/functions.inc[ADD],
	  web/help.php[ADD], web/index.php[ADD], web/lang.de[ADD],
	  web/lang.en[ADD], web/lang.es[ADD], web/lang.fr[ADD],
	  web/lang.ja[ADD], web/lang.nl[ADD], web/lang.sv[ADD],
	  web/lang.zh-tw[ADD], web/mincals.inc[ADD], web/month.php[ADD],
	  web/mrbs.css[ADD], web/mrbs_auth.inc[ADD], web/mrbs_sql.inc[ADD],
	  web/mysql.inc[ADD], web/new.gif[ADD], web/pgsql.inc[ADD],
	  web/report.php[ADD], web/search.php[ADD], web/site_faq.html[ADD],
	  web/style.inc[ADD], web/trailer.inc[ADD],
	  web/view_entry.php[ADD], web/week.php[ADD]:
	  
	  Merge branch mrbs-0-9-1xp into trunk

2001-02-09 20:08  Daniel <nambit@users.sourceforge.net>

	* [r154] ChangeLog:
	  
	  Change release date

2001-02-08 22:44  Daniel <nambit@users.sourceforge.net>

	* [r153] ChangeLog, config.inc, mincals.inc:
	  
	  remove 'weekstarts' functionality

2001-02-04 21:56  Daniel <nambit@users.sourceforge.net>

	* [r148] ChangeLog:
	  
	  calendar day was off by one

2001-02-04 21:53  Daniel <nambit@users.sourceforge.net>

	* [r147] mincals.inc:
	  
	  Fixed bug where days displayed wrong in mincals

2001-02-04 21:40  Daniel <nambit@users.sourceforge.net>

	* [r146] ChangeLog:
	  
	  release 0.9

2001-01-28 17:42  Daniel <nambit@users.sourceforge.net>

	* [r145] UPGRADE:
	  
	  small note to say no db changes since 0.8

2001-01-28 17:15  Daniel <nambit@users.sourceforge.net>

	* [r144] ChangeLog:
	  
	  Comments for bo's fixes

2001-01-24 23:37  Bo Kleve <bokleve@users.sourceforge.net>

	* [r143] config.inc, edit_entry.php3, functions.inc, mincals.inc,
	  trailer.inc, view_entry.php3:
	  
	  Add control over start of week day (Sunday or Monday) and how the
	  days are presented (Jul 19 or 19 Jul). Defaults are Sunday and
	  month date. Also fix so that day names are shown in selected
	  language and that the translation of hours, minutes, ... are
	  according to the lang file.

2001-01-24 00:16  Bo Kleve <bokleve@users.sourceforge.net>

	* [r142] admin.php3, day.php3, edit_area_room.php3[ADD],
	  edit_entry.php3, edit_entry_handler.php3, lang.sv[ADD],
	  mrbs_sql.inc, view_entry.php3:
	  
	  Added Swedish language file. Modifications to admin.php3 Add
	  possibility to edit area and room descriptions
	  edit_area_room.php3 used with modified admin.php3 lang.sv Added
	  Swedish language file day.php3 Fix all day bookings, escape
	  characters in text and duplicate mini- calendars when nonexistent
	  date is selected. Show rooms sorted by names. edit_entry.php3 Fix
	  escape characters showing in text edit_entry_handler.php3 Fix
	  duplicate entries when changing a booking mrbs_sql.inc Modifying
	  an entry allowed for intruding on other bookings. Weekly bookings
	  could not be made for Sundays if Saturdays also booked.
	  view_entry.php3 Fix escape characters showing in text

2000-11-29 20:50  Daniel <nambit@users.sourceforge.net>

	* [r141] ChangeLog:
	  
	  Claus roxen stuff

2000-11-29 20:42  Daniel <nambit@users.sourceforge.net>

	* [r140] ROXEN[ADD], auth_cookie_ext.inc[ADD], mrbs.css:
	  
	  Claus Jeppesen's roxen stuff

2000-09-13 10:28  Sam Mason <sam_mason@users.sourceforge.net>

	* [r139] lang.en:
	  
	  Better text

2000-09-13 09:00  Sam Mason <sam_mason@users.sourceforge.net>

	* [r138] search.php3:
	  
	  Better searching

2000-09-08 08:44  Sam Mason <sam_mason@users.sourceforge.net>

	* [r137] view_entry.php3:
	  
	  Now displays the room + area

2000-09-08 08:24  Sam Mason <sam_mason@users.sourceforge.net>

	* [r136] edit_entry_handler.php3, mrbs_sql.inc:
	  
	  Another bug in the repeat entry code

2000-09-08 08:23  Sam Mason <sam_mason@users.sourceforge.net>

	* [r135] auth_ext.inc, lang.en:
	  
	  Added a "room" entry

2000-09-05 20:10  Sam Mason <sam_mason@users.sourceforge.net>

	* [r129] view_entry.php3:
	  
	  Language updates

2000-09-05 09:33  Sam Mason <sam_mason@users.sourceforge.net>

	* [r128] mrbs_auth.inc:
	  
	  One less warning

2000-09-04 08:20  Sam Mason <sam_mason@users.sourceforge.net>

	* [r126] lang.es:
	  
	  Updated by "Dised Sistemas <dised@arrakis.es>"

2000-09-04 08:19  Sam Mason <sam_mason@users.sourceforge.net>

	* [r125] config.inc:
	  
	  Added some sanity checks

2000-08-18 11:37  Sam Mason <sam_mason@users.sourceforge.net>

	* [r120] mrbs_sql.inc:
	  
	  Should work now

2000-08-18 11:26  Sam Mason <sam_mason@users.sourceforge.net>

	* [r119] help.php3:
	  
	  Why did I take this outls

2000-08-18 11:04  Sam Mason <sam_mason@users.sourceforge.net>

	* [r118] edit_entry.php3, functions.inc:
	  
	  Put "<?=" back to "<? echo" for compatibility

2000-08-18 10:53  Sam Mason <sam_mason@users.sourceforge.net>

	* [r117] edit_entry.php3, functions.inc:
	  
	  Put "<?=" back to "<? echo" for compatibility

2000-08-18 08:15  Sam Mason <sam_mason@users.sourceforge.net>

	* [r116] auth_ip.inc:
	  
	  More PHP warning fixes

2000-08-17 20:08  Sam Mason <sam_mason@users.sourceforge.net>

	* [r115] admin.php3, search.php3, view_entry.php3:
	  
	  More PHP warning fixes

2000-08-17 20:06  Sam Mason <sam_mason@users.sourceforge.net>

	* [r114] edit_entry_handler.php3, search.php3:
	  
	  More PHP warning fixes

2000-08-17 19:56  Sam Mason <sam_mason@users.sourceforge.net>

	* [r113] auth_ext.inc:
	  
	  More PHP warning fixes

2000-08-17 19:37  Sam Mason <sam_mason@users.sourceforge.net>

	* [r112] edit_entry.php3, edit_entry_handler.php3:
	  
	  More PHP warning fixes

2000-08-17 19:30  Sam Mason <sam_mason@users.sourceforge.net>

	* [r111] edit_entry.php3:
	  
	  More PHP waning fixes

2000-08-17 14:59  Sam Mason <sam_mason@users.sourceforge.net>

	* [r110] admin.php3, auth_ext.inc, config.inc, day.php3, del.php3,
	  del_entry.php3, edit_entry.php3, edit_entry_handler.php3,
	  functions.inc, help.php3, lang.en, mincals.inc, mrbs_auth.inc,
	  mrbs_sql.inc, search.php3, style.inc, trailer.inc,
	  view_entry.php3:
	  
	  Major change to remove most of the warnings from the code

2000-08-10 12:45  Sam Mason <sam_mason@users.sourceforge.net>

	* [r109] AUTHENTICATION, auth_ldapsearch.pl:
	  
	  better ldapsearch support

2000-08-10 09:18  Sam Mason <sam_mason@users.sourceforge.net>

	* [r108] lang.en, search.php3:
	  
	  Better language support

2000-08-10 09:02  Sam Mason <sam_mason@users.sourceforge.net>

	* [r107] help.php3:
	  
	  Put "Meeting room booking system" into the subject line
	  automagically

2000-08-10 09:01  Sam Mason <sam_mason@users.sourceforge.net>

	* [r106] search.php3:
	  
	  Get it to behave nicely at the beginning and end of the search

2000-08-10 09:00  Sam Mason <sam_mason@users.sourceforge.net>

	* [r105] site_faq.html:
	  
	  get the links all working

2000-08-09 17:35  Sam Mason <sam_mason@users.sourceforge.net>

	* [r104] AUTHENTICATION, ChangeLog, README:
	  
	  a few final updates

2000-08-09 17:24  Sam Mason <sam_mason@users.sourceforge.net>

	* [r103] mrbs_auth.inc:
	  
	  the ultimate one liner

2000-08-09 17:04  Sam Mason <sam_mason@users.sourceforge.net>

	* [r102] head.gif[DEL]:
	  
	  We have a nice banner now, no need for this

2000-08-09 17:02  Sam Mason <sam_mason@users.sourceforge.net>

	* [r101] mrbs.css:
	  
	  looks better now

2000-08-09 17:00  Sam Mason <sam_mason@users.sourceforge.net>

	* [r100] help.php3[ADD]:
	  
	  added help finally

2000-08-09 13:13  Sam Mason <sam_mason@users.sourceforge.net>

	* [r98] AUTHENTICATION, ChangeLog, INSTALL, add.php3, admin.php3,
	  auth_ldapsearch.pl[ADD], config.inc, day.php3, del.php3,
	  del_entry.php3, edit_entry.php3, edit_entry_handler.php3,
	  functions.inc, lang.en, mrbs_auth.inc, search.php3[ADD],
	  site_faq.html[ADD], style.inc, view_entry.php3:
	  
	  A big change of most things

2000-08-03 15:00  Sam Mason <sam_mason@users.sourceforge.net>

	* [r97] AUTHENTICATION, badpw.pl:
	  
	  Improved the documentation a bit

2000-08-01 12:25  Sam Mason <sam_mason@users.sourceforge.net>

	* [r96] day.php3, functions.inc:
	  
	  UI updates

2000-08-01 11:50  Sam Mason <sam_mason@users.sourceforge.net>

	* [r95] edit_entry_handler.php3:
	  
	  Was not passing the correct number of paremeters

2000-07-27 09:54  Sam Mason <sam_mason@users.sourceforge.net>

	* [r93] ChangeLog:
	  
	  0.8.1

2000-07-27 09:48  Sam Mason <sam_mason@users.sourceforge.net>

	* [r92] day.php3:
	  
	  Better handling of areas

2000-07-27 09:36  Sam Mason <sam_mason@users.sourceforge.net>

	* [r91] del_entry.php3, edit_entry_handler.php3, mrbs_sql.inc:
	  
	  Better handling of areas

2000-07-26 18:35  Sam Mason <sam_mason@users.sourceforge.net>

	* [r90] mrbs_sql.inc:
	  
	  removed unused parameter

2000-07-26 17:46  Sam Mason <sam_mason@users.sourceforge.net>

	* [r89] config.inc, edit_entry_handler.php3:
	  
	  Brings up an error if you try and create too many options

2000-07-26 16:49  Sam Mason <sam_mason@users.sourceforge.net>

	* [r87] ChangeLog:
	  
	  version 0.8

2000-07-26 16:42  Sam Mason <sam_mason@users.sourceforge.net>

	* [r86] del_entry.php3, mrbs_sql.inc:
	  
	  Better repeat entry handling

2000-07-26 16:32  Sam Mason <sam_mason@users.sourceforge.net>

	* [r85] edit_entry.php3:
	  
	  "Edit Series" works even if you did not modify the first entry

2000-07-26 16:22  Sam Mason <sam_mason@users.sourceforge.net>

	* [r84] mrbs_sql.inc:
	  
	  Allow "Edit Series" to work.

2000-07-21 11:53  Sam Mason <sam_mason@users.sourceforge.net>

	* [r83] functions.inc:
	  
	  Better year chooser.

2000-07-20 09:56  Sam Mason <sam_mason@users.sourceforge.net>

	* [r81] ChangeLog:
	  
	  new release

2000-07-20 09:07  Sam Mason <sam_mason@users.sourceforge.net>

	* [r80] view_entry.php3:
	  
	  Keep it in sync with the creation in "edit_entry_handler"

2000-07-20 09:06  Sam Mason <sam_mason@users.sourceforge.net>

	* [r79] mrbs_sql.inc:
	  
	  Nicer listing of conflicting entrys

2000-07-20 09:05  Sam Mason <sam_mason@users.sourceforge.net>

	* [r78] lang.en:
	  
	  Keeping in sync with the rest of the code

2000-07-20 09:04  Sam Mason <sam_mason@users.sourceforge.net>

	* [r77] edit_entry_handler.php3:
	  
	  Various date/time handling improvements

2000-07-19 15:02  Sam Mason <sam_mason@users.sourceforge.net>

	* [r76] view_entry.php3:
	  
	  Handle HTML chars in the users fields better

2000-07-19 15:01  Sam Mason <sam_mason@users.sourceforge.net>

	* [r75] trailer.inc:
	  
	  a few "copy+paste" problems

2000-07-19 14:59  Sam Mason <sam_mason@users.sourceforge.net>

	* [r74] day.php3:
	  
	  Make small (0 hours) entrys work

2000-07-19 14:30  Sam Mason <sam_mason@users.sourceforge.net>

	* [r73] edit_entry.php3:
	  
	  Stop the repeat days from getting muddled up.

2000-07-18 10:40  Sam Mason <sam_mason@users.sourceforge.net>

	* [r72] auth_ldap.inc:
	  
	  CRLF conversion done

2000-07-18 10:23  Sam Mason <sam_mason@users.sourceforge.net>

	* [r71] auth_ldap.inc:
	  
	  Better cleanup

2000-07-18 10:22  Sam Mason <sam_mason@users.sourceforge.net>

	* [r70] edit_entry_handler.php3:
	  
	  Nicer page displayed when there is a conflicting entry

2000-07-18 10:21  Sam Mason <sam_mason@users.sourceforge.net>

	* [r69] day.php3:
	  
	  removed some old debugging code

2000-07-17 13:48  Sam Mason <sam_mason@users.sourceforge.net>

	* [r68] AUTHENTICATION, auth_ldap.inc[ADD], config.inc:
	  
	  Added a new LDAP authenticatication method.

2000-07-17 08:00  Sam Mason <sam_mason@users.sourceforge.net>

	* [r67] mrbs_sql.inc:
	  
	  Fix for older versions of PHP (PRE 4)

2000-07-13 10:53  Sam Mason <sam_mason@users.sourceforge.net>

	* [r66] ChangeLog:
	  
	  Updated

2000-07-13 10:35  Sam Mason <sam_mason@users.sourceforge.net>

	* [r65] edit_entry_handler.php3:
	  
	  Better colision detection.

2000-07-13 10:23  Sam Mason <sam_mason@users.sourceforge.net>

	* [r64] mrbs_sql.inc[ADD]:
	  
	  Beginning of database independence

2000-07-13 10:22  Sam Mason <sam_mason@users.sourceforge.net>

	* [r63] day.php3, mincals.inc, trailer.inc:
	  
	  General time/date handling updates.

2000-07-12 15:25  Sam Mason <sam_mason@users.sourceforge.net>

	* [r61] AUTHENTICATION, ChangeLog, LANGUAGE, README, UPGRADE,
	  config.inc, day.php3, del_entry.php3, edit_entry.php3,
	  edit_entry_handler.php3, functions.inc, lang.de, lang.en,
	  lang.fr[ADD], mincals.inc, mrbs_auth.inc, tables.sql,
	  view_entry.php3:
	  
	  A nice big change to implement "Repeat bookings".
	  
	  + a few other minor changes.

2000-06-22 11:30  Daniel <nambit@users.sourceforge.net>

	* [r58] ChangeLog, mincals.inc:
	  
	  Fixed bug where the wrong months would be shown sometimes

2000-06-21 13:53  Daniel <nambit@users.sourceforge.net>

	* [r56] AUTHENTICATION, ChangeLog, auth_ldap.pl[ADD]:
	  
	  LDAP Auth

2000-06-21 11:43  Daniel <nambit@users.sourceforge.net>

	* [r54] ChangeLog:
	  
	  Release 0.8-pre2

2000-06-21 11:42  Daniel <nambit@users.sourceforge.net>

	* [r53] AUTHENTICATION, ChangeLog, auth_ext.inc:
	  
	  Changes for netware auth

2000-06-21 10:53  Daniel <nambit@users.sourceforge.net>

	* [r52] lang.zh-tw:
	  
	  Updated for 0.8-pre1

2000-06-21 07:18  Daniel <nambit@users.sourceforge.net>

	* [r51] ChangeLog, LANGUAGE, lang.es[ADD]:
	  
	  Added Spanish language file

2000-06-21 07:14  Daniel <nambit@users.sourceforge.net>

	* [r50] ChangeLog, LANGUAGE, lang.nl[ADD]:
	  
	  Added Dutch language file

2000-06-20 08:46  Daniel <nambit@users.sourceforge.net>

	* [r49] AUTHENTICATION, ChangeLog, auth.inc[DEL], del_entry.php3,
	  edit_entry.php3, edit_entry_handler.php3, mrbs_auth.inc[ADD],
	  view_entry.php3:
	  
	  Rename auth.inc to mrbs_auth.inc to stop conflicts with phplib

2000-06-19 08:30  Daniel <nambit@users.sourceforge.net>

	* [r48] ChangeLog, LANGUAGE, lang.de[ADD]:
	  
	  Added German language

2000-06-16 17:23  Daniel <nambit@users.sourceforge.net>

	* [r47] ChangeLog, LANGUAGE, lang.en, lang.ja, lang.zh-tw[ADD],
	  style.inc:
	  
	  Added Chinese language file

2000-06-16 08:36  Daniel <nambit@users.sourceforge.net>

	* [r45] AUTHENTICATION[ADD], ChangeLog, FAQ[DEL], INSTALL, README,
	  auth.inc[ADD], auth_ext.inc[ADD], auth_ip.inc[ADD],
	  badpw.pl[ADD], config.inc, del_entry.php3, edit_entry.php3,
	  edit_entry_handler.php3, functions.inc, help_trailer.inc[DEL],
	  lang.en, lang.ja, smb_auth.c[ADD], trailer.inc, view_entry.php3:
	  
	  User-based authentication supported (see AUTHENTICATION) Better
	  support for bookings spanning multiple days User can specify
	  "Whole Day" bookings Units other than "Hours" are supported
	  (Mins, Hours, Days, Weeks) Thanks to Sam Mason
	  <smason@mtc.ricardo.com> for much of this

2000-06-14 09:07  Daniel <nambit@users.sourceforge.net>

	* [r44] ChangeLog, day.php3:
	  
	  Meetings longer than one day show the name on following days

2000-06-13 09:02  Daniel <nambit@users.sourceforge.net>

	* [r43] circle.gif[DEL]:
	  
	  Removed unused circle.gif

2000-06-13 09:00  Daniel <nambit@users.sourceforge.net>

	* [r42] login.php3[DEL]:
	  
	  Removed unused login.php3

2000-06-12 12:50  Daniel <nambit@users.sourceforge.net>

	* [r39] ChangeLog:
	  
	  0.7 release

2000-06-12 12:43  Daniel <nambit@users.sourceforge.net>

	* [r38] ChangeLog:
	  
	  DB uses unixtime

2000-06-12 12:42  Daniel <nambit@users.sourceforge.net>

	* [r37] INSTALL, UPGRADE[ADD], day.php3, edit_entry.php3,
	  edit_entry_handler.php3, tables.sql, testdata.php3,
	  upgrade.sql[ADD], view_entry.php3:
	  
	  Changed DB to use unixtime rather than mysql date/time datatype.

2000-06-12 10:28  Daniel <nambit@users.sourceforge.net>

	* [r36] ChangeLog:
	  
	  Support for strftime()

2000-06-12 09:13  Daniel <nambit@users.sourceforge.net>

	* [r27] INSTALL, LANGUAGE, config.inc, day.php3, lang.en,
	  mincals.inc, trailer.inc, view_entry.php3:
	  
	  Changes to strftime() rather than date() for some strings, so
	  that locale support can be used.

2000-06-09 18:16  Daniel <nambit@users.sourceforge.net>

	* [r26] config.inc, day.php3, mincals.inc:
	  
	  start move to locale-based time strings (strftime)

2000-06-06 16:55  Daniel <nambit@users.sourceforge.net>

	* [r25] mrbs.css:
	  
	  Change external meeting colour to something darker. The old one
	  can only just be seen on an LCD panel

2000-06-05 15:23  Daniel <nambit@users.sourceforge.net>

	* [r24] ChangeLog, mincals.inc, mrbs.css:
	  
	  New code for three month calendars. Thanks to David Wilkinson,
	  see http://www.cascade.org.uk/software/php/calendar/

2000-06-05 11:31  Daniel <nambit@users.sourceforge.net>

	* [r23] day.php3, mrbs.css:
	  
	  Fixed a couple of small bugs with the Internal/External colour
	  support

2000-06-03 18:56  Daniel <nambit@users.sourceforge.net>

	* [r22] ChangeLog, day.php3, mrbs.css:
	  
	  Internal and External meetings show in different colours

2000-05-31 21:47  Daniel <nambit@users.sourceforge.net>

	* [r21] lang.en:
	  
	  Update [time]

2000-05-30 18:49  Daniel <nambit@users.sourceforge.net>

	* [r20] lang.ja[ADD]:
	  
	  Japanese support

2000-05-30 18:49  Daniel <nambit@users.sourceforge.net>

	* [r19] ChangeLog, config.inc, day.php3:
	  
	  Moved "resolution" to config file - so length of booking
	  displayed can be varied

2000-05-30 18:41  Daniel <nambit@users.sourceforge.net>

	* [r18] ChangeLog:
	  
	  Japanese support

2000-05-30 18:40  Daniel <nambit@users.sourceforge.net>

	* [r17] lang.en, view_entry.php3:
	  
	  Updates for Japanese

2000-05-29 17:16  Daniel <nambit@users.sourceforge.net>

	* [r16] ChangeLog, INSTALL, LANGUAGE[ADD], admin.php3, config.inc,
	  day.php3, edit_entry.php3, edit_entry_handler.php3, lang.en[ADD],
	  style.inc, trailer.inc, view_entry.php3:
	  
	  Moved language-specific strings into external file.

2000-05-28 19:28  Daniel <nambit@users.sourceforge.net>

	* [r15] INSTALL:
	  
	  Added stuff about mySQL 3.23 not working

2000-05-28 15:22  Daniel <nambit@users.sourceforge.net>

	* [r14] TODO[DEL]:
	  
	  Removed useless TODO file

2000-05-28 15:12  Daniel <nambit@users.sourceforge.net>

	* [r13] ChangeLog, day.php3:
	  
	  Fixed areas with no rooms causing major error messages

2000-05-28 13:15  Daniel <nambit@users.sourceforge.net>

	* [r12] FAQ[ADD], README:
	  
	  Documentation update

2000-05-27 08:29  Daniel <nambit@users.sourceforge.net>

	* [r10] .htaccess[ADD], ChangeLog, INSTALL, config.inc, day.php3,
	  edit_entry.php3, edit_entry_handler.php3, needed_files[DEL]:
	  
	  Fixed bug in edit_entry_handler.php3 which made any booking made
	  between the 1st and 9th of the month actually happen on the 1st
	  of Jan for that year Fixed bug in day.php3 where any booking past
	  midnight would not show up Related bug which meant that bookings
	  longer than one day wouldn't be displayed. Fixed bug where
	  editing a booking would default to today's date, not the
	  booking's date Added .htaccess to protect .inc files Moved start
	  and end of day config variables to config.inc

2000-05-21 11:08  Daniel <nambit@users.sourceforge.net>

	* [r8] ChangeLog:
	  
	  Admin added. Now OK to use

2000-05-21 11:03  Daniel <nambit@users.sourceforge.net>

	* [r7] add.php3[ADD], del.php3[ADD]:
	  
	  First version of files needed for admin

2000-05-21 11:02  Daniel <nambit@users.sourceforge.net>

	* [r6] INSTALL, README, admin.php3[ADD], edit_entry_handler.php3,
	  meetingroomsystem.gif[DEL], tables.sql, testdata.php3:
	  
	  Various fixes and doc updates

2000-05-20 21:43  Daniel <nambit@users.sourceforge.net>

	* [r5] ChangeLog, TODO[ADD], config.inc, day.php3, del_entry.php3,
	  edit_entry.php3, edit_entry_handler.php3:
	  
	  The system now works! There's no administration stuff, but the
	  user pages are OK

2000-05-03 22:41  Daniel <nambit@users.sourceforge.net>

	* [r3] COPYING[CPY], ChangeLog[CPY], INSTALL[CPY], README[CPY],
	  circle.gif[CPY], config.inc[CPY], connect.inc[CPY],
	  day.php3[CPY], del_entry.php3[CPY], edit_entry.php3[CPY],
	  edit_entry_handler.php3[CPY], functions.inc[CPY], head.gif[CPY],
	  help_trailer.inc[CPY], index.php3[CPY], login.php3[CPY],
	  meetingroomsystem.gif[CPY], mincals.inc[CPY], mrbs.css[CPY],
	  needed_files[CPY], new.gif[CPY], style.inc[CPY], tables.sql[CPY],
	  testdata.php3[CPY], trailer.inc[CPY], view_entry.php3[CPY]:
	  
	  This commit was generated by cvs2svn to compensate for changes in
	  r2, which included commits to RCS files with non-trunk default
	  branches.

2000-05-03 22:41  

	* [r1] .[ADD]:
	  
	  Standard project directories initialized by cvs2svn.

